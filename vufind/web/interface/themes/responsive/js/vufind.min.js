/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
*/(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)
}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem)}},delay)}):orig.apply(this,arguments)}}($.fn.focus),scrollParent:function(){var scrollParent;if($.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){scrollParent=this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0)}else{scrollParent=this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex)}if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value}}elem=elem.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++uuid}})},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id")}})}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false}img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img)}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"}).length}$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0}if(margin){size-=parseFloat($.css(elem,"margin"+this))||0}});return size}$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this)}return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size)}return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px")})}})}if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key))}else{return removeData.call(this)}}}($.fn.removeData)}$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return}for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args)}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false}var scroll=a&&a==="left"?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true}el[scroll]=1;has=el[scroll]>0;el[scroll]=0;return has}})})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove")}catch(e){}}_cleanData(elems)};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element)}if(arguments.length){this._createWidget(options,element)}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base;basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return}proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue}}()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else{base._childConstructors.push(constructor)}$.widget.bridge(name,constructor)};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value)}else{target[key]=value}}}}return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'")}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance")}methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false}})}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init()}else{$.data(this,fullName,new object(options,this))}})}return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy()}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options)}if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key]}curOption[key]=value}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key]}options[key]=value}}this._setOptions(options);return this},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key])}return this},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return}return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++}var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy)}else{element.bind(eventName,handlerProxy)}})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName)},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop]}}}this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options}}var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options}}hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay)}if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options)}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback)}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0])}next()})}}})})(jQuery);(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false});$.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(event){if(mouseHandled){return}this._mouseStarted&&this._mouseUp(event);this._mouseDownEvent=event;var that=this,btnIsLeft=event.which===1,elIsCancel=typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false;if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(event)!==false;if(!this._mouseStarted){event.preventDefault();return true}}if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(event){return that._mouseMove(event)};this._mouseUpDelegate=function(event){return that._mouseUp(event)};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event)}if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault()}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==false;this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)}return!this._mouseStarted},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(event)}return false},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}}if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}}if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}}return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth}var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth}div.remove();return cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||overflowX==="auto"&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY==="scroll"||overflowY==="auto"&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments)}options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top"}targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]}pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]});if(collision.length===1){collision[1]=collision[0]}if(options.at[0]==="right"){basePosition.left+=targetWidth}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2}if(options.at[1]==="bottom"){basePosition.top+=targetHeight}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2}atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth}else if(options.my[0]==="center"){position.left-=elemWidth/2}if(options.my[1]==="bottom"){position.top-=elemHeight}else if(options.my[1]==="center"){position.top-=elemHeight/2}position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top)}collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center"}if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle"}if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal"}else{feedback.important="vertical"}options.using.call(this,props,feedback)}}elem.offset($.extend(position,{using:using}))})};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else if(overRight>0&&overLeft<=0){position.left=withinOffset}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth}else{position.left=withinOffset}}}else if(overLeft>0){position.left+=overLeft}else if(overRight>0){position.left-=overRight}else{position.left=max(position.left-collisionPosLeft,position.left)}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else if(overBottom>0&&overTop<=0){position.top=withinOffset}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight}else{position.top=withinOffset}}}else if(overTop>0){position.top+=overTop}else if(overBottom>0){position.top-=overBottom}else{position.top=max(position.top-collisionPosTop,position.top)}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(position.top+myOffset+atOffset+offset>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(position.top+myOffset+atOffset+offset>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments)}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"})}for(i in testElementStyle){testElement.style[i]=testElementStyle[i]}testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement)})()})(jQuery);(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(event);if(!this.handle){return false}$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")});return true},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this._setContainment();if(this._trigger("start",event)===false){this._clear();return false}this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event)}return true},_mouseDrag:function(event,noPropagation){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false}this.position=ui.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if($.ui.ddmanager){$.ui.ddmanager.drag(this,event)
}return false},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event)}if(this.dropped){dropped=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!$.contains(this.element[0].ownerDocument,this.element[0])){return false}if(this.options.revert==="invalid"&&!dropped||this.options.revert==="valid"&&dropped||this.options.revert===true||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear()}})}else{if(this._trigger("stop",event)!==false){this._clear()}}return false},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event)}return $.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):o.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!helper.parents("body").length){helper.appendTo(o.appendTo==="parent"?this.element[0].parentNode:o.appendTo)}if(helper[0]!==this.element[0]&&!/(fixed|absolute)/.test(helper.css("position"))){helper.css("position","absolute")}return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ")}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0}}if("left"in obj){this.offset.click.left=obj.left+this.margins.left}if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left}if("top"in obj){this.offset.click.top=obj.top+this.margins.top}if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top}},_getParentOffset:function(){var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie){po={top:0,left:0}}return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var over,c,ce,o=this.options;if(!o.containment){this.containment=null;return}if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment.constructor===Array){this.containment=o.containment;return}if(o.containment==="parent"){o.containment=this.helper[0].parentNode}c=$(o.containment);ce=c[0];if(!ce){return}over=c.css("overflow")!=="hidden";this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c},_convertPositionTo:function(d,pos){if(!pos){pos=this.position}var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()}}return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*mod}},_generatePosition:function(event){var containment,co,top,left,o=this.options,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,pageX=event.pageX,pageY=event.pageY;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else{containment=this.containment}if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left}if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top}if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left}if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top}}if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3]?top:top-this.offset.click.top>=containment[1]?top-o.grid[1]:top+o.grid[1]:top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2]?left:left-this.offset.click.left>=containment[0]?left-o.grid[0]:left+o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return $.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("ui-draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"ui-sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable)}})},stop:function(event,ui){var inst=$(this).data("ui-draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable)}})},drag:function(event,ui){var inst=$(this).data("ui-draggable"),that=this;$.each(inst.sortables,function(){var innermostIntersecting=false,thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this!==thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(thisSortable.instance.element[0],this.instance.element[0])){innermostIntersecting=false}return innermostIntersecting})}if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0]};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst}if(this.instance.currentItem){this.instance._mouseDrag(event)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}inst._trigger("fromSortable",event);inst.dropped=false}}})}});$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),o=$(this).data("ui-draggable").options;if(t.css("cursor")){o._cursor=t.css("cursor")}t.css("cursor",o.cursor)},stop:function(){var o=$(this).data("ui-draggable").options;if(o._cursor){$("body").css("cursor",o._cursor)}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("opacity")){o._opacity=t.css("opacity")}t.css("opacity",o.opacity)},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._opacity){$(ui.helper).css("opacity",o._opacity)}}});$.ui.plugin.add("draggable","scroll",{start:function(){var i=$(this).data("ui-draggable");if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){i.overflowOffset=i.scrollParent.offset()}},drag:function(event){var i=$(this).data("ui-draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if(i.overflowOffset.top+i.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed}}if(!o.axis||o.axis!=="y"){if(i.overflowOffset.left+i.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed)}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)}}if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed)}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)}}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event)}}});$.ui.plugin.add("draggable","snap",{start:function(){var i=$(this).data("ui-draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})}})},drag:function(event,ui){var ts,bs,ls,rs,l,r,t,b,i,first,inst=$(this).data("ui-draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}))}inst.snapElements[i].snapping=false;continue}if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top}if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top}if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left}if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left}}first=ts||bs||ls||rs;if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top}if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top}if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left}if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left}}if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}))}inst.snapElements[i].snapping=ts||bs||ls||rs||first}}});$.ui.plugin.add("draggable","stack",{start:function(){var min,o=this.data("ui-draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(!group.length){return}min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i)});this.css("zIndex",min+group.length)}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("zIndex")){o._zIndex=t.css("zIndex")}t.css("zIndex",o.zIndex)},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex)}}})})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return x>reference&&x<reference+size}$.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)};this.proportions=function(){if(arguments.length){proportions=arguments[0]}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[];$.ui.ddmanager.droppables[o.scope].push(this);o.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var i=0,drop=$.ui.ddmanager.droppables[this.options.scope];for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value)}}$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(draggable){this._trigger("activate",event,this.ui(draggable))}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(draggable){this._trigger("deactivate",event,this.ui(draggable))}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",event,this.ui(draggable))}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",event,this.ui(draggable))}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"ui-droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false}});if(childrenIntersection){return false}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",event,this.ui(draggable));return this.element}return false},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false}var draggableLeft,draggableTop,x1=(draggable.positionAbs||draggable.position.absolute).left,y1=(draggable.positionAbs||draggable.position.absolute).top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":draggableLeft=(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left;draggableTop=(draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top;return isOverAxis(draggableTop,t,droppable.proportions().height)&&isOverAxis(draggableLeft,l,droppable.proportions().width);case"touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);default:return false}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element)){continue}for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop}}m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue}if(type==="mousedown"){m[i]._activate.call(m[i],event)}m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight})}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this._drop.call(this,event)||dropped}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this.isout=true;this.isover=false;this._deactivate.call(this,event)}});return dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}})},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=!intersects&&this.isover?"isout":intersects&&!this.isover?"isover":null;if(!c){return}if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===scope});if(parent.length){parentInstance=$.data(parent[0],"ui-droppable");parentInstance.greedyChild=c==="isover"}}if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event)}this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event)}})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}}}})(jQuery);(function($,undefined){function num(v){return parseInt(v,10)||0}function isNumber(value){return!isNaN(parseInt(value,10))}$.widget("ui.resizable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis)}}this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize()}if(!$(this.handles[i]).length){continue}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}that.axis=axis&&axis[1]?axis[1]:"se"}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return}$(this).removeClass("ui-resizable-autohide");that._handles.show()}).mouseleave(function(){if(o.disabled){return}if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove()}this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true}}return!this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;if(/absolute/.test(el.css("position"))){el.css({position:"absolute",top:el.css("top"),left:el.css("left")})}else if(el.is(".ui-draggable")){el.css({position:"absolute",top:iniPos.top,left:iniPos.left})}this._renderProxy();curleft=num(this.helper.css("left"));curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];if(!trigger){return false}data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event)}data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);if(this.position.top!==prevTop){props.top=this.position.top+"px"}if(this.position.left!==prevLeft){props.left=this.position.left+"px"}if(this.size.width!==prevWidth){props.width=this.size.width+"px"}if(this.size.height!==prevHeight){props.height=this.size.height+"px"}el.css(props);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!$.isEmptyObject(props)){this._trigger("resize",event,this.ui())}return false},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&/textarea/i.test(pr[0].nodeName);soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth};left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null;top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null;
if(!o.animate){this.element.css($.extend(s,{top:top,left:left}))}that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize()}}$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth}if(pMinHeight>b.minHeight){b.minHeight=pMinHeight}if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth}if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight}}this._vBoundaries=b},_updateCache:function(data){this.offset=this.helper.offset();if(isNumber(data.left)){this.position.left=data.left}if(isNumber(data.top)){this.position.top=data.top}if(isNumber(data.height)){this.size.height=data.height}if(isNumber(data.width)){this.size.width=data.width}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height)){data.width=data.height*this.aspectRatio}else if(isNumber(data.width)){data.height=data.width/this.aspectRatio}if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null}if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width)}return data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth}if(isminh){data.height=o.minHeight}if(ismaxw){data.width=o.maxWidth}if(ismaxh){data.height=o.maxHeight}if(isminw&&cw){data.left=dw-o.minWidth}if(ismaxw&&cw){data.left=dw-o.maxWidth}if(isminh&&ch){data.top=dh-o.minHeight}if(ismaxh&&ch){data.top=dh-o.maxHeight}if(!data.width&&!data.height&&!data.left&&data.top){data.top=null}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null}return data},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")];paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];for(j=0;j<borders.length;j++){this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0)}}prel.css({height:element.height()-this.borderDif[0]-this.borderDif[2]||0,width:element.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);n!=="resize"&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height})}that._updateCache(data);that._propagate("resize",event)}})}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(!ce){return}that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name))});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw;height=$.ui.hasScroll(ce)?ce.scrollHeight:ch;that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!==document&&/static/.test(ce.css("position"))){cop=co}if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left);if(pRatio){that.size.height=that.size.width/that.aspectRatio}that.position.left=o.helper?co.left:0}if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio}that.position.top=that._helper?co.top:0}that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;woset=Math.abs((that._helper?that.offset.left-cop.left:that.offset.left-cop.left)+that.sizeDiff.width);hoset=Math.abs((that._helper?that.offset.top-cop.top:that.offset.top-co.top)+that.sizeDiff.height);isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){woset-=Math.abs(that.parentData.left)}if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio}}if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio}}},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&/relative/.test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}if(that._helper&&!o.animate&&/static/.test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})};if(typeof o.alsoResize==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize)}else{$.each(o.alsoResize,function(exp){_store(exp)})}}else{_store(o.alsoResize)}},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null}});el.css(style)})};if(typeof o.alsoResize==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c)})}else{_alsoResize(o.alsoResize)}},stop:function(){$(this).removeData("resizable-alsoresize")}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).data("ui-resizable");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})}},stop:function(){var that=$(this).data("ui-resizable");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0))}}});$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid;if(isMinWidth){newWidth=newWidth+gridX}if(isMinHeight){newHeight=newHeight+gridY}if(isMaxWidth){newWidth=newWidth-gridX}if(isMaxHeight){newHeight=newHeight-gridY}if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox}else{if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy}else{that.size.height=gridY;that.position.top=op.top+os.height-gridY}if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox}else{that.size.width=gridX;that.position.left=op.left+os.width-gridX}}}})})(jQuery);(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];if(this.options.disabled){return}this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({left:event.pageX,top:event.pageY,width:0,height:0});if(options.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element})}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element})}else{that._trigger("unselecting",event,{unselecting:selectee.element})}return false}})},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return}var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp}if(y1>y2){tmp=y2;y2=y1;y1=tmp}this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false;if(!selectee||selectee.element===that.element[0]){return}if(options.tolerance==="touch"){hit=!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1)}else if(options.tolerance==="fit"){hit=selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2}if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");selectee.selected=false}if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false}if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element})}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true}else{selectee.$element.removeClass("ui-selecting");selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true}that._trigger("unselecting",event,{unselecting:selectee.element})}}if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element})}}}});return false},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element})});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element})});this._trigger("stop",event);this.helper.remove();return false}})})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return x>reference&&x<reference+size}function isFloating(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))}$.widget("ui.sortable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item")}return this},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value)}else{$.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target)}if(!currentItem){return false}if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true}});if(!validHandle){return false}}this.currentItem=currentItem;this._removeCurrentsFromItems();return true},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this))}}if($.ui.ddmanager){$.ui.ddmanager.current=this}if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed)}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)}if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed)}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue}if(item.instance!==this.currentContainer){continue}if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item)}else{break}this._trigger("change",event,this._uiHash());break}}this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event)}this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(event,noPropagation){if(!event){return}if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event)}if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else{this._clear(event,noPropagation)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem)}else{$(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[\-=_](.+)/);if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}});if(!str.length&&o.key){str.push(o.key+"=")}return str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")});return ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=this.options.axis==="x"||y1+dyClick>t&&y1+dyClick<b,isOverElementWidth=this.options.axis==="y"||x1+dxClick>l&&x1+dxClick<r,isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]){return isOverElement}else{return l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b}},_intersectsWithPointer:function(item){var isOverElementHeight=this.options.axis==="x"||isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=this.options.axis==="y"||isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false}return this.floating?horizontalDirection&&horizontalDirection==="right"||verticalDirection==="down"?2:1:verticalDirection&&(verticalDirection==="down"?2:1)},_intersectsWithSides:function(item){var isOverBottomHalf=isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return horizontalDirection==="right"&&isOverRightHalf||horizontalDirection==="left"&&!isOverRightHalf}else{return verticalDirection&&(verticalDirection==="down"&&isOverBottomHalf||verticalDirection==="up"&&!isOverBottomHalf)}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left")},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}}}}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function addItems(){items.push(this)}for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems)}return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false}}return true})},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst)}}}}for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue}t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;
if(!fast){item.width=t.outerWidth();item.height=t.outerHeight()}p=t.offset();item.left=p.left;item.top=p.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tr"){that.currentItem.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(element)})}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"))}if(!className){element.css("visibility","hidden")}return element},update:function(container,p){if(className&&!o.forcePlaceholderSize){return}if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10))}if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10))}}}}that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder)},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,base,cur,nearBottom,floating,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue}innermostContainer=this.containers[i];innermostIndex=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!innermostContainer){return}if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}}else{dist=1e4;itemWithLeastDistance=null;floating=innermostContainer.floating||isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue}if(this.items[j].item[0]===this.currentItem[0]){continue}if(floating&&!isOverAxis(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height)){continue}cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty]}if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down"}}if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[innermostIndex]){return}itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):o.helper==="clone"?this.currentItem.clone():this.currentItem;if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0])}if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width())}if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height())}return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ")}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0}}if("left"in obj){this.offset.click.left=obj.left+this.margins.left}if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left}if("top"in obj){this.offset.click.top=obj.top+this.margins.top}if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie){po={top:0,left:0}}return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode}if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=$(ce).css("overflow")!=="hidden";this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position}var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left}if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top}if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left}if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top}}if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3]?top:top-this.offset.click.top>=this.containment[1]?top-o.grid[1]:top+o.grid[1]:top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2]?left:left-this.offset.click.left>=this.containment[0]?left-o.grid[0]:left+o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh)}})},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())})}if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())});delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer));delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer))}}function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event)}this._trigger("stop",event,this._uiHash())}this.fromOutside=false;return false}if(!noPropagation){this._trigger("beforeStop",event,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event)}this._trigger("stop",event,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}})})(jQuery);(function($,undefined){$.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return}suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event)}break;case keyCode.TAB:if(this.menu.active){this.menu.select(event)}break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(event);event.preventDefault()}break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault()}return}if(suppressKeyPressRepeat){return}var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return}this._searchTimeout(event)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(event);this._change(event)}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close()}})})}},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)});return}}var item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value)}}else{this.liveRegion.text(item.value)}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item})}if(false!==this._trigger("select",event,{item:item})){this._value(item.value)}this.term=this._value();this.close(event);this.selectedItem=item}});this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource()}if(key==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(key==="disabled"&&value&&this.xhr){this.xhr.abort()}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)}if(!element){element=this.element.closest(".ui-front")}if(!element.length){element=this.document[0].body}return element},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort()}that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}}else{this.source=this.options.source}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,event)}},this.options.delay)},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event)}if(this._trigger("search",event)===false){return}return this._search(value)},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(content){if(content){content=this._normalize(content)}this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open")}else{this._close()}},close:function(event){this.cancelSearch=true;this._close(event)},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event)}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem})}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items}return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item}}return $.extend({label:item.label||item.value,value:item.value||item.label},item)})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").append($("<a>").text(item.label)).appendTo(ul)},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return}if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){this._value(this.term);this.menu.blur();return}this.menu[direction](event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault()}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(content&&content.length){message=this.options.messages.results(content.length)}else{message=this.options.messages.noResults}this.liveRegion.text(message)}})})(jQuery);(function($,undefined){$.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(event){event.preventDefault()},"click .ui-state-disabled > a":function(event){event.preventDefault()},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true}if(target.has(".ui-menu").length){this.expand(event)}else if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(event,target)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.children(".ui-menu-item").eq(0);if(!keepActiveItem){this.focus(event,item)}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest(".ui-menu").length){this.collapseAll(event)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event)}break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true}else{character=prev+character}regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text())});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text())})}if(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(preventDefault){event.preventDefault()}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(event)}else{this.select(event)}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"))});menus=submenus.add(this.element);menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);if(!/[^\-\u2014\u2013\s]/.test(item.text())){item.addClass("ui-widget-content ui-menu-divider")}});menus.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu)}this._super(key,value)},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}nested=item.children(".ui-menu");if(nested.length&&event&&/^mouse/.test(event.type)){this._startOpening(nested)}this.activeMenu=item.parent();this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset)}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight)}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active})},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(submenu)},this.delay)},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element}this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element}startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();
this.focus(event,newItem)}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem)})}},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{next=this.active[direction+"All"](".ui-menu-item").eq(0)}}if(!next||!next.length||!this.active){next=this.activeMenu.children(".ui-menu-item")[filter]()}this.focus(event,next)},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isLastItem()){return}if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0});this.focus(event,item)}else{this.focus(event,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isFirstItem()){return}if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0});this.focus(event,item)}else{this.focus(event,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true)}this._trigger("select",event,ui)}})})(jQuery);
if(typeof jQuery==="undefined"){throw new Error("Bootstrap requires jQuery")}+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}}$.fn.emulateTransitionEnd=function(duration){var called=false,$el=this;$(this).one($.support.transition.end,function(){called=true});var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd()})}(jQuery);+function($){"use strict";var dismiss='[data-dismiss="alert"]';var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector);if(e)e.preventDefault();if(!$parent.length){$parent=$this.hasClass("alert")?$this:$this.parent()}$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.trigger("closed.bs.alert").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement()};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.alert");if(!data)$this.data("bs.alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})};$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery);+function($){"use strict";var Button=function(element,options){this.$element=$(element);this.options=$.extend({},Button.DEFAULTS,options)};Button.DEFAULTS={loadingText:"loading..."};Button.prototype.setState=function(state){var d="disabled";var $el=this.$element;var val=$el.is("input")?"val":"html";var data=$el.data();state=state+"Text";if(!data.resetText)$el.data("resetText",$el[val]());$el[val](data[state]||this.options[state]);setTimeout(function(){state=="loadingText"?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)};Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons"]');var changed=true;if($parent.length){var $input=this.$element.find("input");if($input.prop("type")==="radio"){if($input.prop("checked")&&this.$element.hasClass("active"))changed=false;else $parent.find(".active").removeClass("active")}if(changed)$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}if(changed)this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.button");var options=typeof option=="object"&&option;if(!data)$this.data("bs.button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})};$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var $btn=$(e.target);if(!$btn.hasClass("btn"))$btn=$btn.closest(".btn");$btn.button("toggle");e.preventDefault()})}(jQuery);+function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:true};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getActiveIndex();if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition.end){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||$active[type]();var isCycling=this.interval;var direction=type=="next"?"left":"right";var fallback=type=="next"?"first":"last";var that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}this.sliding=true;isCycling&&this.pause();var e=$.Event("slide.bs.carousel",{relatedTarget:$next[0],direction:direction});if($next.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid.bs.carousel",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})}if($.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(e);if(e.isDefaultPrevented())return;$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(e);if(e.isDefaultPrevented())return;$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger("slid.bs.carousel")}isCycling&&this.cycle();return this};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("bs.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})};$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var $this=$(this),href;var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;$target.carousel(options);if(slideIndex=$this.attr("data-slide-to")){$target.data("bs.carousel").to(slideIndex)}e.preventDefault()});$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(jQuery);+function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.transitioning=null;if(this.options.parent)this.$parent=$(this.options.parent);if(this.options.toggle)this.toggle()};Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide");hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("in")[dimension]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)};Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.collapse");var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})};$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var $this=$(this),href;var target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");var $target=$(target);var data=$target.data("bs.collapse");var option=data?"toggle":$this.data();var parent=$this.attr("data-parent");var $parent=parent&&$(parent);if(!data||!data.transitioning){if($parent)$parent.find('[data-toggle=collapse][data-parent="'+parent+'"]').not($this).addClass("collapsed");$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")}$target.collapse(option)})}(jQuery);+function($){"use strict";var backdrop=".dropdown-backdrop";var toggle="[data-toggle=dropdown]";var Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length){$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus)}$parent.trigger(e=$.Event("show.bs.dropdown"));if(e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown.bs.dropdown");$this.focus()}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).focus();return $this.click()}var $items=$("[role=menu] li:not(.divider):visible a",$parent);if(!$items.length)return;var index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).focus()};function clearMenus(){$(backdrop).remove();$(toggle).each(function(e){var $parent=getParent($(this));if(!$parent.hasClass("open"))return;$parent.trigger(e=$.Event("hide.bs.dropdown"));if(e.isDefaultPrevented())return;$parent.removeClass("open").trigger("hidden.bs.dropdown")})}function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.dropdown");if(!data)$this.data("bs.dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+", [role=menu]",Dropdown.prototype.keydown)}(jQuery);+function($){"use strict";var Modal=function(element,options){this.options=options;this.$element=$(element);this.$backdrop=this.isShown=null;if(this.options.remote)this.$element.load(this.options.remote)};Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this[!this.isShown?"show":"hide"](_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.escape();this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this));this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(document.body)}that.$element.show();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();$(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.focus()}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.removeBackdrop();that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(callback){callback()}};var old=$.fn.modal;$.fn.modal=function(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modal",data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})};$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault();$target.modal(option,this).one("hide",function(){$this.is(":visible")&&$this.focus()})});$(document).on("show.bs.modal",".modal",function(){$(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$(document.body).removeClass("modal-open")})}(jQuery);+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focus";var eventOut=trigger=="hover"?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);if(e.isDefaultPrevented())return;var $tip=this.tip();this.setContent();if(this.options.animation)$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent();var orgPlacement=placement;var docScroll=document.documentElement.scrollTop||document.body.scrollTop;var parentWidth=this.options.container=="body"?window.innerWidth:$parent.outerWidth();var parentHeight=this.options.container=="body"?window.innerHeight:$parent.outerHeight();var parentLeft=this.options.container=="body"?0:$parent.offset().left;placement=placement=="bottom"&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":placement=="top"&&pos.top-docScroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentWidth?"left":placement=="left"&&pos.left-actualWidth<parentLeft?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);this.$element.trigger("shown.bs."+this.type)}};Tooltip.prototype.applyPlacement=function(offset,placement){var replace;var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top=offset.top+marginTop;offset.left=offset.left+marginLeft;$tip.offset(offset).addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){replace=true;offset.top=offset.top+height-actualHeight}if(/bottom|top/.test(placement)){var delta=0;if(offset.left<0){delta=offset.left*-2;offset.left=0;$tip.offset(offset);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight}this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else{this.replaceArrow(actualHeight-height,actualHeight,"top")}if(replace)$tip.offset(offset)};Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")};Tooltip.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(){var that=this;var $tip=this.tip();var e=$.Event("hide.bs."+this.type);function complete(){if(that.hoverState!="in")$tip.detach()}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete();this.$element.trigger("hidden.bs."+this.type);return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)};Tooltip.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data)$this.data("bs.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery);+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content")[this.options.html?"html":"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};Popover.prototype.tip=function(){if(!this.$tip)this.$tip=$(this.options.template);return this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data)$this.data("bs.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})};$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery);+function($){"use strict";function ScrollSpy(element,options){var href;var process=$.proxy(this.process,this);this.$element=$(element).is("body")?$(window):$(element);this.$body=$("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",process);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=$([]);this.targets=$([]);this.activeTarget=null;this.refresh();this.process()}ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.refresh=function(){var offsetMethod=this.$element[0]==window?"offset":"position";this.offsets=$([]);this.targets=$([]);var self=this;var $targets=this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#\w/.test(href)&&$(href);return $href&&$href.length&&[[$href[offsetMethod]().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]);self.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var maxScroll=scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;$(this.selector).parents(".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate.bs.scrollspy")};var old=$.fn.scrollspy;$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})};$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(jQuery);+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.data("target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0];var e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var $target=$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active");var transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next();$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tab");
if(!data)$this.data("bs.tab",data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();$(this).tab("show")})}(jQuery);+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$window=$(window).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=this.unpin=null;this.checkPosition()};Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var scrollHeight=$(document).height();var scrollTop=this.$window.scrollTop();var position=this.$element.offset();var offset=this.options.offset;var offsetTop=offset.top;var offsetBottom=offset.bottom;if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top();if(typeof offsetBottom=="function")offsetBottom=offset.bottom();var affix=this.unpin!=null&&scrollTop+this.unpin<=position.top?false:offsetBottom!=null&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":offsetTop!=null&&scrollTop<=offsetTop?"top":false;if(this.affixed===affix)return;if(this.unpin)this.$element.css("top","");this.affixed=affix;this.unpin=affix=="bottom"?position.top-scrollTop:null;this.$element.removeClass(Affix.RESET).addClass("affix"+(affix?"-"+affix:""));if(affix=="bottom"){this.$element.offset({top:document.body.offsetHeight-offsetBottom-this.$element.height()})}};var old=$.fn.affix;$.fn.affix=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})};$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||{};if(data.offsetBottom)data.offset.bottom=data.offsetBottom;if(data.offsetTop)data.offset.top=data.offsetTop;$spy.affix(data)})})}(jQuery);
(function($,undefined){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date;return UTCDate(today.getFullYear(),today.getMonth(),today.getDate())}function isUTCEquals(date1,date2){return date1.getUTCFullYear()===date2.getUTCFullYear()&&date1.getUTCMonth()===date2.getUTCMonth()&&date1.getUTCDate()===date2.getUTCDate()}function alias(method){return function(){return this[method].apply(this,arguments)}}var DateArray=function(){var extras={get:function(i){return this.slice(i)[0]},contains:function(d){var val=d&&d.valueOf();for(var i=0,l=this.length;i<l;i++)if(this[i].valueOf()===val)return i;return-1},remove:function(i){this.splice(i,1)},replace:function(new_array){if(!new_array)return;if(!$.isArray(new_array))new_array=[new_array];this.clear();this.push.apply(this,new_array)},clear:function(){this.length=0},copy:function(){var a=new DateArray;a.replace(this);return a}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,extras);return a}}();var Datepicker=function(element,options){this._process_options(options);this.dates=new DateArray;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=$(element);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0)this.component=false;this.picker=$(DPGlobal.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl")}this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(i,val){return parseInt(val)+1});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o);var lang=o.language;if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang])lang=defaults.language}o.language=lang;switch(o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode);if(o.multidate!==true){o.multidate=Number(o.multidate)||false;if(o.multidate!==false)o.multidate=Math.max(0,o.multidate)}o.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=(o.weekStart+6)%7;var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity){if(!!o.startDate){if(o.startDate instanceof Date)o.startDate=this._local_to_utc(this._zero_time(o.startDate));else o.startDate=DPGlobal.parseDate(o.startDate,format,o.language)}else{o.startDate=-Infinity}}if(o.endDate!==Infinity){if(!!o.endDate){if(o.endDate instanceof Date)o.endDate=this._local_to_utc(this._zero_time(o.endDate));else o.endDate=DPGlobal.parseDate(o.endDate,format,o.language)}else{o.endDate=Infinity}}o.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled))o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/);o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)});o.datesDisabled=o.datesDisabled||[];if(!$.isArray(o.datesDisabled)){var datesDisabled=[];datesDisabled.push(DPGlobal.parseDate(o.datesDisabled,format,o.language));o.datesDisabled=datesDisabled}o.datesDisabled=$.map(o.datesDisabled,function(d){return DPGlobal.parseDate(d,format,o.language)});var plc=String(o.orientation).toLowerCase().split(/\s+/g),_plc=o.orientation.toLowerCase();plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word)});o.orientation={x:"auto",y:"auto"};if(!_plc||_plc==="auto");else if(plc.length===1){switch(plc[0]){case"top":case"bottom":o.orientation.y=plc[0];break;case"left":case"right":o.orientation.x=plc[0];break}}else{_plc=$.grep(plc,function(word){return/^left|right$/.test(word)});o.orientation.x=_plc[0]||"auto";_plc=$.grep(plc,function(word){return/^top|bottom$/.test(word)});o.orientation.y=_plc[0]||"auto"}if(o.defaultViewDate){var year=o.defaultViewDate.year||(new Date).getFullYear();var month=o.defaultViewDate.month||0;var day=o.defaultViewDate.day||1;o.defaultViewDate=UTCDate(year,month,day)}else{o.defaultViewDate=UTCToday()}o.showOnFocus=o.showOnFocus!==undefined?o.showOnFocus:true},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var i=0,el,ch,ev;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]}el.on(ev,ch)}},_unapplyEvents:function(evs){for(var i=0,el,ev,ch;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]}el.off(ev,ch)}},_buildEvents:function(){var events={keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)};if(this.o.showOnFocus===true){events.focus=$.proxy(this.show,this)}if(this.isInput){this._events=[[this.element,events]]}else if(this.component&&this.hasInput){this._events=[[this.element.find("input"),events],[this.component,{click:$.proxy(this.show,this)}]]}else if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:$.proxy(this.show,this)}]]}this._events.push([this.element,"*",{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]);this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{"mousedown touchstart":$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1),local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){if(arguments.length===0){ix=this.dates.length-1;format=this.o.format}else if(typeof ix==="string"){format=ix;ix=this.dates.length-1}format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(){if(this.element.attr("readonly")&&this.o.enableOnReadonly===false)return;if(!this.isInline)this.picker.appendTo(this.o.container);this.place();this.picker.show();this._attachSecondaryEvents();this._trigger("show");if((window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard){$(this.element).blur()}return this},hide:function(){if(this.isInline)return this;if(!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val()))this.setValue();this._trigger("hide");return this},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}return this},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+utc.getTimezoneOffset()*6e4)},_local_to_utc:function(local){return local&&new Date(local.getTime()-local.getTimezoneOffset()*6e4)},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate())},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var selected_date=this.dates.get(-1);if(typeof selected_date!=="undefined"){return new Date(selected_date)}else{return null}},clearDates:function(){var element;if(this.isInput){element=this.element}else if(this.component){element=this.element.find("input")}if(element){element.val("").change()}this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,args);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,$.map(args,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:alias("setDates"),setUTCDate:alias("setUTCDates"),setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(formatted).change()}}else{this.element.val(formatted).change()}return this},getFormattedDate:function(format){if(format===undefined)format=this.o.format;var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang)}).join(this.o.multidateSeparator)},setStartDate:function(startDate){this._process_options({startDate:startDate});this.update();this.updateNavArrows();return this},setEndDate:function(endDate){this._process_options({endDate:endDate});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled});this.update();this.updateNavArrows();return this},setDatesDisabled:function(datesDisabled){this._process_options({datesDisabled:datesDisabled});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return this;var calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,windowWidth=$(this.o.container).width(),windowHeight=$(this.o.container).height(),scrollTop=$(this.o.container).scrollTop(),appendOffset=$(this.o.container).offset();var parentsZindex=[];this.element.parents().each(function(){var itemZIndex=$(this).css("z-index");if(itemZIndex!=="auto"&&itemZIndex!==0)parentsZindex.push(parseInt(itemZIndex))});var zIndex=Math.max.apply(Math,parentsZindex)+10;var offset=this.component?this.component.parent().offset():this.element.offset();var height=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var width=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var left=offset.left-appendOffset.left,top=offset.top-appendOffset.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom "+"datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right")left-=calendarWidth-width}else{if(offset.left<0){this.picker.addClass("datepicker-orient-left");left-=offset.left-visualPadding}else if(left+calendarWidth>windowWidth){this.picker.addClass("datepicker-orient-right");left=offset.left+width-calendarWidth}else{this.picker.addClass("datepicker-orient-left")}}var yorient=this.o.orientation.y,top_overflow,bottom_overflow;if(yorient==="auto"){top_overflow=-scrollTop+top-calendarHeight;bottom_overflow=scrollTop+windowHeight-(top+height+calendarHeight);if(Math.max(top_overflow,bottom_overflow)===bottom_overflow)yorient="top";else yorient="bottom"}this.picker.addClass("datepicker-orient-"+yorient);if(yorient==="top")top+=height;else top-=calendarHeight+parseInt(this.picker.css("padding-top"));if(this.o.rtl){var right=windowWidth-(left+width);this.picker.css({top:top,right:right,zIndex:zIndex})}else{this.picker.css({top:top,left:left,zIndex:zIndex})}return this},_allow_update:true,update:function(){if(!this._allow_update)return this;var oldDates=this.dates.copy(),dates=[],fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,date){if(date instanceof Date)date=this._local_to_utc(date);dates.push(date)},this));fromArgs=true}else{dates=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();if(dates&&this.o.multidate)dates=dates.split(this.o.multidateSeparator);else dates=[dates];delete this.element.data().date}dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language)},this));dates=$.grep(dates,$.proxy(function(date){return date<this.o.startDate||date>this.o.endDate||!date},this),true);this.dates.replace(dates);if(this.dates.length)this.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDate);if(fromArgs){this.setValue()}else if(dates.length){if(String(oldDates)!==String(this.dates))this._trigger("changeDate")}if(!this.dates.length&&oldDates.length)this._trigger("clearDate");this.fill();return this},fillDow:function(){var dowCnt=this.o.weekStart,html="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(i,val){return parseInt(val)+1});var cell='<th class="cw">&#160;</th>';html+=cell}while(dowCnt<this.o.weekStart+7){html+='<th class="dow">'+dates[this.o.language].daysMin[dowCnt++%7]+"</th>"}html+="</tr>";this.picker.find(".datepicker-days thead").append(html)},fillMonths:function(){var html="",i=0;while(i<12){html+='<span class="month">'+dates[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(html)},setRange:function(range){if(!range||!range.length)delete this.range;else this.range=$.map(range,function(d){return d.valueOf()});this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date;if(date.getUTCFullYear()<year||date.getUTCFullYear()===year&&date.getUTCMonth()<month){cls.push("old")}else if(date.getUTCFullYear()>year||date.getUTCFullYear()===year&&date.getUTCMonth()>month){cls.push("new")}if(this.focusDate&&date.valueOf()===this.focusDate.valueOf())cls.push("focused");if(this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate()){cls.push("today")}if(this.dates.contains(date)!==-1)cls.push("active");if(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){cls.push("disabled")}if(this.o.datesDisabled.length>0&&$.grep(this.o.datesDisabled,function(d){return isUTCEquals(date,d)}).length>0){cls.push("disabled","disabled-date")}if(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1]){cls.push("range")}if($.inArray(date.valueOf(),this.range)!==-1){cls.push("selected")}}return cls},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,todaytxt=dates[this.o.language].today||dates["en"].today||"",cleartxt=dates[this.o.language].clear||dates["en"].clear||"",tooltip;if(isNaN(year)||isNaN(month))return;this.picker.find(".datepicker-days thead .datepicker-switch").text(dates[this.o.language].months[month]+" "+year);this.picker.find("tfoot .today").text(todaytxt).toggle(this.o.todayBtn!==false);this.picker.find("tfoot .clear").text(cleartxt).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()===this.o.weekStart){html.push("<tr>");if(this.o.calendarWeeks){var ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),th=new Date(Number(ws)+(7+4-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+"</td>")}}clsName=this.getClassNames(prevMonth);clsName.push("day");if(this.o.beforeShowDay!==$.noop){var before=this.o.beforeShowDay(this._utc_to_local(prevMonth));if(before===undefined)before={};else if(typeof before==="boolean")before={enabled:before};else if(typeof before==="string")before={classes:before};if(before.enabled===false)clsName.push("disabled");if(before.classes)clsName=clsName.concat(before.classes.split(/\s+/));if(before.tooltip)tooltip=before.tooltip}clsName=$.unique(clsName);html.push('<td class="'+clsName.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+prevMonth.getUTCDate()+"</td>");tooltip=null;if(prevMonth.getUTCDay()===this.o.weekEnd){html.push("</tr>")}prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var months=this.picker.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)months.eq(d.getUTCMonth()).addClass("active")});if(year<startYear||year>endYear){months.addClass("disabled")}if(year===startYear){months.slice(0,startMonth).addClass("disabled")}if(year===endYear){months.slice(endMonth+1).addClass("disabled")}if(this.o.beforeShowMonth!==$.noop){var that=this;$.each(months,function(i,month){if(!$(month).hasClass("disabled")){var moDate=new Date(year,i,1);var before=that.o.beforeShowMonth(moDate);if(before===false)$(month).addClass("disabled")}})}html="";year=parseInt(year/10,10)*10;var yearCont=this.picker.find(".datepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;var years=$.map(this.dates,function(d){return d.getUTCFullYear()}),classes;for(var i=-1;i<11;i++){classes=["year"];if(i===-1)classes.push("old");else if(i===10)classes.push("new");if($.inArray(year,years)!==-1)classes.push("active");if(year<startYear||year>endYear)classes.push("disabled");html+='<span class="'+classes.join(" ")+'">'+year+"</span>";year+=1}yearCont.html(html)},updateNavArrows:function(){if(!this._allow_update)return;var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(e){e.preventDefault();var target=$(e.target).closest("span, td, th"),year,month,day;if(target.length===1){switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir);if(this.viewMode===1)this._trigger("changeYear",this.viewDate);break}this.fill();break;case"today":var date=new Date;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);this.showMode(-2);var which=this.o.todayBtn==="linked"?null:"view";this._setDate(date,which);break;case"clear":this.clearDates();break}break;case"span":if(!target.hasClass("disabled")){this.viewDate.setUTCDate(1);if(target.hasClass("month")){day=1;month=target.parent().find("span").index(target);year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(UTCDate(year,month,day))}}else{day=1;month=0;year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(UTCDate(year,month,day))}}this.showMode(-1);this.fill()}break;case"td":if(target.hasClass("day")&&!target.hasClass("disabled")){day=parseInt(target.text(),10)||1;year=this.viewDate.getUTCFullYear();month=this.viewDate.getUTCMonth();if(target.hasClass("old")){if(month===0){month=11;year-=1}else{month-=1}}else if(target.hasClass("new")){if(month===11){month=0;year+=1}else{month+=1}}this._setDate(UTCDate(year,month,day))}break}}if(this.picker.is(":visible")&&this._focused_from){$(this._focused_from).focus()}delete this._focused_from},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(!date){this.dates.clear()}if(ix!==-1){if(this.o.multidate===true||this.o.multidate>1||this.o.toggleActive){this.dates.remove(ix)}}else if(this.o.multidate===false){this.dates.clear();this.dates.push(date)}else{this.dates.push(date)}if(typeof this.o.multidate==="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(date,which){if(!which||which==="date")this._toggle_multidate(date&&new Date(date));if(!which||which==="view")this.viewDate=date&&new Date(date);this.fill();this.setValue();if(!which||which!=="view"){this._trigger("changeDate")}var element;if(this.isInput){element=this.element}else if(this.component){element=this.element.find("input")}if(element){element.change()}if(this.o.autoclose&&(!which||which==="date")){this.hide()}},moveMonth:function(date,dir){if(!date)return undefined;if(!dir)return date;var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag===1){test=dir===-1?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11)new_month=(new_month+12)%12}else{for(var i=0;i<mag;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!==new_date.getUTCMonth()}}while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible")){if(e.keyCode===27)this.show();return}var dateChanged=false,dir,newDate,newViewDate,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;dir=e.keyCode===37?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger("changeMonth",this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir)}if(this.dateWithinRange(newViewDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation)break;dir=e.keyCode===38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger("changeMonth",this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir*7);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir*7)}if(this.dateWithinRange(newViewDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 32:break;case 13:focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;if(this.o.keyboardNavigation){this._toggle_multidate(focusDate);dateChanged=true}this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){e.preventDefault();if(typeof e.stopPropagation==="function"){e.stopPropagation()}else{e.cancelBubble=true}if(this.o.autoclose)this.hide()}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(dateChanged){if(this.dates.length)this._trigger("changeDate");else this._trigger("clearDate");var element;if(this.isInput){element=this.element}else if(this.component){element=this.element.find("input")}if(element){element.change()}}},showMode:function(dir){if(dir){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir))}this.picker.children("div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var DateRangePicker=function(element,options){this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i});delete options.inputs;datepickerPlugin.call($(this.inputs),options).bind("changeDate",$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data("datepicker")});this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()});this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){if(this.updating)return;this.updating=true;var dp=$(e.target).data("datepicker"),new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),j=i-1,k=i+1,l=this.inputs.length;if(i===-1)return;$.each(this.pickers,function(i,p){if(!p.getUTCDate())p.setUTCDate(new_date)});if(new_date<this.dates[j]){while(j>=0&&new_date<this.dates[j]){this.pickers[j--].setUTCDate(new_date)}}else if(new_date>this.dates[k]){while(k<l&&new_date>this.dates[k]){this.pickers[k++].setUTCDate(new_date)}}this.updateDates();delete this.updating},remove:function(){$.map(this.pickers,function(p){p.remove()});delete this.element.data().datepicker}};function opts_from_el(el,prefix){var data=$(el).data(),out={},inkey,replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])");prefix=new RegExp("^"+prefix.toLowerCase());function re_lower(_,a){return a.toLowerCase()}for(var key in data)if(prefix.test(key)){inkey=key.replace(replace,re_lower);out[inkey]=data[key]}return out}function opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang])return}var d=dates[lang];$.each(locale_opts,function(i,k){if(k in d)out[k]=d[k]});return out}var old=$.fn.datepicker;var datepickerPlugin=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data("datepicker"),options=typeof option==="object"&&option;if(!data){var elopts=opts_from_el(this,"date"),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.hasClass("input-daterange")||opts.inputs){var ropts={inputs:opts.inputs||$this.find("input").toArray()};$this.data("datepicker",data=new DateRangePicker(this,$.extend(opts,ropts)))}else{$this.data("datepicker",data=new Datepicker(this,opts))}}if(typeof option==="string"&&typeof data[option]==="function"){internal_return=data[option].apply(data,args);if(internal_return!==undefined)return false}});if(internal_return!==undefined)return internal_return;else return this};$.fn.datepicker=datepickerPlugin;var defaults=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,beforeShowMonth:$.noop,calendarWeeks:false,clearBtn:false,toggleActive:false,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0,disableTouchKeyboard:false,enableOnReadonly:true,container:"body"};var locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var DPGlobal={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,"\x00").split("\x00"),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0){throw new Error("Invalid date format.")}return{separators:separators,parts:parts}},parseDate:function(date,format,language){if(!date)return undefined;if(date instanceof Date)return date;if(typeof format==="string")format=DPGlobal.parseFormat(format);var part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g),part,dir,i;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){date=new Date;for(i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+dir*7);break;case"y":date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir);break}}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0)}parts=date&&date.match(this.nonpunctuation)||[];
date=new Date;var parsed={},setters_order=["yyyy","yy","M","MM","m","mm","d","dd"],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2e3+v)},m:function(d,v){if(isNaN(d))return d;v-=1;while(v<0)v+=12;v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}},val,filtered;setters_map["M"]=setters_map["MM"]=setters_map["mm"]=setters_map["m"];setters_map["dd"]=setters_map["d"];date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!==fparts.length){fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray()}function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()===p.toLowerCase()}if(parts.length===fparts.length){var cnt;for(i=0,cnt=fparts.length;i<cnt;i++){val=parseInt(parts[i],10);part=fparts[i];if(isNaN(val)){switch(part){case"MM":filtered=$(dates[language].months).filter(match_part);val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(match_part);val=$.inArray(filtered[0],dates[language].monthsShort)+1;break}}parsed[part]=val}var _date,s;for(i=0;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){_date=new Date(date);setters_map[s](_date,parsed[s]);if(!isNaN(_date))date=_date}}}return date},formatDate:function(date,format,language){if(!date)return"";if(typeof format==="string")format=DPGlobal.parseFormat(format);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m;date=[];var seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<=cnt;i++){if(seps.length)date.push(seps.shift());date.push(val[format.parts[i]])}return date.join("")},headTemplate:"<thead>"+"<tr>"+'<th class="prev">&#171;</th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">&#187;</th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:"<tfoot>"+"<tr>"+'<th colspan="7" class="today"></th>'+"</tr>"+"<tr>"+'<th colspan="7" class="clear"></th>'+"</tr>"+"</tfoot>"};DPGlobal.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+"</div>";$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this};$.fn.datepicker.version="1.4.0";$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var $this=$(this);if($this.data("datepicker"))return;e.preventDefault();datepickerPlugin.call($this,"show")});$(function(){datepickerPlugin.call($('[data-provide="datepicker-inline"]'))})})(window.jQuery);
(function(){var t=[].slice;!function(e,o){"use strict";var n;return n=function(){function t(t,o){null==o&&(o={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,o,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text")}),this.$on=e("<span>",{"class":""+this.name+"-handle-on "+this.name+"-"+this.options.onColor,html:this.options.onText}),this.$off=e("<span>",{"class":""+this.name+"-handle-off "+this.name+"-"+this.options.offColor,html:this.options.offText}),this.$label=e("<label>",{"for":this.$element.attr("id"),html:this.options.labelText}),this.$wrapper=e("<div>"),this.$wrapper.addClass(function(t){return function(){var e;return e=[""+t.name],e.push(t.options.state?""+t.name+"-on":""+t.name+"-off"),null!=t.options.size&&e.push(""+t.name+"-"+t.options.size),t.options.animate&&e.push(""+t.name+"-animate"),t.options.disabled&&e.push(""+t.name+"-disabled"),t.options.readonly&&e.push(""+t.name+"-readonly"),t.$element.attr("id")&&e.push(""+t.name+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)),this.$element.on("init",function(t){return function(){return t.options.on.init.call()}}(this)),this.$element.on("switchChange",function(t){return function(){return t.options.on.switchChange.call()}}(this)),this.$div=this.$element.wrap(e("<div>")).parent(),this.$wrapper=this.$div.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}return t.prototype.name="bootstrap-switch",t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:(t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.name+"-"+this.options.size),this.$wrapper.addClass(""+this.name+"-"+t),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.name+"-animate"),this.options.animate=t,this.$element)},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.name+"-disabled"),this.$element.prop("disabled",t),this.options.disabled=t,this.$element)},t.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(""+this.name+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,this.$wrapper[t?"addClass":"removeClass"](""+this.name+"-readonly"),this.$element.prop("readonly",t),this.options.readonly=t,this.$element)},t.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(""+this.name+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.name+"-"+e),this.$on.addClass(""+this.name+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.name+"-"+e),this.$off.addClass(""+this.name+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this.options.labelText=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$div.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(o,n){var i;return o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),i=t.$element.is(":checked"),i!==t.options.state?(t.options.state=i,t.$wrapper.removeClass(i?""+t.name+"-off":""+t.name+"-on").addClass(i?""+t.name+"-on":""+t.name+"-off"),n?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange",{el:t.$element,value:i}))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.$wrapper.addClass(""+t.name+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.$wrapper.removeClass(""+t.name+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 32:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.toggleState();case 37:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(){return t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(){return t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch":function(t){return function(e){var o,n,i;if(t.drag)return n=(e.pageX-t.$wrapper.offset().left)/t.$wrapper.width()*100,o=25,i=75,o>n?n=o:n>i&&(n=i),t.$div.css("margin-left",""+(n-i)+"%"),t.$element.trigger("focus.bootstrapSwitch")}}(this),"mousedown.bootstrapSwitch":function(t){return function(){return t.drag||t.options.disabled||t.options.readonly?void 0:(t.drag=!0,t.options.animate&&t.$wrapper.removeClass(""+t.name+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mouseup.bootstrapSwitch":function(t){return function(){return t.drag?(t.drag=!1,t.$element.prop("checked",parseInt(t.$div.css("margin-left"),10)>-25).trigger("change.bootstrapSwitch"),t.$div.css("margin-left",""),t.options.animate?t.$wrapper.addClass(""+t.name+"-animate"):void 0):void 0}}(this),"mouseleave.bootstrapSwitch":function(t){return function(){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this),"click.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),e.stopImmediatePropagation(),t.toggleState(),t.$element.trigger("focus.bootstrapSwitch")}}(this)})},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return o.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",!1)})},1)}).data("bootstrap-switch",!0)},t}(),e.fn.bootstrapSwitch=function(){var o,i,s;return i=arguments[0],o=2<=arguments.length?t.call(arguments,1):[],s=this,this.each(function(){var t,r;return t=e(this),r=t.data("bootstrap-switch"),r||t.data("bootstrap-switch",r=new n(this,i)),"string"==typeof i?s=r[i].apply(r,o):void 0}),s},e.fn.bootstrapSwitch.Constructor=n,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",on:{init:function(){},switchChange:function(){}}}}(window.jQuery,window)}).call(this);
(function($){"use strict";var jCarousel=$.jCarousel={};jCarousel.version="0.3.0";var rRelativeTarget=/^([+\-]=)?(.+)$/;jCarousel.parseTarget=function(target){var relative=false,parts=typeof target!=="object"?rRelativeTarget.exec(target):null;if(parts){target=parseInt(parts[2],10)||0;if(parts[1]){relative=true;if(parts[1]==="-="){target*=-1}}}else if(typeof target!=="object"){target=parseInt(target,10)||0}return{target:target,relative:relative}};jCarousel.detectCarousel=function(element){var carousel;while(element.length>0){carousel=element.filter("[data-jcarousel]");if(carousel.length>0){return carousel}carousel=element.find("[data-jcarousel]");if(carousel.length>0){return carousel}element=element.parent()}return null};jCarousel.base=function(pluginName){return{version:jCarousel.version,_options:{},_element:null,_carousel:null,_init:$.noop,_create:$.noop,_destroy:$.noop,_reload:$.noop,create:function(){this._element.attr("data-"+pluginName.toLowerCase(),true).data(pluginName,this);if(false===this._trigger("create")){return this}this._create();this._trigger("createend");return this},destroy:function(){if(false===this._trigger("destroy")){return this}this._destroy();this._trigger("destroyend");this._element.removeData(pluginName).removeAttr("data-"+pluginName.toLowerCase());return this},reload:function(options){if(false===this._trigger("reload")){return this}if(options){this.options(options)}this._reload();this._trigger("reloadend");return this},element:function(){return this._element},options:function(key,value){if(arguments.length===0){return $.extend({},this._options)}if(typeof key==="string"){if(typeof value==="undefined"){return typeof this._options[key]==="undefined"?null:this._options[key]}this._options[key]=value}else{this._options=$.extend({},this._options,key)}return this},carousel:function(){if(!this._carousel){this._carousel=jCarousel.detectCarousel(this.options("carousel")||this._element);if(!this._carousel){$.error('Could not detect carousel for plugin "'+pluginName+'"')}}return this._carousel},_trigger:function(type,element,data){var event,defaultPrevented=false;data=[this].concat(data||[]);(element||this._element).each(function(){event=$.Event((pluginName+":"+type).toLowerCase());$(this).trigger(event,data);if(event.isDefaultPrevented()){defaultPrevented=true}});return!defaultPrevented}}};jCarousel.plugin=function(pluginName,pluginPrototype){var Plugin=$[pluginName]=function(element,options){this._element=$(element);this.options(options);this._init();this.create()};Plugin.fn=Plugin.prototype=$.extend({},jCarousel.base(pluginName),pluginPrototype);$.fn[pluginName]=function(options){var args=Array.prototype.slice.call(arguments,1),returnValue=this;if(typeof options==="string"){this.each(function(){var instance=$(this).data(pluginName);if(!instance){return $.error("Cannot call methods on "+pluginName+" prior to initialization; "+'attempted to call method "'+options+'"')}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error('No such method "'+options+'" for '+pluginName+" instance")}var methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&typeof methodValue!=="undefined"){returnValue=methodValue;return false}})}else{this.each(function(){var instance=$(this).data(pluginName);if(instance instanceof Plugin){instance.reload(options)}else{new Plugin(this,options)}})}return returnValue};return Plugin}})(jQuery);(function($,window){"use strict";var toFloat=function(val){return parseFloat(val)||0};$.jCarousel.plugin("jcarousel",{animating:false,tail:0,inTail:false,resizeTimer:null,lt:null,vertical:false,rtl:false,circular:false,underflow:false,relative:false,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:false,wrap:null,vertical:null,rtl:null,center:false},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var self=this;this.onWindowResize=function(){if(self.resizeTimer){clearTimeout(self.resizeTimer)}self.resizeTimer=setTimeout(function(){self.reload()},100)};return this},_create:function(){this._reload();$(window).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){$(window).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical");if(this.vertical==null){this.vertical=this.list().height()>this.list().width()}this.rtl=this.options("rtl");if(this.rtl==null){this.rtl=function(element){if((""+element.attr("dir")).toLowerCase()==="rtl"){return true}var found=false;element.parents("[dir]").each(function(){if(/rtl/i.test($(this).attr("dir"))){found=true;return false}});return found}(this._element)}this.lt=this.vertical?"top":"left";this.relative=this.list().css("position")==="relative";this._list=null;this._items=null;var item=this._target&&this.index(this._target)>=0?this._target:this.closest();this.circular=this.options("wrap")==="circular";this.underflow=false;var props={left:0,top:0};if(item.length>0){this._prepare(item);this.list().find("[data-jcarousel-clone]").remove();this._items=null;this.underflow=this._fullyvisible.length>=this.items().length;this.circular=this.circular&&!this.underflow;props[this.lt]=this._position(item)+"px"}this.move(props);return this},list:function(){if(this._list===null){var option=this.options("list");this._list=$.isFunction(option)?option.call(this):this._element.find(option)}return this._list},items:function(){if(this._items===null){var option=this.options("items");this._items=($.isFunction(option)?option.call(this):this.list().find(option)).not("[data-jcarousel-clone]")}return this._items},index:function(item){return this.items().index(item)},closest:function(){var self=this,pos=this.list().position()[this.lt],closest=$(),stop=false,lrb=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right",width;if(this.rtl&&this.relative&&!this.vertical){pos+=this.list().width()-this.clipping()}this.items().each(function(){closest=$(this);if(stop){return false}var dim=self.dimension(closest);pos+=dim;if(pos>=0){width=dim-toFloat(closest.css("margin-"+lrb));if(Math.abs(pos)-dim+width/2<=0){stop=true}else{return false}}});return closest},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(false===this._trigger("hasnext")){return true}var wrap=this.options("wrap"),end=this.items().length-1;return end>=0&&(wrap&&wrap!=="first"||this.index(this._last)<end||this.tail&&!this.inTail)?true:false},hasPrev:function(){if(false===this._trigger("hasprev")){return true}var wrap=this.options("wrap");return this.items().length>0&&(wrap&&wrap!=="last"||this.index(this._first)>0||this.tail&&this.inTail)?true:false},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(element){return element["outer"+(this.vertical?"Height":"Width")](true)},scroll:function(target,animate,callback){if(this.animating){return this}if(false===this._trigger("scroll",null,[target,animate])){return this}if($.isFunction(animate)){callback=animate;animate=true}var parsed=$.jCarousel.parseTarget(target);if(parsed.relative){var end=this.items().length-1,scroll=Math.abs(parsed.target),wrap=this.options("wrap"),current,first,index,start,curr,isVisible,props,i;if(parsed.target>0){var last=this.index(this._last);if(last>=end&&this.tail){if(!this.inTail){this._scrollTail(animate,callback)}else{if(wrap==="both"||wrap==="last"){this._scroll(0,animate,callback)}else{if($.isFunction(callback)){callback.call(this,false)}}}}else{current=this.index(this._target);if(this.underflow&&current===end&&(wrap==="circular"||wrap==="both"||wrap==="last")||!this.underflow&&last===end&&(wrap==="both"||wrap==="last")){this._scroll(0,animate,callback)}else{index=current+scroll;if(this.circular&&index>end){i=end;curr=this.items().get(-1);while(i++<index){curr=this.items().eq(0);isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr("data-jcarousel-clone",true))}this.list().append(curr);if(!isVisible){props={};props[this.lt]=this.dimension(curr);this.moveBy(props)}this._items=null}this._scroll(curr,animate,callback)}else{this._scroll(Math.min(index,end),animate,callback)}}}}else{if(this.inTail){this._scroll(Math.max(this.index(this._first)-scroll+1,0),animate,callback)}else{first=this.index(this._first);current=this.index(this._target);start=this.underflow?current:first;index=start-scroll;if(start<=0&&(this.underflow&&wrap==="circular"||wrap==="both"||wrap==="first")){this._scroll(end,animate,callback)}else{if(this.circular&&index<0){i=index;curr=this.items().get(0);while(i++<0){curr=this.items().eq(-1);isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr("data-jcarousel-clone",true))}this.list().prepend(curr);this._items=null;var dim=this.dimension(curr);props={};props[this.lt]=-dim;this.moveBy(props)}this._scroll(curr,animate,callback)}else{this._scroll(Math.max(index,0),animate,callback)}}}}}else{this._scroll(parsed.target,animate,callback)}this._trigger("scrollend");return this},moveBy:function(properties,opts){var position=this.list().position(),multiplier=1,correction=0;if(this.rtl&&!this.vertical){multiplier=-1;if(this.relative){correction=this.list().width()-this.clipping()}}if(properties.left){properties.left=position.left+correction+toFloat(properties.left)*multiplier+"px"}if(properties.top){properties.top=position.top+correction+toFloat(properties.top)*multiplier+"px"}return this.move(properties,opts)},move:function(properties,opts){opts=opts||{};var option=this.options("transitions"),transitions=!!option,transforms=!!option.transforms,transforms3d=!!option.transforms3d,duration=opts.duration||0,list=this.list();if(!transitions&&duration>0){list.animate(properties,opts);return}var complete=opts.complete||$.noop,css={};if(transitions){var backup=list.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),oldComplete=complete;complete=function(){$(this).css(backup);oldComplete.call(this)};css={transitionDuration:(duration>0?duration/1e3:0)+"s",transitionTimingFunction:option.easing||opts.easing,transitionProperty:duration>0?function(){if(transforms||transforms3d){return"all"}return properties.left?"left":"top"}():"none",transform:"none"}}if(transforms3d){css.transform="translate3d("+(properties.left||0)+","+(properties.top||0)+",0)"}else if(transforms){css.transform="translate("+(properties.left||0)+","+(properties.top||0)+")"}else{$.extend(css,properties)}if(transitions&&duration>0){list.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",complete)}list.css(css);if(duration<=0){list.each(function(){complete.call(this)})}},_scroll:function(item,animate,callback){if(this.animating){if($.isFunction(callback)){callback.call(this,false)}return this}if(typeof item!=="object"){item=this.items().eq(item)}else if(typeof item.jquery==="undefined"){item=$(item)}if(item.length===0){if($.isFunction(callback)){callback.call(this,false)}return this}this.inTail=false;this._prepare(item);var pos=this._position(item),currPos=this.list().position()[this.lt];if(pos===currPos){if($.isFunction(callback)){callback.call(this,false)}return this}var properties={};properties[this.lt]=pos+"px";this._animate(properties,animate,callback);return this},_scrollTail:function(animate,callback){if(this.animating||!this.tail){if($.isFunction(callback)){callback.call(this,false)}return this}var pos=this.list().position()[this.lt];if(this.rtl&&this.relative&&!this.vertical){pos+=this.list().width()-this.clipping()}if(this.rtl&&!this.vertical){pos+=this.tail}else{pos-=this.tail}this.inTail=true;var properties={};properties[this.lt]=pos+"px";this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(properties,animate,callback);return this},_animate:function(properties,animate,callback){callback=callback||$.noop;if(false===this._trigger("animate")){callback.call(this,false);return this}this.animating=true;var animation=this.options("animation"),complete=$.proxy(function(){this.animating=false;var c=this.list().find("[data-jcarousel-clone]");if(c.length>0){c.remove();this._reload()}this._trigger("animateend");callback.call(this,true)},this);var opts=typeof animation==="object"?$.extend({},animation):{duration:animation},oldComplete=opts.complete||$.noop;if(animate===false){opts.duration=0}else if(typeof $.fx.speeds[opts.duration]!=="undefined"){opts.duration=$.fx.speeds[opts.duration]}opts.complete=function(){complete();oldComplete.call(this)};this.move(properties,opts);return this},_prepare:function(item){var index=this.index(item),idx=index,wh=this.dimension(item),clip=this.clipping(),lrb=this.vertical?"bottom":this.rtl?"left":"right",center=this.options("center"),update={target:item,first:item,last:item,visible:item,fullyvisible:wh<=clip?item:$()},curr,isVisible,margin,dim;if(center){wh/=2;clip/=2}if(wh<clip){while(true){curr=this.items().eq(++idx);if(curr.length===0){if(!this.circular){break}curr=this.items().eq(0);if(item.get(0)===curr.get(0)){break}isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr("data-jcarousel-clone",true))}this.list().append(curr);if(!isVisible){var props={};props[this.lt]=this.dimension(curr);this.moveBy(props)}this._items=null}dim=this.dimension(curr);if(dim===0){break}wh+=dim;update.last=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css("margin-"+lrb));if(wh-margin<=clip){update.fullyvisible=update.fullyvisible.add(curr)}if(wh>=clip){break}}}if(!this.circular&&!center&&wh<clip){idx=index;while(true){if(--idx<0){break}curr=this.items().eq(idx);if(curr.length===0){break}dim=this.dimension(curr);if(dim===0){break}wh+=dim;update.first=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css("margin-"+lrb));if(wh-margin<=clip){update.fullyvisible=update.fullyvisible.add(curr)}if(wh>=clip){break}}}this._update(update);this.tail=0;if(!center&&this.options("wrap")!=="circular"&&this.options("wrap")!=="custom"&&this.index(update.last)===this.items().length-1){wh-=toFloat(update.last.css("margin-"+lrb));if(wh>clip){this.tail=wh-clip}}return this},_position:function(item){var first=this._first,pos=first.position()[this.lt],center=this.options("center"),centerOffset=center?this.clipping()/2-this.dimension(first)/2:0;if(this.rtl&&!this.vertical){if(this.relative){pos-=this.list().width()-this.dimension(first)}else{pos-=this.clipping()-this.dimension(first)}pos+=centerOffset}else{pos-=centerOffset}if(!center&&(this.index(item)>this.index(first)||this.inTail)&&this.tail){pos=this.rtl&&!this.vertical?pos-this.tail:pos+this.tail;this.inTail=true}else{this.inTail=false}return-pos},_update:function(update){var self=this,current={target:this._target||$(),first:this._first||$(),last:this._last||$(),visible:this._visible||$(),fullyvisible:this._fullyvisible||$()},back=this.index(update.first||current.first)<this.index(current.first),key,doUpdate=function(key){var elIn=[],elOut=[];update[key].each(function(){if(current[key].index(this)<0){elIn.push(this)}});current[key].each(function(){if(update[key].index(this)<0){elOut.push(this)}});if(back){elIn=elIn.reverse()}else{elOut=elOut.reverse()}self._trigger(key+"in",$(elIn));self._trigger(key+"out",$(elOut));self["_"+key]=update[key]};for(key in update){doUpdate(key)}return this}})})(jQuery,window);(function($){"use strict";$.jcarousel.fn.scrollIntoView=function(target,animate,callback){var parsed=$.jCarousel.parseTarget(target),first=this.index(this._fullyvisible.first()),last=this.index(this._fullyvisible.last()),index;if(parsed.relative){index=parsed.target<0?Math.max(0,first+parsed.target):last+parsed.target}else{index=typeof parsed.target!=="object"?parsed.target:this.index(parsed.target)}if(index<first){return this.scroll(index,animate,callback)}if(index>=first&&index<=last){if($.isFunction(callback)){callback.call(this,false)}return this}var items=this.items(),clip=this.clipping(),lrb=this.vertical?"bottom":this.rtl?"left":"right",wh=0,curr;while(true){curr=items.eq(index);if(curr.length===0){break}wh+=this.dimension(curr);if(wh>=clip){var margin=parseFloat(curr.css("margin-"+lrb))||0;if(wh-margin!==clip){index++}break}if(index<=0){break}index--}return this.scroll(index,animate,callback)}})(jQuery);(function($){"use strict";$.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=$.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",$.proxy(this._create,this))},this);this.onReload=$.proxy(this._reload,this);this.onEvent=$.proxy(function(e){e.preventDefault();var method=this.options("method");if($.isFunction(method)){method.call(this)}else{this.carousel().jcarousel(this.options("method"),this.options("target"))}},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload);this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent);this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent);this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var parsed=$.jCarousel.parseTarget(this.options("target")),carousel=this.carousel(),active;if(parsed.relative){active=carousel.jcarousel(parsed.target>0?"hasNext":"hasPrev")}else{var target=typeof parsed.target!=="object"?carousel.jcarousel("items").eq(parsed.target):parsed.target;active=carousel.jcarousel("target").index(target)>=0}if(this._active!==active){this._trigger(active?"active":"inactive");this._active=active}return this}})})(jQuery);(function($){"use strict";$.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(page){return'<a href="#'+page+'">'+page+"</a>"},event:"click",method:"scroll"},_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=$.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",$.proxy(this._create,this))},this);this.onReload=$.proxy(this._reload,this);this.onScroll=$.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll);this._reload()},_destroy:function(){this._clear();this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll)},_reload:function(){var perPage=this.options("perPage");this._pages={};this._items={};if($.isFunction(perPage)){perPage=perPage.call(this)}if(perPage==null){this._pages=this._calculatePages()}else{var pp=parseInt(perPage,10)||0,items=this.carousel().jcarousel("items"),page=1,i=0,curr;while(true){curr=items.eq(i++);if(curr.length===0){break}if(!this._pages[page]){this._pages[page]=curr}else{this._pages[page]=this._pages[page].add(curr)}if(i%pp===0){page++}}}this._clear();var self=this,carousel=this.carousel().data("jcarousel"),element=this._element,item=this.options("item");$.each(this._pages,function(page,carouselItems){var currItem=self._items[page]=$(item.call(self,page,carouselItems));currItem.on(self.options("event")+".jcarouselpagination",$.proxy(function(){var target=carouselItems.eq(0);if(carousel.circular){var currentIndex=carousel.index(carousel.target()),newIndex=carousel.index(target);if(parseFloat(page)>parseFloat(self._currentPage)){if(newIndex<currentIndex){target="+="+(carousel.items().length-currentIndex+newIndex)}}else{if(newIndex>currentIndex){target="-="+(currentIndex+(carousel.items().length-newIndex))}}}carousel[this.options("method")](target)},self));element.append(currItem)});this._update()},_update:function(){var target=this.carousel().jcarousel("target"),currentPage;$.each(this._pages,function(page,carouselItems){carouselItems.each(function(){if(target.is(this)){currentPage=page;return false}});if(currentPage){return false}});if(this._currentPage!==currentPage){this._trigger("inactive",this._items[this._currentPage]);this._trigger("active",this._items[currentPage])}this._currentPage=currentPage},items:function(){return this._items},_clear:function(){this._element.empty();this._currentPage=null},_calculatePages:function(){var carousel=this.carousel().data("jcarousel"),items=carousel.items(),clip=carousel.clipping(),wh=0,idx=0,page=1,pages={},curr;while(true){curr=items.eq(idx++);if(curr.length===0){break}if(!pages[page]){pages[page]=curr}else{pages[page]=pages[page].add(curr)}wh+=carousel.dimension(curr);if(wh>=clip){page++;wh=0}}return pages}})})(jQuery);(function($){"use strict";$.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:true},_timer:null,_init:function(){this.onDestroy=$.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",$.proxy(this._create,this))},this);this.onAnimateEnd=$.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy);if(this.options("autostart")){this.start()}},_destroy:function(){this.stop();this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){this.stop();this.carousel().one("jcarousel:animateend",this.onAnimateEnd);this._timer=setTimeout($.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval"));return this},stop:function(){if(this._timer){this._timer=clearTimeout(this._timer)}this.carousel().off("jcarousel:animateend",this.onAnimateEnd);return this}})})(jQuery);
(function($){"use strict";var ts=$.tablesorter={version:"2.31.1",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,tabIndex:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,resort:true,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortStable:false,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",duplicateSpan:true,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:true,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:true,bottom:false},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(table,c){if(!table||!table.tHead||table.tBodies.length===0||table.hasInitialized===true){if(ts.debug(c,"core")){if(table.hasInitialized){console.warn("Stopping initialization. Tablesorter has already been initialized")}else{console.error("Stopping initialization! No table, thead or tbody",table)}}return}var tmp="",$table=$(table),meta=$.metadata;table.hasInitialized=false;table.isProcessing=true;table.config=c;$.data(table,"tablesorter",c);if(ts.debug(c,"core")){console[console.group?"group":"log"]("Initializing tablesorter v"+ts.version);$.data(table,"startoveralltimer",new Date)}c.supportsDataObject=function(version){version[0]=parseInt(version[0],10);return version[0]>1||version[0]===1&&parseInt(version[1],10)>=4}($.fn.jquery.split("."));c.emptyTo=c.emptyTo.toLowerCase();c.stringTo=c.stringTo.toLowerCase();c.last={sortList:[],clickedIndex:-1};if(!/tablesorter\-/.test($table.attr("class"))){tmp=c.theme!==""?" tablesorter-"+c.theme:""}if(!c.namespace){c.namespace=".tablesorter"+Math.random().toString(16).slice(2)}else{c.namespace="."+c.namespace.replace(ts.regex.nonWord,"")}c.table=table;c.$table=$table.addClass(ts.css.table+" "+c.tableClass+tmp+" "+c.namespace.slice(1)).attr("role","grid");c.$headers=$table.find(c.selectorHeaders);c.$table.children().children("tr").attr("role","row");c.$tbodies=$table.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"});if(c.$table.children("caption").length){tmp=c.$table.children("caption")[0];if(!tmp.id){tmp.id=c.namespace.slice(1)+"caption"}c.$table.attr("aria-labelledby",tmp.id)}c.widgetInit={};c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic";ts.buildHeaders(c);ts.fixColumnWidth(table);ts.addWidgetFromClass(table);ts.applyWidgetOptions(table);ts.setupParsers(c);c.totalRows=0;if(c.debug){ts.validateOptions(c)}if(!c.delayInit){ts.buildCache(c)}ts.bindEvents(table,c.$headers,true);ts.bindMethods(c);if(c.supportsDataObject&&typeof $table.data().sortlist!=="undefined"){c.sortList=$table.data().sortlist}else if(meta&&($table.metadata()&&$table.metadata().sortlist)){c.sortList=$table.metadata().sortlist}ts.applyWidget(table,true);if(c.sortList.length>0){c.last.sortList=c.sortList;ts.sortOn(c,c.sortList,{},!c.initWidgets)}else{ts.setHeadersCss(c);if(c.initWidgets){ts.applyWidget(table,false)}}if(c.showProcessing){$table.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(e){clearTimeout(c.timerProcessing);ts.isProcessing(table);if(e.type==="sortBegin"){c.timerProcessing=setTimeout(function(){ts.isProcessing(table,true)},500)}})}table.hasInitialized=true;table.isProcessing=false;if(ts.debug(c,"core")){console.log("Overall initialization time:"+ts.benchmark($.data(table,"startoveralltimer")));if(ts.debug(c,"core")&&console.groupEnd){console.groupEnd()}}$table.triggerHandler("tablesorter-initialized",table);if(typeof c.initialized==="function"){c.initialized(table)}},bindMethods:function(c){var $table=c.$table,namespace=c.namespace,events=("sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete "+"sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup "+"mouseleave ").split(" ").join(namespace+" ");$table.unbind(events.replace(ts.regex.spaces," ")).bind("sortReset"+namespace,function(e,callback){e.stopPropagation();ts.sortReset(this.config,function(table){if(table.isApplyingWidgets){setTimeout(function(){ts.applyWidget(table,"",callback)},100)}else{ts.applyWidget(table,"",callback)}})}).bind("updateAll"+namespace,function(e,resort,callback){e.stopPropagation();ts.updateAll(this.config,resort,callback)}).bind("update"+namespace+" updateRows"+namespace,function(e,resort,callback){e.stopPropagation();ts.update(this.config,resort,callback)}).bind("updateHeaders"+namespace,function(e,callback){e.stopPropagation();ts.updateHeaders(this.config,callback)}).bind("updateCell"+namespace,function(e,cell,resort,callback){e.stopPropagation();ts.updateCell(this.config,cell,resort,callback)}).bind("addRows"+namespace,function(e,$row,resort,callback){e.stopPropagation();ts.addRows(this.config,$row,resort,callback)}).bind("updateComplete"+namespace,function(){this.isUpdating=false}).bind("sorton"+namespace,function(e,list,callback,init){e.stopPropagation();ts.sortOn(this.config,list,callback,init)}).bind("appendCache"+namespace,function(e,callback,init){e.stopPropagation();ts.appendCache(this.config,init);if($.isFunction(callback)){callback(this)}}).bind("updateCache"+namespace,function(e,callback,$tbodies){e.stopPropagation();ts.updateCache(this.config,callback,$tbodies)}).bind("applyWidgetId"+namespace,function(e,id){e.stopPropagation();ts.applyWidgetId(this,id)}).bind("applyWidgets"+namespace,function(e,callback){e.stopPropagation();ts.applyWidget(this,false,callback)}).bind("refreshWidgets"+namespace,function(e,all,dontapply){e.stopPropagation();ts.refreshWidgets(this,all,dontapply)}).bind("removeWidget"+namespace,function(e,name,refreshing){e.stopPropagation();ts.removeWidget(this,name,refreshing)}).bind("destroy"+namespace,function(e,removeClasses,callback){e.stopPropagation();ts.destroy(this,removeClasses,callback)}).bind("resetToLoadState"+namespace,function(e){e.stopPropagation();ts.removeWidget(this,true,false);var tmp=$.extend(true,{},c.originalSettings);c=$.extend(true,{},ts.defaults,tmp);c.originalSettings=tmp;this.hasInitialized=false;ts.setup(this,c)})},bindEvents:function(table,$headers,core){table=$(table)[0];var tmp,c=table.config,namespace=c.namespace,downTarget=null;if(core!==true){$headers.addClass(namespace.slice(1)+"_extra_headers");tmp=ts.getClosest($headers,"table");if(tmp.length&&tmp[0].nodeName==="TABLE"&&tmp[0]!==table){$(tmp[0]).addClass(namespace.slice(1)+"_extra_table")}}tmp=(c.pointerDown+" "+c.pointerUp+" "+c.pointerClick+" sort keyup ").replace(ts.regex.spaces," ").split(" ").join(namespace+" ");$headers.find(c.selectorSort).add($headers.filter(c.selectorSort)).unbind(tmp).bind(tmp,function(e,external){var $cell,cell,temp,$target=$(e.target),type=" "+e.type+" ";if((e.which||e.button)!==1&&!type.match(" "+c.pointerClick+" | sort | keyup ")||type===" keyup "&&e.which!==ts.keyCodes.enter||type.match(" "+c.pointerClick+" ")&&typeof e.which!=="undefined"){return}if(type.match(" "+c.pointerUp+" ")&&downTarget!==e.target&&external!==true){return}if(type.match(" "+c.pointerDown+" ")){downTarget=e.target;temp=$target.jquery.split(".");if(temp[0]==="1"&&temp[1]<4){e.preventDefault()}return}downTarget=null;$cell=ts.getClosest($(this),"."+ts.css.header);if(ts.regex.formElements.test(e.target.nodeName)||$target.hasClass(c.cssNoSort)||$target.parents("."+c.cssNoSort).length>0||$cell.hasClass("sorter-false")||$target.parents("button").length>0){return!c.cancelSelection}if(c.delayInit&&ts.isEmptyObject(c.cache)){ts.buildCache(c)}c.last.clickedIndex=$cell.attr("data-column")||$cell.index();cell=c.$headerIndexed[c.last.clickedIndex][0];if(cell&&!cell.sortDisabled){ts.initSort(c,cell,e)}});if(c.cancelSelection){$headers.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}},buildHeaders:function(c){var $temp,icon,timer,indx;c.headerList=[];c.headerContent=[];c.sortVars=[];if(ts.debug(c,"core")){timer=new Date}c.columns=ts.computeColumnIndex(c.$table.children("thead, tfoot").children("tr"));icon=c.cssIcon?'<i class="'+(c.cssIcon===ts.css.icon?ts.css.icon:c.cssIcon+" "+ts.css.icon)+'"></i>':"";c.$headers=$($.map(c.$table.find(c.selectorHeaders),function(elem,index){var configHeaders,header,column,template,tmp,$elem=$(elem);if(ts.getClosest($elem,"tr").hasClass(c.cssIgnoreRow)){return}if(!/(th|td)/i.test(elem.nodeName)){tmp=ts.getClosest($elem,"th, td");$elem.attr("data-column",tmp.attr("data-column"))}configHeaders=ts.getColumnData(c.table,c.headers,index,true);c.headerContent[index]=$elem.html();if(c.headerTemplate!==""&&!$elem.find("."+ts.css.headerIn).length){template=c.headerTemplate.replace(ts.regex.templateContent,$elem.html()).replace(ts.regex.templateIcon,$elem.find("."+ts.css.icon).length?"":icon);if(c.onRenderTemplate){header=c.onRenderTemplate.apply($elem,[index,template]);if(header&&typeof header==="string"){template=header}}$elem.html('<div class="'+ts.css.headerIn+'">'+template+"</div>")}if(c.onRenderHeader){c.onRenderHeader.apply($elem,[index,c,c.$table])}column=parseInt($elem.attr("data-column"),10);elem.column=column;tmp=ts.getOrder(ts.getData($elem,configHeaders,"sortInitialOrder")||c.sortInitialOrder);c.sortVars[column]={count:-1,order:tmp?c.sortReset?[1,0,2]:[1,0]:c.sortReset?[0,1,2]:[0,1],lockedOrder:false,sortedBy:""};tmp=ts.getData($elem,configHeaders,"lockedOrder")||false;if(typeof tmp!=="undefined"&&tmp!==false){c.sortVars[column].lockedOrder=true;c.sortVars[column].order=ts.getOrder(tmp)?[1,1]:[0,0]}c.headerList[index]=elem;$elem.addClass(ts.css.header+" "+c.cssHeader);ts.getClosest($elem,"tr").addClass(ts.css.headerRow+" "+c.cssHeaderRow).attr("role","row");if(c.tabIndex){$elem.attr("tabindex",0)}return elem}));c.$headerIndexed=[];for(indx=0;indx<c.columns;indx++){if(ts.isEmptyObject(c.sortVars[indx])){c.sortVars[indx]={}}$temp=c.$headers.filter('[data-column="'+indx+'"]');c.$headerIndexed[indx]=$temp.length?$temp.not(".sorter-false").length?$temp.not(".sorter-false").filter(":last"):$temp.filter(":last"):$()}c.$table.find(c.selectorHeaders).attr({scope:"col",role:"columnheader"});ts.updateHeader(c);if(ts.debug(c,"core")){console.log("Built headers:"+ts.benchmark(timer));console.log(c.$headers)}},addInstanceMethods:function(methods){$.extend(ts.instanceMethods,methods)},setupParsers:function(c,$tbodies){var rows,list,span,max,colIndex,indx,header,configHeaders,noParser,parser,extractor,time,tbody,len,table=c.table,tbodyIndex=0,debug=ts.debug(c,"core"),debugOutput={};c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")");tbody=typeof $tbodies==="undefined"?c.$tbodies:$tbodies;len=tbody.length;if(len===0){return debug?console.warn("Warning: *Empty table!* Not building a parser cache"):""}else if(debug){time=new Date;console[console.group?"group":"log"]("Detecting parsers for each column")}list={extractors:[],parsers:[]};while(tbodyIndex<len){rows=tbody[tbodyIndex].rows;if(rows.length){colIndex=0;max=c.columns;for(indx=0;indx<max;indx++){header=c.$headerIndexed[colIndex];if(header&&header.length){configHeaders=ts.getColumnData(table,c.headers,colIndex);extractor=ts.getParserById(ts.getData(header,configHeaders,"extractor"));parser=ts.getParserById(ts.getData(header,configHeaders,"sorter"));noParser=ts.getData(header,configHeaders,"parser")==="false";c.empties[colIndex]=(ts.getData(header,configHeaders,"empty")||c.emptyTo||(c.emptyToBottom?"bottom":"top")).toLowerCase();c.strings[colIndex]=(ts.getData(header,configHeaders,"string")||c.stringTo||"max").toLowerCase();if(noParser){parser=ts.getParserById("no-parser")}if(!extractor){extractor=false}if(!parser){parser=ts.detectParserForColumn(c,rows,-1,colIndex)}if(debug){debugOutput["("+colIndex+") "+header.text()]={parser:parser.id,extractor:extractor?extractor.id:"none",string:c.strings[colIndex],empty:c.empties[colIndex]}}list.parsers[colIndex]=parser;list.extractors[colIndex]=extractor;span=header[0].colSpan-1;if(span>0){colIndex+=span;max+=span;while(span+1>0){list.parsers[colIndex-span]=parser;list.extractors[colIndex-span]=extractor;span--}}}colIndex++}}tbodyIndex+=list.parsers.length?len:1}if(debug){if(!ts.isEmptyObject(debugOutput)){console[console.table?"table":"log"](debugOutput)}else{console.warn("  No parsers detected!")}console.log("Completed detecting parsers"+ts.benchmark(time));if(console.groupEnd){console.groupEnd()}}c.parsers=list.parsers;c.extractors=list.extractors},addParser:function(parser){var indx,len=ts.parsers.length,add=true;for(indx=0;indx<len;indx++){if(ts.parsers[indx].id.toLowerCase()===parser.id.toLowerCase()){add=false}}if(add){ts.parsers[ts.parsers.length]=parser}},getParserById:function(name){if(name=="false"){return false}var indx,len=ts.parsers.length;for(indx=0;indx<len;indx++){if(ts.parsers[indx].id.toLowerCase()===name.toString().toLowerCase()){return ts.parsers[indx]}}return false},detectParserForColumn:function(c,rows,rowIndex,cellIndex){var cur,$node,row,indx=ts.parsers.length,node=false,nodeValue="",debug=ts.debug(c,"core"),keepLooking=true;while(nodeValue===""&&keepLooking){rowIndex++;row=rows[rowIndex];if(row&&rowIndex<50){if(row.className.indexOf(ts.cssIgnoreRow)<0){node=rows[rowIndex].cells[cellIndex];nodeValue=ts.getElementText(c,node,cellIndex);$node=$(node);if(debug){console.log("Checking if value was empty on row "+rowIndex+", column: "+cellIndex+': "'+nodeValue+'"')}}}else{keepLooking=false}}while(--indx>=0){cur=ts.parsers[indx];if(cur&&cur.id!=="text"&&cur.is&&cur.is(nodeValue,c.table,node,$node)){return cur}}return ts.getParserById("text")},getElementText:function(c,node,cellIndex){if(!node){return""}var tmp,extract=c.textExtraction||"",$node=node.jquery?node:$(node);if(typeof extract==="string"){if(extract==="basic"&&typeof(tmp=$node.attr(c.textAttribute))!=="undefined"){return $.trim(tmp)}return $.trim(node.textContent||$node.text())}else{if(typeof extract==="function"){return $.trim(extract($node[0],c.table,cellIndex))}else if(typeof(tmp=ts.getColumnData(c.table,extract,cellIndex))==="function"){return $.trim(tmp($node[0],c.table,cellIndex))}}return $.trim($node[0].textContent||$node.text())},getParsedText:function(c,cell,colIndex,txt){if(typeof txt==="undefined"){txt=ts.getElementText(c,cell,colIndex)}var val=""+txt,parser=c.parsers[colIndex],extractor=c.extractors[colIndex];if(parser){if(extractor&&typeof extractor.format==="function"){txt=extractor.format(txt,c.table,cell,colIndex)}val=parser.id==="no-parser"?"":parser.format(""+txt,c.table,cell,colIndex);if(c.ignoreCase&&typeof val==="string"){val=val.toLowerCase()}}return val},buildCache:function(c,callback,$tbodies){var cache,val,txt,rowIndex,colIndex,tbodyIndex,$tbody,$row,cols,$cells,cell,cacheTime,totalRows,rowData,prevRowData,colMax,span,cacheIndex,hasParser,max,len,index,table=c.table,parsers=c.parsers,debug=ts.debug(c,"core");c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")");$tbody=typeof $tbodies==="undefined"?c.$tbodies:$tbodies,c.cache={};c.totalRows=0;if(!parsers){return debug?console.warn("Warning: *Empty table!* Not building a cache"):""}if(debug){cacheTime=new Date}if(c.showProcessing){ts.isProcessing(table,true)}for(tbodyIndex=0;tbodyIndex<$tbody.length;tbodyIndex++){colMax=[];cache=c.cache[tbodyIndex]={normalized:[]};totalRows=$tbody[tbodyIndex]&&$tbody[tbodyIndex].rows.length||0;for(rowIndex=0;rowIndex<totalRows;++rowIndex){rowData={child:[],raw:[]};$row=$($tbody[tbodyIndex].rows[rowIndex]);cols=[];if($row.hasClass(c.selectorRemove.slice(1))){continue}if($row.hasClass(c.cssChildRow)&&rowIndex!==0){len=cache.normalized.length-1;prevRowData=cache.normalized[len][c.columns];prevRowData.$row=prevRowData.$row.add($row);if(!$row.prev().hasClass(c.cssChildRow)){$row.prev().addClass(ts.css.cssHasChild)}$cells=$row.children("th, td");len=prevRowData.child.length;prevRowData.child[len]=[];cacheIndex=0;max=c.columns;for(colIndex=0;colIndex<max;colIndex++){cell=$cells[colIndex];if(cell){prevRowData.child[len][colIndex]=ts.getParsedText(c,cell,colIndex);span=$cells[colIndex].colSpan-1;if(span>0){cacheIndex+=span;max+=span}}cacheIndex++}continue}rowData.$row=$row;rowData.order=rowIndex;cacheIndex=0;max=c.columns;for(colIndex=0;colIndex<max;++colIndex){cell=$row[0].cells[colIndex];if(cell&&cacheIndex<c.columns){hasParser=typeof parsers[cacheIndex]!=="undefined";if(!hasParser&&debug){console.warn("No parser found for row: "+rowIndex+", column: "+colIndex+'; cell containing: "'+$(cell).text()+'"; does it have a header?')}val=ts.getElementText(c,cell,cacheIndex);rowData.raw[cacheIndex]=val;txt=ts.getParsedText(c,cell,cacheIndex,val);cols[cacheIndex]=txt;if(hasParser&&(parsers[cacheIndex].type||"").toLowerCase()==="numeric"){colMax[cacheIndex]=Math.max(Math.abs(txt)||0,colMax[cacheIndex]||0)}span=cell.colSpan-1;if(span>0){index=0;while(index<=span){txt=c.duplicateSpan||index===0?val:typeof c.textExtraction!=="string"?ts.getElementText(c,cell,cacheIndex+index)||"":"";rowData.raw[cacheIndex+index]=txt;cols[cacheIndex+index]=txt;index++}cacheIndex+=span;max+=span}}cacheIndex++}cols[c.columns]=rowData;cache.normalized[cache.normalized.length]=cols}cache.colMax=colMax;c.totalRows+=cache.normalized.length}if(c.showProcessing){ts.isProcessing(table)}if(debug){len=Math.min(5,c.cache[0].normalized.length);console[console.group?"group":"log"]("Building cache for "+c.totalRows+" rows (showing "+len+" rows in log) and "+c.columns+" columns"+ts.benchmark(cacheTime));val={};for(colIndex=0;colIndex<c.columns;colIndex++){for(cacheIndex=0;cacheIndex<len;cacheIndex++){if(!val["row: "+cacheIndex]){val["row: "+cacheIndex]={}}val["row: "+cacheIndex][c.$headerIndexed[colIndex].text()]=c.cache[0].normalized[cacheIndex][colIndex]}}console[console.table?"table":"log"](val);if(console.groupEnd){console.groupEnd()}}if($.isFunction(callback)){callback(table)}},getColumnText:function(table,column,callback,rowFilter){table=$(table)[0];var tbodyIndex,rowIndex,cache,row,tbodyLen,rowLen,raw,parsed,$cell,result,hasCallback=typeof callback==="function",allColumns=column==="all",data={raw:[],parsed:[],$cell:[]},c=table.config;if(ts.isEmptyObject(c)){if(ts.debug(c,"core")){console.warn("No cache found - aborting getColumnText function!")}}else{tbodyLen=c.$tbodies.length;for(tbodyIndex=0;tbodyIndex<tbodyLen;tbodyIndex++){cache=c.cache[tbodyIndex].normalized;rowLen=cache.length;for(rowIndex=0;rowIndex<rowLen;rowIndex++){row=cache[rowIndex];if(rowFilter&&!row[c.columns].$row.is(rowFilter)){continue}result=true;parsed=allColumns?row.slice(0,c.columns):row[column];row=row[c.columns];raw=allColumns?row.raw:row.raw[column];$cell=allColumns?row.$row.children():row.$row.children().eq(column);if(hasCallback){result=callback({tbodyIndex:tbodyIndex,rowIndex:rowIndex,parsed:parsed,raw:raw,$row:row.$row,$cell:$cell})}if(result!==false){data.parsed[data.parsed.length]=parsed;data.raw[data.raw.length]=raw;data.$cell[data.$cell.length]=$cell}}}return data}},setHeadersCss:function(c){var indx,column,list=c.sortList,len=list.length,none=ts.css.sortNone+" "+c.cssNone,css=[ts.css.sortAsc+" "+c.cssAsc,ts.css.sortDesc+" "+c.cssDesc],cssIcon=[c.cssIconAsc,c.cssIconDesc,c.cssIconNone],aria=["ascending","descending"],updateColumnSort=function($el,index){$el.removeClass(none).addClass(css[index]).attr("aria-sort",aria[index]).find("."+ts.css.icon).removeClass(cssIcon[2]).addClass(cssIcon[index])},$extras=c.$table.find("tfoot tr").children("td, th").add($(c.namespace+"_extra_headers")).removeClass(css.join(" ")),$sorted=c.$headers.add($("thead "+c.namespace+"_extra_headers")).removeClass(css.join(" ")).addClass(none).attr("aria-sort","none").find("."+ts.css.icon).removeClass(cssIcon.join(" ")).end();$sorted.not(".sorter-false").find("."+ts.css.icon).addClass(cssIcon[2]);if(c.cssIconDisabled){$sorted.filter(".sorter-false").find("."+ts.css.icon).addClass(c.cssIconDisabled)}for(indx=0;indx<len;indx++){if(list[indx][1]!==2){$sorted=c.$headers.filter(function(i){var include=true,$el=c.$headers.eq(i),col=parseInt($el.attr("data-column"),10),end=col+ts.getClosest($el,"th, td")[0].colSpan;for(;col<end;col++){include=include?include||ts.isValueInArray(col,c.sortList)>-1:false}return include});$sorted=$sorted.not(".sorter-false").filter('[data-column="'+list[indx][0]+'"]'+(len===1?":last":""));if($sorted.length){for(column=0;column<$sorted.length;column++){if(!$sorted[column].sortDisabled){updateColumnSort($sorted.eq(column),list[indx][1])}}}if($extras.length){updateColumnSort($extras.filter('[data-column="'+list[indx][0]+'"]'),list[indx][1])}}}len=c.$headers.length;for(indx=0;indx<len;indx++){ts.setColumnAriaLabel(c,c.$headers.eq(indx))}},getClosest:function($el,selector){if($.fn.closest){return $el.closest(selector)}return $el.is(selector)?$el:$el.parents(selector).filter(":first")},setColumnAriaLabel:function(c,$header,nextSort){if($header.length){var column=parseInt($header.attr("data-column"),10),vars=c.sortVars[column],tmp=$header.hasClass(ts.css.sortAsc)?"sortAsc":$header.hasClass(ts.css.sortDesc)?"sortDesc":"sortNone",txt=$.trim($header.text())+": "+ts.language[tmp];if($header.hasClass("sorter-false")||nextSort===false){txt+=ts.language.sortDisabled}else{tmp=(vars.count+1)%vars.order.length;nextSort=vars.order[tmp];txt+=ts.language[nextSort===0?"nextAsc":nextSort===1?"nextDesc":"nextNone"]}$header.attr("aria-label",txt);if(vars.sortedBy){$header.attr("data-sortedBy",vars.sortedBy)}else{$header.removeAttr("data-sortedBy")}}},updateHeader:function(c){var index,isDisabled,$header,col,table=c.table,len=c.$headers.length;for(index=0;index<len;index++){$header=c.$headers.eq(index);col=ts.getColumnData(table,c.headers,index,true);isDisabled=ts.getData($header,col,"sorter")==="false"||ts.getData($header,col,"parser")==="false";ts.setColumnSort(c,$header,isDisabled)}},setColumnSort:function(c,$header,isDisabled){var id=c.table.id;$header[0].sortDisabled=isDisabled;$header[isDisabled?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+isDisabled);if(c.tabIndex){if(isDisabled){$header.removeAttr("tabindex")}else{$header.attr("tabindex","0")}}if(id){if(isDisabled){$header.removeAttr("aria-controls")}else{$header.attr("aria-controls",id)}}},updateHeaderSortCount:function(c,list){var col,dir,group,indx,primary,temp,val,order,sortList=list||c.sortList,len=sortList.length;c.sortList=[];for(indx=0;indx<len;indx++){val=sortList[indx];col=parseInt(val[0],10);if(col<c.columns){if(!c.sortVars[col].order){if(ts.getOrder(c.sortInitialOrder)){order=c.sortReset?[1,0,2]:[1,0]}else{order=c.sortReset?[0,1,2]:[0,1]}c.sortVars[col].order=order;c.sortVars[col].count=0}order=c.sortVars[col].order;dir=(""+val[1]).match(/^(1|d|s|o|n)/);dir=dir?dir[0]:"";switch(dir){case"1":case"d":dir=1;break;case"s":dir=primary||0;break;case"o":temp=order[(primary||0)%order.length];dir=temp===0?1:temp===1?0:2;break;case"n":dir=order[++c.sortVars[col].count%order.length];break;default:dir=0;break}primary=indx===0?dir:primary;group=[col,parseInt(dir,10)||0];c.sortList[c.sortList.length]=group;dir=$.inArray(group[1],order);c.sortVars[col].count=dir>=0?dir:group[1]%order.length}}},updateAll:function(c,resort,callback){var table=c.table;table.isUpdating=true;ts.refreshWidgets(table,true,true);ts.buildHeaders(c);ts.bindEvents(table,c.$headers,true);ts.bindMethods(c);ts.commonUpdate(c,resort,callback)},update:function(c,resort,callback){var table=c.table;table.isUpdating=true;ts.updateHeader(c);ts.commonUpdate(c,resort,callback)},updateHeaders:function(c,callback){c.table.isUpdating=true;ts.buildHeaders(c);ts.bindEvents(c.table,c.$headers,true);ts.resortComplete(c,callback)},updateCell:function(c,cell,resort,callback){if($(cell).closest("tr").hasClass(c.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(ts.isEmptyObject(c.cache)){ts.updateHeader(c);ts.commonUpdate(c,resort,callback);return}c.table.isUpdating=true;c.$table.find(c.selectorRemove).remove();var tmp,indx,row,icell,cache,len,$tbodies=c.$tbodies,$cell=$(cell),tbodyIndex=$tbodies.index(ts.getClosest($cell,"tbody")),tbcache=c.cache[tbodyIndex],$row=ts.getClosest($cell,"tr");cell=$cell[0];if($tbodies.length&&tbodyIndex>=0){row=$tbodies.eq(tbodyIndex).find("tr").not("."+c.cssChildRow).index($row);cache=tbcache.normalized[row];len=$row[0].cells.length;if(len!==c.columns){icell=0;tmp=false;for(indx=0;indx<len;indx++){if(!tmp&&$row[0].cells[indx]!==cell){icell+=$row[0].cells[indx].colSpan}else{tmp=true}}}else{icell=$cell.index()}tmp=ts.getElementText(c,cell,icell);cache[c.columns].raw[icell]=tmp;tmp=ts.getParsedText(c,cell,icell,tmp);cache[icell]=tmp;if((c.parsers[icell].type||"").toLowerCase()==="numeric"){tbcache.colMax[icell]=Math.max(Math.abs(tmp)||0,tbcache.colMax[icell]||0)}tmp=resort!=="undefined"?resort:c.resort;if(tmp!==false){ts.checkResort(c,tmp,callback)}else{ts.resortComplete(c,callback)}}else{if(ts.debug(c,"core")){console.error("updateCell aborted, tbody missing or not within the indicated table")}c.table.isUpdating=false}},addRows:function(c,$row,resort,callback){var txt,val,tbodyIndex,rowIndex,rows,cellIndex,len,order,cacheIndex,rowData,cells,cell,span,valid=typeof $row==="string"&&c.$tbodies.length===1&&/<tr/.test($row||""),table=c.table;if(valid){$row=$($row);c.$tbodies.append($row)}else if(!$row||!($row instanceof $)||ts.getClosest($row,"table")[0]!==c.table){if(ts.debug(c,"core")){console.error("addRows method requires (1) a jQuery selector reference to rows that have already "+"been added to the table, or (2) row HTML string to be added to a table with only one tbody")}return false}table.isUpdating=true;if(ts.isEmptyObject(c.cache)){ts.updateHeader(c);ts.commonUpdate(c,resort,callback)}else{rows=$row.filter("tr").attr("role","row").length;tbodyIndex=c.$tbodies.index($row.parents("tbody").filter(":first"));if(!(c.parsers&&c.parsers.length)){ts.setupParsers(c)}for(rowIndex=0;rowIndex<rows;rowIndex++){cacheIndex=0;len=$row[rowIndex].cells.length;order=c.cache[tbodyIndex].normalized.length;cells=[];rowData={child:[],raw:[],$row:$row.eq(rowIndex),order:order};for(cellIndex=0;cellIndex<len;cellIndex++){cell=$row[rowIndex].cells[cellIndex];txt=ts.getElementText(c,cell,cacheIndex);rowData.raw[cacheIndex]=txt;val=ts.getParsedText(c,cell,cacheIndex,txt);cells[cacheIndex]=val;if((c.parsers[cacheIndex].type||"").toLowerCase()==="numeric"){c.cache[tbodyIndex].colMax[cacheIndex]=Math.max(Math.abs(val)||0,c.cache[tbodyIndex].colMax[cacheIndex]||0)}span=cell.colSpan-1;if(span>0){cacheIndex+=span}cacheIndex++}cells[c.columns]=rowData;c.cache[tbodyIndex].normalized[order]=cells}ts.checkResort(c,resort,callback)}},updateCache:function(c,callback,$tbodies){if(!(c.parsers&&c.parsers.length)){ts.setupParsers(c,$tbodies)}ts.buildCache(c,callback,$tbodies)},appendCache:function(c,init){var parsed,totalRows,$tbody,$curTbody,rowIndex,tbodyIndex,appendTime,table=c.table,$tbodies=c.$tbodies,rows=[],cache=c.cache;if(ts.isEmptyObject(cache)){return c.appender?c.appender(table,rows):table.isUpdating?c.$table.triggerHandler("updateComplete",table):""}if(ts.debug(c,"core")){appendTime=new Date}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=$tbodies.eq(tbodyIndex);if($tbody.length){$curTbody=ts.processTbody(table,$tbody,true);parsed=cache[tbodyIndex].normalized;totalRows=parsed.length;for(rowIndex=0;rowIndex<totalRows;rowIndex++){rows[rows.length]=parsed[rowIndex][c.columns].$row;if(!c.appender||c.pager&&!c.pager.removeRows&&!c.pager.ajax){$curTbody.append(parsed[rowIndex][c.columns].$row)}}ts.processTbody(table,$curTbody,false)}}if(c.appender){c.appender(table,rows)}if(ts.debug(c,"core")){console.log("Rebuilt table"+ts.benchmark(appendTime))}if(!init&&!c.appender){ts.applyWidget(table)}if(table.isUpdating){c.$table.triggerHandler("updateComplete",table)}},commonUpdate:function(c,resort,callback){c.$table.find(c.selectorRemove).remove();ts.setupParsers(c);ts.buildCache(c);ts.checkResort(c,resort,callback)},initSort:function(c,cell,event){if(c.table.isUpdating){return setTimeout(function(){ts.initSort(c,cell,event)},50)}var arry,indx,headerIndx,dir,temp,tmp,$header,notMultiSort=!event[c.sortMultiSortKey],table=c.table,len=c.$headers.length,th=ts.getClosest($(cell),"th, td"),col=parseInt(th.attr("data-column"),10),sortedBy=event.type==="mouseup"?"user":event.type,order=c.sortVars[col].order;th=th[0];c.$table.triggerHandler("sortStart",table);tmp=(c.sortVars[col].count+1)%order.length;c.sortVars[col].count=event[c.sortResetKey]?2:tmp;if(c.sortRestart){for(headerIndx=0;headerIndx<len;headerIndx++){$header=c.$headers.eq(headerIndx);tmp=parseInt($header.attr("data-column"),10);if(col!==tmp&&(notMultiSort||$header.hasClass(ts.css.sortNone))){c.sortVars[tmp].count=-1}}}if(notMultiSort){$.each(c.sortVars,function(i){c.sortVars[i].sortedBy=""});c.sortList=[];c.last.sortList=[];if(c.sortForce!==null){arry=c.sortForce;for(indx=0;indx<arry.length;indx++){if(arry[indx][0]!==col){c.sortList[c.sortList.length]=arry[indx];c.sortVars[arry[indx][0]].sortedBy="sortForce"}}}dir=order[c.sortVars[col].count];if(dir<2){c.sortList[c.sortList.length]=[col,dir];c.sortVars[col].sortedBy=sortedBy;if(th.colSpan>1){for(indx=1;indx<th.colSpan;indx++){c.sortList[c.sortList.length]=[col+indx,dir];c.sortVars[col+indx].count=$.inArray(dir,order);c.sortVars[col+indx].sortedBy=sortedBy}}}}else{c.sortList=$.extend([],c.last.sortList);if(ts.isValueInArray(col,c.sortList)>=0){c.sortVars[col].sortedBy=sortedBy;for(indx=0;indx<c.sortList.length;indx++){tmp=c.sortList[indx];if(tmp[0]===col){tmp[1]=order[c.sortVars[col].count];if(tmp[1]===2){c.sortList.splice(indx,1);c.sortVars[col].count=-1}}}}else{dir=order[c.sortVars[col].count];c.sortVars[col].sortedBy=sortedBy;if(dir<2){c.sortList[c.sortList.length]=[col,dir];if(th.colSpan>1){for(indx=1;indx<th.colSpan;indx++){c.sortList[c.sortList.length]=[col+indx,dir];c.sortVars[col+indx].count=$.inArray(dir,order);c.sortVars[col+indx].sortedBy=sortedBy}}}}}c.last.sortList=$.extend([],c.sortList);if(c.sortList.length&&c.sortAppend){arry=$.isArray(c.sortAppend)?c.sortAppend:c.sortAppend[c.sortList[0][0]];if(!ts.isEmptyObject(arry)){for(indx=0;indx<arry.length;indx++){if(arry[indx][0]!==col&&ts.isValueInArray(arry[indx][0],c.sortList)<0){dir=arry[indx][1];temp=(""+dir).match(/^(a|d|s|o|n)/);if(temp){tmp=c.sortList[0][1];switch(temp[0]){case"d":dir=1;break;case"s":dir=tmp;break;case"o":dir=tmp===0?1:0;break;case"n":dir=(tmp+1)%order.length;break;default:dir=0;break}}c.sortList[c.sortList.length]=[arry[indx][0],dir];c.sortVars[arry[indx][0]].sortedBy="sortAppend"}}}}c.$table.triggerHandler("sortBegin",table);setTimeout(function(){ts.setHeadersCss(c);ts.multisort(c);ts.appendCache(c);c.$table.triggerHandler("sortBeforeEnd",table);c.$table.triggerHandler("sortEnd",table)},1)},multisort:function(c){var tbodyIndex,sortTime,colMax,rows,tmp,table=c.table,sorter=[],dir=0,textSorter=c.textSorter||"",sortList=c.sortList,sortLen=sortList.length,len=c.$tbodies.length;if(c.serverSideSorting||ts.isEmptyObject(c.cache)){return}if(ts.debug(c,"core")){sortTime=new Date}if(typeof textSorter==="object"){colMax=c.columns;while(colMax--){tmp=ts.getColumnData(table,textSorter,colMax);if(typeof tmp==="function"){sorter[colMax]=tmp}}}for(tbodyIndex=0;tbodyIndex<len;tbodyIndex++){colMax=c.cache[tbodyIndex].colMax;rows=c.cache[tbodyIndex].normalized;rows.sort(function(a,b){var sortIndex,num,col,order,sort,x,y;for(sortIndex=0;sortIndex<sortLen;sortIndex++){col=sortList[sortIndex][0];order=sortList[sortIndex][1];dir=order===0;if(c.sortStable&&a[col]===b[col]&&sortLen===1){return a[c.columns].order-b[c.columns].order}num=/n/i.test(ts.getSortType(c.parsers,col));if(num&&c.strings[col]){if(typeof ts.string[c.strings[col]]==="boolean"){num=(dir?1:-1)*(ts.string[c.strings[col]]?-1:1)}else{num=c.strings[col]?ts.string[c.strings[col]]||0:0}sort=c.numberSorter?c.numberSorter(a[col],b[col],dir,colMax[col],table):ts["sortNumeric"+(dir?"Asc":"Desc")](a[col],b[col],num,colMax[col],col,c)}else{x=dir?a:b;y=dir?b:a;if(typeof textSorter==="function"){sort=textSorter(x[col],y[col],dir,col,table)}else if(typeof sorter[col]==="function"){sort=sorter[col](x[col],y[col],dir,col,table)}else{sort=ts["sortNatural"+(dir?"Asc":"Desc")](a[col]||"",b[col]||"",col,c)}}if(sort){return sort}}return a[c.columns].order-b[c.columns].order})}if(ts.debug(c,"core")){console.log("Applying sort "+sortList.toString()+ts.benchmark(sortTime))}},resortComplete:function(c,callback){if(c.table.isUpdating){c.$table.triggerHandler("updateComplete",c.table)}if($.isFunction(callback)){callback(c.table)}},checkResort:function(c,resort,callback){var sortList=$.isArray(resort)?resort:c.sortList,resrt=typeof resort==="undefined"?c.resort:resort;if(resrt!==false&&!c.serverSideSorting&&!c.table.isProcessing){if(sortList.length){ts.sortOn(c,sortList,function(){ts.resortComplete(c,callback)},true)}else{ts.sortReset(c,function(){ts.resortComplete(c,callback);ts.applyWidget(c.table,false)})}}else{ts.resortComplete(c,callback);ts.applyWidget(c.table,false)}},sortOn:function(c,list,callback,init){var indx,table=c.table;c.$table.triggerHandler("sortStart",table);for(indx=0;indx<c.columns;indx++){c.sortVars[indx].sortedBy=ts.isValueInArray(indx,list)>-1?"sorton":""}ts.updateHeaderSortCount(c,list);ts.setHeadersCss(c);if(c.delayInit&&ts.isEmptyObject(c.cache)){ts.buildCache(c)}c.$table.triggerHandler("sortBegin",table);ts.multisort(c);ts.appendCache(c,init);c.$table.triggerHandler("sortBeforeEnd",table);c.$table.triggerHandler("sortEnd",table);ts.applyWidget(table);if($.isFunction(callback)){callback(table)}},sortReset:function(c,callback){c.sortList=[];var indx;for(indx=0;indx<c.columns;indx++){c.sortVars[indx].count=-1;c.sortVars[indx].sortedBy=""}ts.setHeadersCss(c);ts.multisort(c);ts.appendCache(c);if($.isFunction(callback)){callback(c.table)}},getSortType:function(parsers,column){return parsers&&parsers[column]?parsers[column].type||"":""},getOrder:function(val){return/^d/i.test(val)||val===1},sortNatural:function(a,b){if(a===b){return 0}a=(a||"").toString();b=(b||"").toString();var aNum,bNum,aFloat,bFloat,indx,max,regex=ts.regex;if(regex.hex.test(b)){aNum=parseInt(a.match(regex.hex),16);bNum=parseInt(b.match(regex.hex),16);if(aNum<bNum){return-1}if(aNum>bNum){return 1}}aNum=a.replace(regex.chunk,"\\0$1\\0").replace(regex.chunks,"").split("\\0");bNum=b.replace(regex.chunk,"\\0$1\\0").replace(regex.chunks,"").split("\\0");max=Math.max(aNum.length,bNum.length);for(indx=0;indx<max;indx++){aFloat=isNaN(aNum[indx])?aNum[indx]||0:parseFloat(aNum[indx])||0;bFloat=isNaN(bNum[indx])?bNum[indx]||0:parseFloat(bNum[indx])||0;if(isNaN(aFloat)!==isNaN(bFloat)){return isNaN(aFloat)?1:-1}if(typeof aFloat!==typeof bFloat){aFloat+="";bFloat+=""}if(aFloat<bFloat){return-1}if(aFloat>bFloat){return 1}}return 0},sortNaturalAsc:function(a,b,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:-empty||-1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:empty||1}return ts.sortNatural(a,b)},sortNaturalDesc:function(a,b,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:empty||1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:-empty||-1}return ts.sortNatural(b,a)},sortText:function(a,b){return a>b?1:a<b?-1:0},getTextValue:function(val,num,max){if(max){var indx,len=val?val.length:0,n=max+num;for(indx=0;indx<len;indx++){n+=val.charCodeAt(indx)}return num*n}return 0},sortNumericAsc:function(a,b,num,max,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:-empty||-1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:empty||1}if(isNaN(a)){a=ts.getTextValue(a,num,max)}if(isNaN(b)){b=ts.getTextValue(b,num,max)}return a-b},sortNumericDesc:function(a,b,num,max,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:empty||1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:-empty||-1}if(isNaN(a)){a=ts.getTextValue(a,num,max)}if(isNaN(b)){b=ts.getTextValue(b,num,max)}return b-a},sortNumeric:function(a,b){return a-b},addWidget:function(widget){if(widget.id&&!ts.isEmptyObject(ts.getWidgetById(widget.id))){console.warn('"'+widget.id+'" widget was loaded more than once!')}ts.widgets[ts.widgets.length]=widget},hasWidget:function($table,name){$table=$($table);return $table.length&&$table[0].config&&$table[0].config.widgetInit[name]||false},getWidgetById:function(name){var indx,widget,len=ts.widgets.length;for(indx=0;indx<len;indx++){widget=ts.widgets[indx];if(widget&&widget.id&&widget.id.toLowerCase()===name.toLowerCase()){return widget}}},applyWidgetOptions:function(table){var indx,widget,wo,c=table.config,len=c.widgets.length;if(len){for(indx=0;indx<len;indx++){widget=ts.getWidgetById(c.widgets[indx]);if(widget&&widget.options){wo=$.extend(true,{},widget.options);c.widgetOptions=$.extend(true,wo,c.widgetOptions);$.extend(true,ts.defaults.widgetOptions,widget.options)}}}},addWidgetFromClass:function(table){var len,indx,c=table.config,regex="^"+c.widgetClass.replace(ts.regex.templateName,"(\\S+)+")+"$",widgetClass=new RegExp(regex,"g"),widgets=(table.className||"").split(ts.regex.spaces);if(widgets.length){len=widgets.length;for(indx=0;indx<len;indx++){if(widgets[indx].match(widgetClass)){c.widgets[c.widgets.length]=widgets[indx].replace(widgetClass,"$1")}}}},applyWidgetId:function(table,id,init){table=$(table)[0];var applied,time,name,c=table.config,wo=c.widgetOptions,debug=ts.debug(c,"core"),widget=ts.getWidgetById(id);if(widget){name=widget.id;applied=false;if($.inArray(name,c.widgets)<0){c.widgets[c.widgets.length]=name}if(debug){time=new Date}if(init||!c.widgetInit[name]){c.widgetInit[name]=true;if(table.hasInitialized){ts.applyWidgetOptions(table)}if(typeof widget.init==="function"){applied=true;if(debug){console[console.group?"group":"log"]("Initializing "+name+" widget")}widget.init(table,widget,c,wo)}}if(!init&&typeof widget.format==="function"){applied=true;if(debug){console[console.group?"group":"log"]("Updating "+name+" widget")}widget.format(table,c,wo,false)}if(debug){if(applied){console.log("Completed "+(init?"initializing ":"applying ")+name+" widget"+ts.benchmark(time));if(console.groupEnd){console.groupEnd()}}}}},applyWidget:function(table,init,callback){table=$(table)[0];var indx,len,names,widget,time,c=table.config,debug=ts.debug(c,"core"),widgets=[];if(init!==false&&table.hasInitialized&&(table.isApplyingWidgets||table.isUpdating)){return}if(debug){time=new Date}ts.addWidgetFromClass(table);clearTimeout(c.timerReady);if(c.widgets.length){table.isApplyingWidgets=true;c.widgets=$.grep(c.widgets,function(val,index){return $.inArray(val,c.widgets)===index});names=c.widgets||[];len=names.length;for(indx=0;indx<len;indx++){widget=ts.getWidgetById(names[indx]);if(widget&&widget.id){if(!widget.priority){widget.priority=10}widgets[indx]=widget}else if(debug){console.warn('"'+names[indx]+'" was enabled, but the widget code has not been loaded!')}}widgets.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1});len=widgets.length;if(debug){console[console.group?"group":"log"]("Start "+(init?"initializing":"applying")+" widgets")}for(indx=0;indx<len;indx++){widget=widgets[indx];if(widget&&widget.id){ts.applyWidgetId(table,widget.id,init)}}if(debug&&console.groupEnd){console.groupEnd()}}c.timerReady=setTimeout(function(){table.isApplyingWidgets=false;$.data(table,"lastWidgetApplication",new Date);c.$table.triggerHandler("tablesorter-ready");if(!init&&typeof callback==="function"){callback(table)}if(debug){widget=c.widgets.length;console.log("Completed "+(init===true?"initializing ":"applying ")+widget+" widget"+(widget!==1?"s":"")+ts.benchmark(time))}},10)},removeWidget:function(table,name,refreshing){table=$(table)[0];var index,widget,indx,len,c=table.config;if(name===true){name=[];len=ts.widgets.length;for(indx=0;indx<len;indx++){widget=ts.widgets[indx];if(widget&&widget.id){name[name.length]=widget.id}}}else{name=($.isArray(name)?name.join(","):name||"").toLowerCase().split(/[\s,]+/)}len=name.length;for(index=0;index<len;index++){widget=ts.getWidgetById(name[index]);indx=$.inArray(name[index],c.widgets);if(indx>=0&&refreshing!==true){c.widgets.splice(indx,1)}if(widget&&widget.remove){if(ts.debug(c,"core")){console.log((refreshing?"Refreshing":"Removing")+' "'+name[index]+'" widget')}widget.remove(table,c,c.widgetOptions,refreshing);c.widgetInit[name[index]]=false}}c.$table.triggerHandler("widgetRemoveEnd",table)},refreshWidgets:function(table,doAll,dontapply){table=$(table)[0];var indx,widget,c=table.config,curWidgets=c.widgets,widgets=ts.widgets,len=widgets.length,list=[],callback=function(table){$(table).triggerHandler("refreshComplete")};for(indx=0;indx<len;indx++){widget=widgets[indx];if(widget&&widget.id&&(doAll||$.inArray(widget.id,curWidgets)<0)){list[list.length]=widget.id}}ts.removeWidget(table,list.join(","),true);if(dontapply!==true){ts.applyWidget(table,doAll||false,callback);if(doAll){ts.applyWidget(table,false,callback)}}else{callback(table)}},benchmark:function(diff){return" ("+((new Date).getTime()-diff.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(c,name){return c&&(c.debug===true||typeof c.debug==="string"&&c.debug.indexOf(name)>-1)},isEmptyObject:function(obj){for(var name in obj){return false}return true},isValueInArray:function(column,arry){var indx,len=arry&&arry.length||0;for(indx=0;indx<len;indx++){if(arry[indx][0]===column){return indx}}return-1},formatFloat:function(str,table){if(typeof str!=="string"||str===""){return str}var num,usFormat=table&&table.config?table.config.usNumberFormat!==false:typeof table!=="undefined"?table:true;if(usFormat){str=str.replace(ts.regex.comma,"")}else{str=str.replace(ts.regex.digitNonUS,"").replace(ts.regex.comma,".")}if(ts.regex.digitNegativeTest.test(str)){str=str.replace(ts.regex.digitNegativeReplace,"-$1")}num=parseFloat(str);return isNaN(num)?$.trim(str):num},isDigit:function(str){return isNaN(str)?ts.regex.digitTest.test(str.toString().replace(ts.regex.digitReplace,"")):str!==""},computeColumnIndex:function($rows,c){var i,j,k,l,cell,cells,rowIndex,rowSpan,colSpan,firstAvailCol,columns=c&&c.columns||0,matrix=[],matrixrow=new Array(columns);for(i=0;i<$rows.length;i++){cells=$rows[i].cells;for(j=0;j<cells.length;j++){cell=cells[j];rowIndex=i;rowSpan=cell.rowSpan||1;colSpan=cell.colSpan||1;if(typeof matrix[rowIndex]==="undefined"){matrix[rowIndex]=[]}for(k=0;k<matrix[rowIndex].length+1;k++){if(typeof matrix[rowIndex][k]==="undefined"){firstAvailCol=k;break}}if(columns&&cell.cellIndex===firstAvailCol){}else if(cell.setAttribute){cell.setAttribute("data-column",firstAvailCol)}else{$(cell).attr("data-column",firstAvailCol)}for(k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof matrix[k]==="undefined"){matrix[k]=[]}matrixrow=matrix[k];for(l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}ts.checkColumnCount($rows,matrix,matrixrow.length);return matrixrow.length},checkColumnCount:function($rows,matrix,columns){var i,len,valid=true,cells=[];for(i=0;i<matrix.length;i++){if(matrix[i]){len=matrix[i].length;if(matrix[i].length!==columns){valid=false;break}}}if(!valid){$rows.each(function(indx,el){var cell=el.parentElement.nodeName;if(cells.indexOf(cell)<0){cells.push(cell)}});console.error("Invalid or incorrect number of columns in the "+cells.join(" or ")+"; expected "+columns+", but found "+len+" columns")}},fixColumnWidth:function(table){table=$(table)[0];var overallWidth,percent,$tbodies,len,index,c=table.config,$colgroup=c.$table.children("colgroup");if($colgroup.length&&$colgroup.hasClass(ts.css.colgroup)){$colgroup.remove()}if(c.widthFixed&&c.$table.children("colgroup").length===0){$colgroup=$('<colgroup class="'+ts.css.colgroup+'">');overallWidth=c.$table.width();$tbodies=c.$tbodies.find("tr:first").children(":visible");len=$tbodies.length;for(index=0;index<len;index++){percent=parseInt($tbodies.eq(index).width()/overallWidth*1e3,10)/10+"%";$colgroup.append($("<col>").css("width",percent))}c.$table.prepend($colgroup)}},getData:function(header,configHeader,key){var meta,cl4ss,val="",$header=$(header);if(!$header.length){return""}meta=$.metadata?$header.metadata():false;cl4ss=" "+($header.attr("class")||"");if(typeof $header.data(key)!=="undefined"||typeof $header.data(key.toLowerCase())!=="undefined"){val+=$header.data(key)||$header.data(key.toLowerCase())}else if(meta&&typeof meta[key]!=="undefined"){val+=meta[key]}else if(configHeader&&typeof configHeader[key]!=="undefined"){val+=configHeader[key]}else if(cl4ss!==" "&&cl4ss.match(" "+key+"-")){val=cl4ss.match(new RegExp("\\s"+key+"-([\\w-]+)"))[1]||""}return $.trim(val)},getColumnData:function(table,obj,indx,getCell,$headers){if(typeof obj!=="object"||obj===null){return obj}table=$(table)[0];var $header,key,c=table.config,$cells=$headers||c.$headers,$cell=c.$headerIndexed&&c.$headerIndexed[indx]||$cells.find('[data-column="'+indx+'"]:last');if(typeof obj[indx]!=="undefined"){return getCell?obj[indx]:obj[$cells.index($cell)]}for(key in obj){if(typeof key==="string"){$header=$cell.filter(key).add($cell.find(key));if($header.length){return obj[key]}}}return},isProcessing:function($table,toggle,$headers){$table=$($table);var c=$table[0].config,$header=$headers||$table.find("."+ts.css.header);if(toggle){if(typeof $headers!=="undefined"&&c.sortList.length>0){$header=$header.filter(function(){return this.sortDisabled?false:ts.isValueInArray(parseFloat($(this).attr("data-column")),c.sortList)>=0})}$table.add($header).addClass(ts.css.processing+" "+c.cssProcessing)}else{$table.add($header).removeClass(ts.css.processing+" "+c.cssProcessing)}},processTbody:function(table,$tb,getIt){table=$(table)[0];if(getIt){table.isProcessing=true;$tb.before('<colgroup class="tablesorter-savemyplace"/>');return $.fn.detach?$tb.detach():$tb.remove()}var holdr=$(table).find("colgroup.tablesorter-savemyplace");$tb.insertAfter(holdr);holdr.remove();table.isProcessing=false},clearTableBody:function(table){$(table)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõöō",O:"ÓÒÔÕÖŌ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},replaceAccents:function(str){var chr,acc="[",eq=ts.characterEquivalents;if(!ts.characterRegex){ts.characterRegexArray={};for(chr in eq){if(typeof chr==="string"){acc+=eq[chr];ts.characterRegexArray[chr]=new RegExp("["+eq[chr]+"]","g")}}ts.characterRegex=new RegExp(acc+"]")}if(ts.characterRegex.test(str)){for(chr in eq){if(typeof chr==="string"){str=str.replace(ts.characterRegexArray[chr],chr)}}}return str},validateOptions:function(c){var setting,setting2,typ,timer,ignore="headers sortForce sortList sortAppend widgets".split(" "),orig=c.originalSettings;if(orig){if(ts.debug(c,"core")){timer=new Date}for(setting in orig){typ=typeof ts.defaults[setting];if(typ==="undefined"){console.warn('Tablesorter Warning! "table.config.'+setting+'" option not recognized')}else if(typ==="object"){for(setting2 in orig[setting]){typ=ts.defaults[setting]&&typeof ts.defaults[setting][setting2];if($.inArray(setting,ignore)<0&&typ==="undefined"){console.warn('Tablesorter Warning! "table.config.'+setting+"."+setting2+'" option not recognized')}}}}if(ts.debug(c,"core")){console.log("validate options time:"+ts.benchmark(timer))}}},restoreHeaders:function(table){var index,$cell,c=$(table)[0].config,$headers=c.$table.find(c.selectorHeaders),len=$headers.length;for(index=0;index<len;index++){$cell=$headers.eq(index);if($cell.find("."+ts.css.headerIn).length){$cell.html(c.headerContent[index])}}},destroy:function(table,removeClasses,callback){table=$(table)[0];if(!table.hasInitialized){return}ts.removeWidget(table,true,false);var events,$t=$(table),c=table.config,$h=$t.find("thead:first"),$r=$h.find("tr."+ts.css.headerRow).removeClass(ts.css.headerRow+" "+c.cssHeaderRow),$f=$t.find("tfoot:first > tr").children("th, td");if(removeClasses===false&&$.inArray("uitheme",c.widgets)>=0){$t.triggerHandler("applyWidgetId",["uitheme"]);$t.triggerHandler("applyWidgetId",["zebra"])}$h.find("tr").not($r).remove();events="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton "+"appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(c.namespace+" ");$t.removeData("tablesorter").unbind(events.replace(ts.regex.spaces," "));c.$headers.add($f).removeClass([ts.css.header,c.cssHeader,c.cssAsc,c.cssDesc,ts.css.sortAsc,ts.css.sortDesc,ts.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true");$r.find(c.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(c.namespace+" ").replace(ts.regex.spaces," "));ts.restoreHeaders(table);$t.toggleClass(ts.css.table+" "+c.tableClass+" tablesorter-"+c.theme,removeClasses===false);$t.removeClass(c.namespace.slice(1));table.hasInitialized=false;delete table.config.cache;if(typeof callback==="function"){callback(table)}if(ts.debug(c,"core")){console.log("tablesorter has been removed")}}};$.fn.tablesorter=function(settings){return this.each(function(){var table=this,c=$.extend(true,{},ts.defaults,settings,ts.instanceMethods);c.originalSettings=settings;if(!table.hasInitialized&&ts.buildTable&&this.nodeName!=="TABLE"){ts.buildTable(table,c)}else{ts.setup(table,c)}})};if(!(window.console&&window.console.log)){ts.logs=[];console={};console.log=console.warn=console.error=console.table=function(){var arg=arguments.length>1?arguments:arguments[0];ts.logs[ts.logs.length]={date:Date.now(),log:arg}}}ts.addParser({id:"no-parser",is:function(){return false},format:function(){return""},type:"text"});ts.addParser({id:"text",is:function(){return true},format:function(str,table){var c=table.config;if(str){str=$.trim(c.ignoreCase?str.toLocaleLowerCase():str);str=c.sortLocaleCompare?ts.replaceAccents(str):str}return str},type:"text"});ts.regex.nondigit=/[^\w,. \-()]/g;ts.addParser({id:"digit",is:function(str){return ts.isDigit(str)},format:function(str,table){var num=ts.formatFloat((str||"").replace(ts.regex.nondigit,""),table);return str&&typeof num==="number"?num:str?$.trim(str&&table.config.ignoreCase?str.toLocaleLowerCase():str):str},type:"numeric"});ts.regex.currencyReplace=/[+\-,. ]/g;ts.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/;ts.addParser({id:"currency",is:function(str){str=(str||"").replace(ts.regex.currencyReplace,"");return ts.regex.currencyTest.test(str)},format:function(str,table){var num=ts.formatFloat((str||"").replace(ts.regex.nondigit,""),table);return str&&typeof num==="number"?num:str?$.trim(str&&table.config.ignoreCase?str.toLocaleLowerCase():str):str},type:"numeric"});ts.regex.urlProtocolTest=/^(https?|ftp|file):\/\//;ts.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/;ts.addParser({id:"url",is:function(str){return ts.regex.urlProtocolTest.test(str)},format:function(str){return str?$.trim(str.replace(ts.regex.urlProtocolReplace,"")):str},type:"text"});ts.regex.dash=/-/g;ts.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/;ts.addParser({id:"isoDate",is:function(str){return ts.regex.isoDate.test(str)},format:function(str){var date=str?new Date(str.replace(ts.regex.dash,"/")):str;return date instanceof Date&&isFinite(date)?date.getTime():str},type:"numeric"});ts.regex.percent=/%/g;ts.regex.percentTest=/(\d\s*?%|%\s*?\d)/;ts.addParser({id:"percent",is:function(str){return ts.regex.percentTest.test(str)&&str.length<15},format:function(str,table){return str?ts.formatFloat(str.replace(ts.regex.percent,""),table):str},type:"numeric"});ts.addParser({id:"image",is:function(str,table,node,$node){return $node.find("img").length>0},format:function(str,table,cell){return $(cell).find("img").attr(table.config.imgAttr||"alt")||str},parsed:true,type:"text"});ts.regex.dateReplace=/(\S)([AP]M)$/i;ts.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i;ts.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i;ts.addParser({id:"usLongDate",is:function(str){return ts.regex.usLongDateTest1.test(str)||ts.regex.usLongDateTest2.test(str)},format:function(str){var date=str?new Date(str.replace(ts.regex.dateReplace,"$1 $2")):str;return date instanceof Date&&isFinite(date)?date.getTime():str},type:"numeric"});ts.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/;ts.regex.shortDateReplace=/[\-.,]/g;ts.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/;ts.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/;ts.convertFormat=function(dateString,format){dateString=(dateString||"").replace(ts.regex.spaces," ").replace(ts.regex.shortDateReplace,"/");if(format==="mmddyyyy"){dateString=dateString.replace(ts.regex.shortDateXXY,"$3/$1/$2")}else if(format==="ddmmyyyy"){dateString=dateString.replace(ts.regex.shortDateXXY,"$3/$2/$1")}else if(format==="yyyymmdd"){dateString=dateString.replace(ts.regex.shortDateYMD,"$1/$2/$3")}var date=new Date(dateString);return date instanceof Date&&isFinite(date)?date.getTime():""};ts.addParser({id:"shortDate",is:function(str){str=(str||"").replace(ts.regex.spaces," ").replace(ts.regex.shortDateReplace,"/");return ts.regex.shortDateTest.test(str)},format:function(str,table,cell,cellIndex){if(str){var c=table.config,$header=c.$headerIndexed[cellIndex],format=$header.length&&$header.data("dateFormat")||ts.getData($header,ts.getColumnData(table,c.headers,cellIndex),"dateFormat")||c.dateFormat;if($header.length){$header.data("dateFormat",format)}return ts.convertFormat(str,format)||str}return str},type:"numeric"});ts.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i;ts.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i;ts.addParser({id:"time",is:function(str){return ts.regex.timeTest.test(str)},format:function(str){var temp,timePart=(str||"").match(ts.regex.timeMatch),orig=new Date(str),time=str&&(timePart!==null?timePart[0]:"00:00 AM"),date=time?new Date("2000/01/01 "+time.replace(ts.regex.dateReplace,"$1 $2")):time;if(date instanceof Date&&isFinite(date)){temp=orig instanceof Date&&isFinite(orig)?orig.getTime():0;return temp?parseFloat(date.getTime()+"."+orig.getTime()):date.getTime()}return str},type:"numeric"});ts.addParser({id:"metadata",is:function(){return false},format:function(str,table,cell){var c=table.config,p=!c.parserMetadataName?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",priority:90,format:function(table,c,wo){var $visibleRows,$row,count,isEven,tbodyIndex,rowIndex,len,child=new RegExp(c.cssChildRow,"i"),$tbodies=c.$tbodies.add($(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){count=0;$visibleRows=$tbodies.eq(tbodyIndex).children("tr:visible").not(c.selectorRemove);len=$visibleRows.length;for(rowIndex=0;rowIndex<len;rowIndex++){$row=$visibleRows.eq(rowIndex);if(!child.test($row[0].className)){count++}isEven=count%2===0;$row.removeClass(wo.zebra[isEven?1:0]).addClass(wo.zebra[isEven?0:1])}}},remove:function(table,c,wo,refreshing){if(refreshing){return}var tbodyIndex,$tbody,$tbodies=c.$tbodies,toRemove=(wo.zebra||["even","odd"]).join(" ");for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(toRemove);ts.processTbody(table,$tbody,false)}}})})(jQuery);
(function($){$.extend({tablesorterPager:new function(){function updatePageDisplay(c){var s=$(c.cssPageDisplay,c.container).val(c.page+1+c.seperator+c.totalPages)}function setPageSize(table,size){var c=table.config;c.size=size;c.totalPages=Math.ceil(c.totalRows/c.size);c.pagerPositionSet=false;moveToPage(table);fixPosition(table)}function fixPosition(table){var c=table.config;if(!c.pagerPositionSet&&c.positionFixed){var c=table.config,o=$(table);if(o.offset){c.container.css({top:o.offset().top+o.height()+"px",position:"absolute"})}c.pagerPositionSet=true}}function moveToFirstPage(table){var c=table.config;c.page=0;moveToPage(table)}function moveToLastPage(table){var c=table.config;c.page=c.totalPages-1;moveToPage(table)}function moveToNextPage(table){var c=table.config;c.page++;if(c.page>=c.totalPages-1){c.page=c.totalPages-1}moveToPage(table)}function moveToPrevPage(table){var c=table.config;c.page--;if(c.page<=0){c.page=0}moveToPage(table)}function moveToPage(table){var c=table.config;if(c.page<0||c.page>c.totalPages-1){c.page=0}renderTable(table,c.rowsCopy)}function renderTable(table,rows){var c=table.config;var l=rows.length;var s=c.page*c.size;var e=s+c.size;if(e>rows.length){e=rows.length}var tableBody=$(table.tBodies[0]);$.tablesorter.clearTableBody(table);for(var i=s;i<e;i++){var o=rows[i];var l=o.length;for(var j=0;j<l;j++){tableBody[0].appendChild(o[j])}}fixPosition(table,tableBody);$(table).trigger("applyWidgets");if(c.page>=c.totalPages){moveToLastPage(table)}updatePageDisplay(c)}this.appender=function(table,rows){var c=table.config;c.rowsCopy=rows;c.totalRows=rows.length;c.totalPages=Math.ceil(c.totalRows/c.size);renderTable(table,rows)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",seperator:"/",positionFixed:true,appender:this.appender};this.construct=function(settings){return this.each(function(){config=$.extend(this.config,$.tablesorterPager.defaults,settings);var table=this,pager=config.container;$(this).trigger("appendCache");config.size=parseInt($(".pagesize",pager).val());$(config.cssFirst,pager).click(function(){moveToFirstPage(table);return false});$(config.cssNext,pager).click(function(){moveToNextPage(table);return false});$(config.cssPrev,pager).click(function(){moveToPrevPage(table);return false});$(config.cssLast,pager).click(function(){moveToLastPage(table);return false});$(config.cssPageSize,pager).change(function(){setPageSize(table,parseInt($(this).val()));return false})})}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery);
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function(jQuery){(function($,window,document){"use strict";var ts=$.tablesorter||{};$.extend(true,ts.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}});ts.storage=function(table,key,value,options){table=$(table)[0];var cookieIndex,cookies,date,hasStorage=false,values={},c=table.config,wo=c&&c.widgetOptions,debug=ts.debug(c,"storage"),storageType=(options&&options.storageType||wo&&wo.storage_storageType).toString().charAt(0).toLowerCase(),session=storageType?"":options&&options.useSessionStorage||wo&&wo.storage_useSessionStorage,$table=$(table),id=options&&options.id||$table.attr(options&&options.group||wo&&wo.storage_group||"data-table-group")||wo&&wo.storage_tableId||table.id||$(".tablesorter").index($table),url=options&&options.url||$table.attr(options&&options.page||wo&&wo.storage_page||"data-table-page")||wo&&wo.storage_fixedUrl||c&&c.fixedUrl||window.location.pathname;if(storageType!=="c"){storageType=storageType==="s"||session?"sessionStorage":"localStorage";if(storageType in window){try{window[storageType].setItem("_tmptest","temp");hasStorage=true;window[storageType].removeItem("_tmptest")}catch(error){console.warn(storageType+" is not supported in this browser")}}}if(debug){console.log("Storage >> Using",hasStorage?storageType:"cookies")}if($.parseJSON){if(hasStorage){values=$.parseJSON(window[storageType][key]||"null")||{}}else{cookies=document.cookie.split(/[;\s|=]/);cookieIndex=$.inArray(key,cookies)+1;values=cookieIndex!==0?$.parseJSON(cookies[cookieIndex]||"null")||{}:{}}}if(typeof value!=="undefined"&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!values[url]){values[url]={}}values[url][id]=value;if(hasStorage){window[storageType][key]=JSON.stringify(values)}else{date=new Date;date.setTime(date.getTime()+31536e6);document.cookie=key+"="+JSON.stringify(values).replace(/\"/g,'"')+"; expires="+date.toGMTString()+"; path=/"}}else{return values&&values[url]?values[url][id]:""}}})(jQuery,window,document);(function($){"use strict";var ts=$.tablesorter||{};ts.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}};$.extend(ts.css,{wrapper:"tablesorter-wrapper"});ts.addWidget({id:"uitheme",priority:10,format:function(table,c,wo){var i,tmp,hdr,icon,time,$header,$icon,$tfoot,$h,oldtheme,oldremove,oldIconRmv,hasOldTheme,themesAll=ts.themes,$table=c.$table.add($(c.namespace+"_extra_table")),$headers=c.$headers.add($(c.namespace+"_extra_headers")),theme=c.theme||"jui",themes=themesAll[theme]||{},remove=$.trim([themes.sortNone,themes.sortDesc,themes.sortAsc,themes.active].join(" ")),iconRmv=$.trim([themes.iconSortNone,themes.iconSortDesc,themes.iconSortAsc].join(" ")),debug=ts.debug(c,"uitheme");if(debug){time=new Date}if(!$table.hasClass("tablesorter-"+theme)||c.theme!==c.appliedTheme||!wo.uitheme_applied){wo.uitheme_applied=true;oldtheme=themesAll[c.appliedTheme]||{};hasOldTheme=!$.isEmptyObject(oldtheme);oldremove=hasOldTheme?[oldtheme.sortNone,oldtheme.sortDesc,oldtheme.sortAsc,oldtheme.active].join(" "):"";oldIconRmv=hasOldTheme?[oldtheme.iconSortNone,oldtheme.iconSortDesc,oldtheme.iconSortAsc].join(" "):"";if(hasOldTheme){wo.zebra[0]=$.trim(" "+wo.zebra[0].replace(" "+oldtheme.even,""));wo.zebra[1]=$.trim(" "+wo.zebra[1].replace(" "+oldtheme.odd,""));c.$tbodies.children().removeClass([oldtheme.even,oldtheme.odd].join(" "))}if(themes.even){wo.zebra[0]+=" "+themes.even}if(themes.odd){wo.zebra[1]+=" "+themes.odd}$table.children("caption").removeClass(oldtheme.caption||"").addClass(themes.caption);$tfoot=$table.removeClass((c.appliedTheme?"tablesorter-"+(c.appliedTheme||""):"")+" "+(oldtheme.table||"")).addClass("tablesorter-"+theme+" "+(themes.table||"")).children("tfoot");c.appliedTheme=c.theme;if($tfoot.length){$tfoot.children("tr").removeClass(oldtheme.footerRow||"").addClass(themes.footerRow).children("th, td").removeClass(oldtheme.footerCells||"").addClass(themes.footerCells)}$headers.removeClass((hasOldTheme?[oldtheme.header,oldtheme.hover,oldremove].join(" "):"")||"").addClass(themes.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(event){$(this)[event.type==="mouseenter"?"addClass":"removeClass"](themes.hover||"")});$headers.each(function(){var $this=$(this);if(!$this.find("."+ts.css.wrapper).length){$this.wrapInner('<div class="'+ts.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}});if(c.cssIcon){$headers.find("."+ts.css.icon).removeClass(hasOldTheme?[oldtheme.icons,oldIconRmv].join(" "):"").addClass(themes.icons||"")}if(ts.hasWidget(c.table,"filter")){tmp=function(){$table.children("thead").children("."+ts.css.filterRow).removeClass(hasOldTheme?oldtheme.filterRow||"":"").addClass(themes.filterRow||"")};if(wo.filter_initialized){tmp()}else{$table.one("filterInit",function(){tmp()})}}}for(i=0;i<c.columns;i++){$header=c.$headers.add($(c.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+i+'"]');$icon=ts.css.icon?$header.find("."+ts.css.icon):$();$h=$headers.not(".sorter-false").filter('[data-column="'+i+'"]:last');if($h.length){$header.removeClass(remove);$icon.removeClass(iconRmv);if($h[0].sortDisabled){$icon.removeClass(themes.icons||"")}else{hdr=themes.sortNone;icon=themes.iconSortNone;if($h.hasClass(ts.css.sortAsc)){hdr=[themes.sortAsc,themes.active].join(" ");icon=themes.iconSortAsc}else if($h.hasClass(ts.css.sortDesc)){hdr=[themes.sortDesc,themes.active].join(" ");icon=themes.iconSortDesc}$header.addClass(hdr);$icon.addClass(icon||"")}}}if(debug){console.log("uitheme >> Applied "+theme+" theme"+ts.benchmark(time))}},remove:function(table,c,wo,refreshing){if(!wo.uitheme_applied){return}var $table=c.$table,theme=c.appliedTheme||"jui",themes=ts.themes[theme]||ts.themes.jui,$headers=$table.children("thead").children(),remove=themes.sortNone+" "+themes.sortDesc+" "+themes.sortAsc,iconRmv=themes.iconSortNone+" "+themes.iconSortDesc+" "+themes.iconSortAsc;$table.removeClass("tablesorter-"+theme+" "+themes.table);wo.uitheme_applied=false;if(refreshing){return}$table.find(ts.css.header).removeClass(themes.header);$headers.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(themes.hover+" "+remove+" "+themes.active).filter("."+ts.css.filterRow).removeClass(themes.filterRow);$headers.find("."+ts.css.icon).removeClass(themes.icons+" "+iconRmv)}})})(jQuery);(function($){"use strict";var ts=$.tablesorter||{};ts.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(table,c,wo){var $tbody,tbodyIndex,$rows,rows,$row,$cells,remove,indx,$table=c.$table,$tbodies=c.$tbodies,sortList=c.sortList,len=sortList.length,css=wo&&wo.columns||["primary","secondary","tertiary"],last=css.length-1;remove=css.join(" ");for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$rows=$tbody.children("tr");$rows.each(function(){$row=$(this);if(this.style.display!=="none"){$cells=$row.children().removeClass(remove);if(sortList&&sortList[0]){$cells.eq(sortList[0][0]).addClass(css[0]);if(len>1){for(indx=1;indx<len;indx++){$cells.eq(sortList[indx][0]).addClass(css[indx]||css[last])}}}}});ts.processTbody(table,$tbody,false)}rows=wo.columns_thead!==false?["thead tr"]:[];if(wo.columns_tfoot!==false){rows.push("tfoot tr")}if(rows.length){$rows=$table.find(rows.join(",")).children().removeClass(remove);if(len){for(indx=0;indx<len;indx++){$rows.filter('[data-column="'+sortList[indx][0]+'"]').addClass(css[indx]||css[last])}}}},remove:function(table,c,wo){var tbodyIndex,$tbody,$tbodies=c.$tbodies,remove=(wo.columns||["primary","secondary","tertiary"]).join(" ");c.$headers.removeClass(remove);c.$table.children("tfoot").children("tr").children("th, td").removeClass(remove);for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children("tr").each(function(){$(this).children().removeClass(remove)});ts.processTbody(table,$tbody,false)}}})})(jQuery);(function($){"use strict";var tsf,tsfRegex,ts=$.tablesorter||{},tscss=ts.css,tskeyCodes=ts.keyCodes;$.extend(tscss,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"});$.extend(tskeyCodes,{backSpace:8,escape:27,space:32,left:37,down:40});ts.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:false,filter_childByColumn:false,filter_childWithSibs:true,filter_columnAnyMatch:true,filter_columnFilters:true,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:true,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:true,filter_saveFilters:false,filter_searchDelay:300,filter_searchFiltered:true,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:false,filter_startsWith:false,filter_useParsedData:false},format:function(table,c,wo){if(!c.$table.hasClass("hasFilters")){tsf.init(table,c,wo)}},remove:function(table,c,wo,refreshing){var tbodyIndex,$tbody,$table=c.$table,$tbodies=c.$tbodies,events=("addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ").split(" ").join(c.namespace+"filter ");$table.removeClass("hasFilters").unbind(events.replace(ts.regex.spaces," ")).find("."+tscss.filterRow).remove();wo.filter_initialized=false;if(refreshing){return}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(wo.filter_filteredRow).show();ts.processTbody(table,$tbody,false)}if(wo.filter_reset){$(document).undelegate(wo.filter_reset,"click"+c.namespace+"filter")}}});tsf=ts.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(c,data,vars){if((tsfRegex.orTest.test(data.iFilter)||tsfRegex.orSplit.test(data.filter))&&!tsfRegex.regex.test(data.filter)){var indx,filterMatched,query,regex,data2=$.extend({},data),filter=data.filter.split(tsfRegex.orSplit),iFilter=data.iFilter.split(tsfRegex.orSplit),len=filter.length;for(indx=0;indx<len;indx++){data2.nestedFilters=true;data2.filter=""+(tsf.parseFilter(c,filter[indx],data)||"");data2.iFilter=""+(tsf.parseFilter(c,iFilter[indx],data)||"");query="("+(tsf.parseFilter(c,data2.filter,data)||"")+")";try{regex=new RegExp(data.isMatch?query:"^"+query+"$",c.widgetOptions.filter_ignoreCase?"i":"");filterMatched=regex.test(data2.exact)||tsf.processTypes(c,data2,vars);if(filterMatched){return filterMatched}}catch(error){return null}}return filterMatched||false}return null},and:function(c,data,vars){if(tsfRegex.andTest.test(data.filter)){var indx,filterMatched,result,query,regex,data2=$.extend({},data),filter=data.filter.split(tsfRegex.andSplit),iFilter=data.iFilter.split(tsfRegex.andSplit),len=filter.length;for(indx=0;indx<len;indx++){data2.nestedFilters=true;data2.filter=""+(tsf.parseFilter(c,filter[indx],data)||"");data2.iFilter=""+(tsf.parseFilter(c,iFilter[indx],data)||"");query=("("+(tsf.parseFilter(c,data2.filter,data)||"")+")").replace(tsfRegex.wild01,"\\S{1}").replace(tsfRegex.wild0More,"\\S*");try{regex=new RegExp(data.isMatch?query:"^"+query+"$",c.widgetOptions.filter_ignoreCase?"i":"");result=regex.test(data2.exact)||tsf.processTypes(c,data2,vars);if(indx===0){filterMatched=result}else{filterMatched=filterMatched&&result}}catch(error){return null}}return filterMatched||false}return null},regex:function(c,data){if(tsfRegex.regex.test(data.filter)){var matches,regex=data.filter_regexCache[data.index]||tsfRegex.regex.exec(data.filter),isRegex=regex instanceof RegExp;try{if(!isRegex){data.filter_regexCache[data.index]=regex=new RegExp(regex[1],regex[2])}matches=regex.test(data.exact)}catch(error){matches=false}return matches}return null},operators:function(c,data){if(tsfRegex.operTest.test(data.iFilter)&&data.iExact!==""){var cachedValue,result,txt,table=c.table,parsed=data.parsed[data.index],query=ts.formatFloat(data.iFilter.replace(tsfRegex.operators,""),table),parser=c.parsers[data.index]||{},savedSearch=query;if(parsed||parser.type==="numeric"){txt=$.trim(""+data.iFilter.replace(tsfRegex.operators,""));result=tsf.parseFilter(c,txt,data,true);query=typeof result==="number"&&result!==""&&!isNaN(result)?result:query}if((parsed||parser.type==="numeric")&&!isNaN(query)&&typeof data.cache!=="undefined"){cachedValue=data.cache}else{txt=isNaN(data.iExact)?data.iExact.replace(ts.regex.nondigit,""):data.iExact;cachedValue=ts.formatFloat(txt,table)}if(tsfRegex.gtTest.test(data.iFilter)){result=tsfRegex.gteTest.test(data.iFilter)?cachedValue>=query:cachedValue>query}else if(tsfRegex.ltTest.test(data.iFilter)){result=tsfRegex.lteTest.test(data.iFilter)?cachedValue<=query:cachedValue<query}if(!result&&savedSearch===""){result=true}return result}return null},notMatch:function(c,data){if(tsfRegex.notTest.test(data.iFilter)){var indx,txt=data.iFilter.replace("!",""),filter=tsf.parseFilter(c,txt,data)||"";if(tsfRegex.exact.test(filter)){filter=filter.replace(tsfRegex.exact,"");return filter===""?true:$.trim(filter)!==data.iExact}else{indx=data.iExact.search($.trim(filter));return filter===""?true:data.anyMatch?indx<0:!(c.widgetOptions.filter_startsWith?indx===0:indx>=0)}}return null},exact:function(c,data){if(tsfRegex.exact.test(data.iFilter)){var txt=data.iFilter.replace(tsfRegex.exact,""),filter=tsf.parseFilter(c,txt,data)||"";return data.anyMatch?$.inArray(filter,data.rowArray)>=0:filter==data.iExact}return null},range:function(c,data){if(tsfRegex.toTest.test(data.iFilter)){var result,tmp,range1,range2,table=c.table,index=data.index,parsed=data.parsed[index],query=data.iFilter.split(tsfRegex.toSplit);tmp=query[0].replace(ts.regex.nondigit,"")||"";range1=ts.formatFloat(tsf.parseFilter(c,tmp,data),table);tmp=query[1].replace(ts.regex.nondigit,"")||"";range2=ts.formatFloat(tsf.parseFilter(c,tmp,data),table);if(parsed||c.parsers[index].type==="numeric"){result=c.parsers[index].format(""+query[0],table,c.$headers.eq(index),index);range1=result!==""&&!isNaN(result)?result:range1;result=c.parsers[index].format(""+query[1],table,c.$headers.eq(index),index);range2=result!==""&&!isNaN(result)?result:range2}if((parsed||c.parsers[index].type==="numeric")&&!isNaN(range1)&&!isNaN(range2)){result=data.cache}else{tmp=isNaN(data.iExact)?data.iExact.replace(ts.regex.nondigit,""):data.iExact;result=ts.formatFloat(tmp,table)}if(range1>range2){tmp=range1;range1=range2;range2=tmp}return result>=range1&&result<=range2||(range1===""||range2==="")}return null},wild:function(c,data){if(tsfRegex.wildOrTest.test(data.iFilter)){var query=""+(tsf.parseFilter(c,data.iFilter,data)||"");if(!tsfRegex.wildTest.test(query)&&data.nestedFilters){query=data.isMatch?query:"^("+query+")$"}try{return new RegExp(query.replace(tsfRegex.wild01,"\\S{1}").replace(tsfRegex.wild0More,"\\S*"),c.widgetOptions.filter_ignoreCase?"i":"").test(data.exact)}catch(error){return null}}return null},fuzzy:function(c,data){if(tsfRegex.fuzzyTest.test(data.iFilter)){var indx,patternIndx=0,len=data.iExact.length,txt=data.iFilter.slice(1),pattern=tsf.parseFilter(c,txt,data)||"";for(indx=0;indx<len;indx++){if(data.iExact[indx]===pattern[patternIndx]){patternIndx+=1}}return patternIndx===pattern.length}return null}},init:function(table){ts.language=$.extend(true,{},{to:"to",or:"or",and:"and"},ts.language);var options,string,txt,$header,column,val,fxn,noSelect,c=table.config,wo=c.widgetOptions,processStr=function(prefix,str,suffix){str=str.trim();return str===""?"":(prefix||"")+str+(suffix||"")};c.$table.addClass("hasFilters");c.lastSearch=[];wo.filter_searchTimer=null;wo.filter_initTimer=null;wo.filter_formatterCount=0;wo.filter_formatterInit=[];wo.filter_anyColumnSelector='[data-column="all"],[data-column="any"]';wo.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]';val="\\{"+tsfRegex.query+"\\}";$.extend(tsfRegex,{child:new RegExp(c.cssChildRow),filtered:new RegExp(wo.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+processStr("|",ts.language.or)+processStr("|",ts.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+processStr("|",ts.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+processStr("|",ts.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+processStr("",ts.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+processStr("",ts.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+processStr("|\\s+",ts.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+processStr("|\\s+(?:",ts.language.or,")\\s+")+")","gi"),iQuery:new RegExp(val,"i"),igQuery:new RegExp(val,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/});val=c.$headers.filter(".filter-false, .parser-false").length;if(wo.filter_columnFilters!==false&&val!==c.$headers.length){tsf.buildRow(table,c,wo)}txt="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(c.namespace+"filter ");c.$table.bind(txt,function(event,filter){val=wo.filter_hideEmpty&&$.isEmptyObject(c.cache)&&!(c.delayInit&&event.type==="appendCache");c.$table.find("."+tscss.filterRow).toggleClass(wo.filter_filteredRow,val);if(!/(search|filter)/.test(event.type)){event.stopPropagation();tsf.buildDefault(table,true)}if(event.type==="filterReset"||event.type==="filterAndSortReset"){c.$table.find("."+tscss.filter).add(wo.filter_$externalFilters).val("");if(event.type==="filterAndSortReset"){ts.sortReset(this.config,function(){tsf.searching(table,[])})}else{tsf.searching(table,[])}}else if(event.type==="filterResetSaved"){ts.storage(table,"tablesorter-filters","")}else if(event.type==="filterEnd"){tsf.buildDefault(table,true)}else{filter=event.type==="search"?filter:event.type==="updateComplete"?c.$table.data("lastSearch"):"";if(/(update|add)/.test(event.type)&&event.type!=="updateComplete"){c.lastCombinedFilter=null;c.lastSearch=[];setTimeout(function(){c.$table.triggerHandler("filterFomatterUpdate")},100)}tsf.searching(table,filter,true)}return false});if(wo.filter_reset){if(wo.filter_reset instanceof $){wo.filter_reset.click(function(){c.$table.triggerHandler("filterReset")})}else if($(wo.filter_reset).length){$(document).undelegate(wo.filter_reset,"click"+c.namespace+"filter").delegate(wo.filter_reset,"click"+c.namespace+"filter",function(){c.$table.triggerHandler("filterReset")})}}if(wo.filter_functions){for(column=0;column<c.columns;column++){fxn=ts.getColumnData(table,wo.filter_functions,column);if(fxn){$header=c.$headerIndexed[column].removeClass("filter-select");noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));options="";if(fxn===true&&noSelect){tsf.buildSelect(table,column)}else if(typeof fxn==="object"&&noSelect){for(string in fxn){if(typeof string==="string"){options+=options===""?'<option value="">'+($header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>":"";val=string;txt=string;if(string.indexOf(wo.filter_selectSourceSeparator)>=0){val=string.split(wo.filter_selectSourceSeparator);txt=val[1];val=val[0]}options+="<option "+(txt===val?"":'data-function-name="'+string+'" ')+'value="'+val+'">'+txt+"</option>"}}c.$table.find("thead").find("select."+tscss.filter+'[data-column="'+column+'"]').append(options);txt=wo.filter_selectSource;fxn=typeof txt==="function"?true:ts.getColumnData(table,txt,column);if(fxn){tsf.buildSelect(c.table,column,"",true,$header.hasClass(wo.filter_onlyAvail))}}}}}tsf.buildDefault(table,true);tsf.bindSearch(table,c.$table.find("."+tscss.filter),true);if(wo.filter_external){tsf.bindSearch(table,wo.filter_external)}if(wo.filter_hideFilters){tsf.hideFilters(c)}if(c.showProcessing){txt="filterStart filterEnd ".split(" ").join(c.namespace+"filter-sp ");c.$table.unbind(txt.replace(ts.regex.spaces," ")).bind(txt,function(event,columns){$header=columns?c.$table.find("."+tscss.header).filter("[data-column]").filter(function(){return columns[$(this).data("column")]!==""}):"";ts.isProcessing(table,event.type==="filterStart",columns?$header:"")})}c.filteredRows=c.totalRows;txt="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(c.namespace+"filter ");c.$table.unbind(txt.replace(ts.regex.spaces," ")).bind(txt,function(){tsf.completeInit(this)});if(c.pager&&c.pager.initialized&&!wo.filter_initialized){c.$table.triggerHandler("filterFomatterUpdate");setTimeout(function(){tsf.filterInitComplete(c)},100)}else if(!wo.filter_initialized){tsf.completeInit(table)}},completeInit:function(table){var c=table.config,wo=c.widgetOptions,filters=tsf.setDefaults(table,c,wo)||[];if(filters.length){if(!(c.delayInit&&filters.join("")==="")){ts.setFilters(table,filters,true)}}c.$table.triggerHandler("filterFomatterUpdate");setTimeout(function(){if(!wo.filter_initialized){tsf.filterInitComplete(c)}},100)},formatterUpdated:function($cell,column){var $table=$cell&&$cell.closest("table");var config=$table.length&&$table[0].config,wo=config&&config.widgetOptions;if(wo&&!wo.filter_initialized){wo.filter_formatterInit[column]=1}},filterInitComplete:function(c){var indx,len,wo=c.widgetOptions,count=0,completed=function(){wo.filter_initialized=true;c.lastSearch=c.$table.data("lastSearch");c.$table.triggerHandler("filterInit",c);tsf.findRows(c.table,c.lastSearch||[]);if(ts.debug(c,"filter")){console.log("Filter >> Widget initialized")}};if($.isEmptyObject(wo.filter_formatter)){completed()}else{len=wo.filter_formatterInit.length;for(indx=0;indx<len;indx++){if(wo.filter_formatterInit[indx]===1){count++}}clearTimeout(wo.filter_initTimer);if(!wo.filter_initialized&&count===wo.filter_formatterCount){completed()}else if(!wo.filter_initialized){wo.filter_initTimer=setTimeout(function(){completed()},500)}}},processFilters:function(filters,encode){var indx,result=[],mode=encode?encodeURIComponent:decodeURIComponent,len=filters.length;for(indx=0;indx<len;indx++){if(filters[indx]){result[indx]=mode(filters[indx])}}return result},setDefaults:function(table,c,wo){var isArray,saved,indx,col,$filters,filters=ts.getFilters(table)||[];if(wo.filter_saveFilters&&ts.storage){saved=ts.storage(table,"tablesorter-filters")||[];isArray=$.isArray(saved);if(!(isArray&&saved.join("")===""||!isArray)){filters=tsf.processFilters(saved)}}if(filters.join("")===""){$filters=c.$headers.add(wo.filter_$externalFilters).filter("["+wo.filter_defaultAttrib+"]");for(indx=0;indx<=c.columns;indx++){col=indx===c.columns?"all":indx;filters[indx]=$filters.filter('[data-column="'+col+'"]').attr(wo.filter_defaultAttrib)||filters[indx]||""}}c.$table.data("lastSearch",filters);return filters},parseFilter:function(c,filter,data,parsed){return parsed||data.parsed[data.index]?c.parsers[data.index].format(filter,c.table,[],data.index):filter},buildRow:function(table,c,wo){var $filter,col,column,$header,makeSelect,disabled,name,ffxn,tmp,cellFilter=wo.filter_cellFilter,columns=c.columns,arry=$.isArray(cellFilter),buildFilter='<tr role="search" class="'+tscss.filterRow+" "+c.cssIgnoreRow+'">';for(column=0;column<columns;column++){if(c.$headerIndexed[column].length){tmp=c.$headerIndexed[column]&&c.$headerIndexed[column][0].colSpan||0;if(tmp>1){buildFilter+='<td data-column="'+column+"-"+(column+tmp-1)+'" colspan="'+tmp+'"'}else{buildFilter+='<td data-column="'+column+'"'}if(arry){buildFilter+=cellFilter[column]?' class="'+cellFilter[column]+'"':""}else{buildFilter+=cellFilter!==""?' class="'+cellFilter+'"':""}buildFilter+="></td>"}}c.$filters=$(buildFilter+="</tr>").appendTo(c.$table.children("thead").eq(0)).children("td");for(column=0;column<columns;column++){disabled=false;$header=c.$headerIndexed[column];if($header&&$header.length){$filter=tsf.getColumnElm(c,c.$filters,column);ffxn=ts.getColumnData(table,wo.filter_functions,column);makeSelect=wo.filter_functions&&ffxn&&typeof ffxn!=="function"||$header.hasClass("filter-select");col=ts.getColumnData(table,c.headers,column);disabled=ts.getData($header[0],col,"filter")==="false"||ts.getData($header[0],col,"parser")==="false";if(makeSelect){buildFilter=$("<select>").appendTo($filter)}else{ffxn=ts.getColumnData(table,wo.filter_formatter,column);if(ffxn){wo.filter_formatterCount++;buildFilter=ffxn($filter,column);if(buildFilter&&buildFilter.length===0){buildFilter=$filter.children("input")}if(buildFilter&&(buildFilter.parent().length===0||buildFilter.parent().length&&buildFilter.parent()[0]!==$filter[0])){$filter.append(buildFilter)}}else{buildFilter=$('<input type="search">').appendTo($filter)}if(buildFilter){tmp=$header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.search||"";buildFilter.attr("placeholder",tmp)}}if(buildFilter){name=($.isArray(wo.filter_cssFilter)?typeof wo.filter_cssFilter[column]!=="undefined"?wo.filter_cssFilter[column]||"":"":wo.filter_cssFilter)||"";buildFilter.addClass(tscss.filter+" "+name);name=wo.filter_filterLabel;tmp=name.match(/{{([^}]+?)}}/g);if(!tmp){tmp=["{{label}}"]}$.each(tmp,function(indx,attr){var regex=new RegExp(attr,"g"),data=$header.attr("data-"+attr.replace(/{{|}}/g,"")),text=typeof data==="undefined"?$header.text():data;name=name.replace(regex,$.trim(text))});buildFilter.attr({"data-column":$filter.attr("data-column"),"aria-label":name});if(disabled){buildFilter.attr("placeholder","").addClass(tscss.filterDisabled)[0].disabled=true}}}}},bindSearch:function(table,$el,internal){table=$(table)[0];$el=$($el);if(!$el.length){return}var tmp,c=table.config,wo=c.widgetOptions,namespace=c.namespace+"filter",$ext=wo.filter_$externalFilters;if(internal!==true){tmp=wo.filter_anyColumnSelector+","+wo.filter_multipleColumnSelector;wo.filter_$anyMatch=$el.filter(tmp);if($ext&&$ext.length){wo.filter_$externalFilters=wo.filter_$externalFilters.add($el)}else{wo.filter_$externalFilters=$el}ts.setFilters(table,c.$table.data("lastSearch")||[],internal===false)}tmp="keypress keyup keydown search change input ".split(" ").join(namespace+" ");$el.attr("data-lastSearchTime",(new Date).getTime()).unbind(tmp.replace(ts.regex.spaces," ")).bind("keydown"+namespace,function(event){if(event.which===tskeyCodes.escape&&!table.config.widgetOptions.filter_resetOnEsc){return false}}).bind("keyup"+namespace,function(event){wo=table.config.widgetOptions;var column=parseInt($(this).attr("data-column"),10),liveSearch=typeof wo.filter_liveSearch==="boolean"?wo.filter_liveSearch:ts.getColumnData(table,wo.filter_liveSearch,column);if(typeof liveSearch==="undefined"){liveSearch=wo.filter_liveSearch.fallback||false}$(this).attr("data-lastSearchTime",(new Date).getTime());if(event.which===tskeyCodes.escape){this.value=wo.filter_resetOnEsc?"":c.lastSearch[column]}else if(this.value!==""&&(typeof liveSearch==="number"&&this.value.length<liveSearch||event.which!==tskeyCodes.enter&&event.which!==tskeyCodes.backSpace&&(event.which<tskeyCodes.space||event.which>=tskeyCodes.left&&event.which<=tskeyCodes.down))){return}else if(liveSearch===false){if(this.value!==""&&event.which!==tskeyCodes.enter){return}}tsf.searching(table,true,true,column)}).bind("search change keypress input blur ".split(" ").join(namespace+" "),function(event){var column=parseInt($(this).attr("data-column"),10),eventType=event.type,liveSearch=typeof wo.filter_liveSearch==="boolean"?wo.filter_liveSearch:ts.getColumnData(table,wo.filter_liveSearch,column);if(table.config.widgetOptions.filter_initialized&&(event.which===tskeyCodes.enter||(eventType==="search"||eventType==="blur")||(eventType==="change"||eventType==="input")&&(liveSearch===true||liveSearch!==true&&event.target.nodeName!=="INPUT")&&this.value!==c.lastSearch[column])){event.preventDefault();$(this).attr("data-lastSearchTime",(new Date).getTime());tsf.searching(table,eventType!=="keypress",true,column)}})},searching:function(table,filter,skipFirst,column){var liveSearch,wo=table.config.widgetOptions;if(typeof column==="undefined"){liveSearch=false}else{liveSearch=typeof wo.filter_liveSearch==="boolean"?wo.filter_liveSearch:ts.getColumnData(table,wo.filter_liveSearch,column);if(typeof liveSearch==="undefined"){liveSearch=wo.filter_liveSearch.fallback||false}}clearTimeout(wo.filter_searchTimer);if(typeof filter==="undefined"||filter===true){wo.filter_searchTimer=setTimeout(function(){tsf.checkFilters(table,filter,skipFirst)},liveSearch?wo.filter_searchDelay:10)}else{tsf.checkFilters(table,filter,skipFirst)}},equalFilters:function(c,filter1,filter2){var indx,f1=[],f2=[],len=c.columns+1;filter1=$.isArray(filter1)?filter1:[];filter2=$.isArray(filter2)?filter2:[];for(indx=0;indx<len;indx++){f1[indx]=filter1[indx]||"";f2[indx]=filter2[indx]||""}return f1.join(",")===f2.join(",")},checkFilters:function(table,filter,skipFirst){var c=table.config,wo=c.widgetOptions,filterArray=$.isArray(filter),filters=filterArray?filter:ts.getFilters(table,true),currentFilters=filters||[];if($.isEmptyObject(c.cache)){if(c.delayInit&&(!c.pager||c.pager&&c.pager.initialized)){ts.updateCache(c,function(){tsf.checkFilters(table,false,skipFirst)})}return}if(filterArray){ts.setFilters(table,filters,false,skipFirst!==true);if(!wo.filter_initialized){c.lastSearch=[];c.lastCombinedFilter=""}}if(wo.filter_hideFilters){c.$table.find("."+tscss.filterRow).triggerHandler(tsf.hideFiltersCheck(c)?"mouseleave":"mouseenter")}if(tsf.equalFilters(c,c.lastSearch,currentFilters)&&filter!==false){return}else if(filter===false){c.lastCombinedFilter="";c.lastSearch=[]}filters=filters||[];filters=Array.prototype.map?filters.map(String):filters.join("�").split("�");if(wo.filter_initialized){c.$table.triggerHandler("filterStart",[filters])}if(c.showProcessing){setTimeout(function(){tsf.findRows(table,filters,currentFilters);return false},30)}else{tsf.findRows(table,filters,currentFilters);return false}},hideFiltersCheck:function(c){if(typeof c.widgetOptions.filter_hideFilters==="function"){var val=c.widgetOptions.filter_hideFilters(c);if(typeof val==="boolean"){return val}}return ts.getFilters(c.$table).join("")===""},hideFilters:function(c,$table){var timer;($table||c.$table).find("."+tscss.filterRow).addClass(tscss.filterRowHide).bind("mouseenter mouseleave",function(e){var event=e,$row=$(this);clearTimeout(timer);timer=setTimeout(function(){if(/enter|over/.test(event.type)){$row.removeClass(tscss.filterRowHide)}else{if($(document.activeElement).closest("tr")[0]!==$row[0]){$row.toggleClass(tscss.filterRowHide,tsf.hideFiltersCheck(c))}}},200)}).find("input, select").bind("focus blur",function(e){var event=e,$row=$(this).closest("tr");clearTimeout(timer);timer=setTimeout(function(){clearTimeout(timer);$row.toggleClass(tscss.filterRowHide,tsf.hideFiltersCheck(c)&&event.type!=="focus")},200)})},defaultFilter:function(filter,mask){if(filter===""){return filter}var regex=tsfRegex.iQuery,maskLen=mask.match(tsfRegex.igQuery).length,query=maskLen>1?$.trim(filter).split(/\s/):[$.trim(filter)],len=query.length-1,indx=0,val=mask;if(len<1&&maskLen>1){query[1]=query[0]}while(regex.test(val)){val=val.replace(regex,query[indx++]||"");if(regex.test(val)&&indx<len&&(query[indx]||"")!==""){val=mask.replace(regex,val)}}return val},getLatestSearch:function($input){if($input){return $input.sort(function(a,b){return $(b).attr("data-lastSearchTime")-$(a).attr("data-lastSearchTime")})}return $input||$()},findRange:function(c,val,ignoreRanges){var temp,ranges,range,start,end,singles,i,indx,len,columns=[];if(/^[0-9]+$/.test(val)){return[parseInt(val,10)]}if(!ignoreRanges&&/-/.test(val)){ranges=val.match(/(\d+)\s*-\s*(\d+)/g);len=ranges?ranges.length:0;for(indx=0;indx<len;indx++){range=ranges[indx].split(/\s*-\s*/);start=parseInt(range[0],10)||0;end=parseInt(range[1],10)||c.columns-1;if(start>end){temp=start;start=end;end=temp}if(end>=c.columns){end=c.columns-1}for(;start<=end;start++){columns[columns.length]=start}val=val.replace(ranges[indx],"")}}if(!ignoreRanges&&/,/.test(val)){singles=val.split(/\s*,\s*/);len=singles.length;for(i=0;i<len;i++){if(singles[i]!==""){indx=parseInt(singles[i],10);if(indx<c.columns){columns[columns.length]=indx}}}}if(!columns.length){for(indx=0;indx<c.columns;indx++){columns[columns.length]=indx}}return columns},getColumnElm:function(c,$elements,column){return $elements.filter(function(){var cols=tsf.findRange(c,$(this).attr("data-column"));return $.inArray(column,cols)>-1})},multipleColumns:function(c,$input){var wo=c.widgetOptions,targets=wo.filter_initialized||!$input.filter(wo.filter_anyColumnSelector).length,val=$.trim(tsf.getLatestSearch($input).attr("data-column")||"");return tsf.findRange(c,val,!targets)},processTypes:function(c,data,vars){var ffxn,filterMatched=null,matches=null;for(ffxn in tsf.types){if($.inArray(ffxn,vars.excludeMatch)<0&&matches===null){matches=tsf.types[ffxn](c,data,vars);if(matches!==null){data.matchedOn=ffxn;filterMatched=matches}}}return filterMatched},matchType:function(c,columnIndex){var isMatch,wo=c.widgetOptions,$el=c.$headerIndexed[columnIndex];if($el.hasClass("filter-exact")){isMatch=false}else if($el.hasClass("filter-match")){isMatch=true}else{if(wo.filter_columnFilters){$el=c.$filters.find("."+tscss.filter).add(wo.filter_$externalFilters).filter('[data-column="'+columnIndex+'"]')}else if(wo.filter_$externalFilters){$el=wo.filter_$externalFilters.filter('[data-column="'+columnIndex+'"]')}isMatch=$el.length?c.widgetOptions.filter_matchType[($el[0].nodeName||"").toLowerCase()]==="match":false}return isMatch},processRow:function(c,data,vars){var result,filterMatched,fxn,ffxn,txt,wo=c.widgetOptions,showRow=true,hasAnyMatchInput=wo.filter_$anyMatch&&wo.filter_$anyMatch.length,columnIndex=wo.filter_$anyMatch&&wo.filter_$anyMatch.length?tsf.multipleColumns(c,wo.filter_$anyMatch):[];data.$cells=data.$row.children();data.matchedOn=null;if(data.anyMatchFlag&&columnIndex.length>1||data.anyMatchFilter&&!hasAnyMatchInput){data.anyMatch=true;data.isMatch=true;data.rowArray=data.$cells.map(function(i){if($.inArray(i,columnIndex)>-1||data.anyMatchFilter&&!hasAnyMatchInput){if(data.parsed[i]){txt=data.cacheArray[i]}else{txt=data.rawArray[i];txt=$.trim(wo.filter_ignoreCase?txt.toLowerCase():txt);if(c.sortLocaleCompare){txt=ts.replaceAccents(txt)}}return txt}}).get();data.filter=data.anyMatchFilter;data.iFilter=data.iAnyMatchFilter;data.exact=data.rowArray.join(" ");data.iExact=wo.filter_ignoreCase?data.exact.toLowerCase():data.exact;data.cache=data.cacheArray.slice(0,-1).join(" ");vars.excludeMatch=vars.noAnyMatch;filterMatched=tsf.processTypes(c,data,vars);if(filterMatched!==null){showRow=filterMatched}else{if(wo.filter_startsWith){showRow=false;columnIndex=Math.min(c.columns,data.rowArray.length);while(!showRow&&columnIndex>0){columnIndex--;showRow=showRow||data.rowArray[columnIndex].indexOf(data.iFilter)===0}}else{showRow=(data.iExact+data.childRowText).indexOf(data.iFilter)>=0}}data.anyMatch=false;if(data.filters.join("")===data.filter){return showRow}}for(columnIndex=0;columnIndex<c.columns;columnIndex++){data.filter=data.filters[columnIndex];data.index=columnIndex;vars.excludeMatch=vars.excludeFilter[columnIndex];if(data.filter){data.cache=data.cacheArray[columnIndex];result=data.parsed[columnIndex]?data.cache:data.rawArray[columnIndex]||"";data.exact=c.sortLocaleCompare?ts.replaceAccents(result):result;data.iExact=!tsfRegex.type.test(typeof data.exact)&&wo.filter_ignoreCase?data.exact.toLowerCase():data.exact;data.isMatch=tsf.matchType(c,columnIndex);result=showRow;ffxn=wo.filter_columnFilters?c.$filters.add(wo.filter_$externalFilters).filter('[data-column="'+columnIndex+'"]').find("select option:selected").attr("data-function-name")||"":"";if(c.sortLocaleCompare){data.filter=ts.replaceAccents(data.filter)}if(wo.filter_defaultFilter&&tsfRegex.iQuery.test(vars.defaultColFilter[columnIndex])){data.filter=tsf.defaultFilter(data.filter,vars.defaultColFilter[columnIndex])}data.iFilter=wo.filter_ignoreCase?(data.filter||"").toLowerCase():data.filter;fxn=vars.functions[columnIndex];filterMatched=null;if(fxn){if(typeof fxn==="function"){filterMatched=fxn(data.exact,data.cache,data.filter,columnIndex,data.$row,c,data)}else if(typeof fxn[ffxn||data.filter]==="function"){txt=ffxn||data.filter;filterMatched=fxn[txt](data.exact,data.cache,data.filter,columnIndex,data.$row,c,data)}}if(filterMatched===null){filterMatched=tsf.processTypes(c,data,vars);txt=fxn===true&&(data.matchedOn==="and"||data.matchedOn==="or");if(filterMatched!==null&&!txt){result=filterMatched}else{if(fxn===true){result=data.isMatch?(""+data.iExact).search(data.iFilter)>=0:data.filter===data.exact}else{txt=(data.iExact+data.childRowText).indexOf(tsf.parseFilter(c,data.iFilter,data));result=!wo.filter_startsWith&&txt>=0||wo.filter_startsWith&&txt===0}}}else{result=filterMatched}showRow=result?showRow:false}}return showRow},findRows:function(table,filters,currentFilters){if(tsf.equalFilters(table.config,table.config.lastSearch,currentFilters)||!table.config.widgetOptions.filter_initialized){return}var len,norm_rows,rowData,$rows,$row,rowIndex,tbodyIndex,$tbody,columnIndex,isChild,childRow,lastSearch,showRow,showParent,time,val,indx,notFiltered,searchFiltered,query,injected,res,id,txt,storedFilters=$.extend([],filters),c=table.config,wo=c.widgetOptions,debug=ts.debug(c,"filter"),data={anyMatch:false,filters:filters,filter_regexCache:[]},vars={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:ts.getColumnData(table,wo.filter_defaultFilter,c.columns,true)||""};data.parsed=[];for(columnIndex=0;columnIndex<c.columns;columnIndex++){data.parsed[columnIndex]=wo.filter_useParsedData||(c.parsers&&c.parsers[columnIndex]&&c.parsers[columnIndex].parsed||ts.getData&&ts.getData(c.$headerIndexed[columnIndex],ts.getColumnData(table,c.headers,columnIndex),"filter")==="parsed"||c.$headerIndexed[columnIndex].hasClass("filter-parsed"));vars.functions[columnIndex]=ts.getColumnData(table,wo.filter_functions,columnIndex)||c.$headerIndexed[columnIndex].hasClass("filter-select");vars.defaultColFilter[columnIndex]=ts.getColumnData(table,wo.filter_defaultFilter,columnIndex)||"";vars.excludeFilter[columnIndex]=(ts.getColumnData(table,wo.filter_excludeFilter,columnIndex,true)||"").split(/\s+/)}if(debug){console.log("Filter >> Starting filter widget search",filters);time=new Date}c.filteredRows=0;c.totalRows=0;currentFilters=storedFilters||[];for(tbodyIndex=0;tbodyIndex<c.$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,c.$tbodies.eq(tbodyIndex),true);columnIndex=c.columns;norm_rows=c.cache[tbodyIndex].normalized;$rows=$($.map(norm_rows,function(el){return el[columnIndex].$row.get()}));if(currentFilters.join("")===""||wo.filter_serversideFiltering){$rows.removeClass(wo.filter_filteredRow).not("."+c.cssChildRow).css("display","")}else{$rows=$rows.not("."+c.cssChildRow);len=$rows.length;if(wo.filter_$anyMatch&&wo.filter_$anyMatch.length||typeof filters[c.columns]!=="undefined"){data.anyMatchFlag=true;data.anyMatchFilter=""+(filters[c.columns]||wo.filter_$anyMatch&&tsf.getLatestSearch(wo.filter_$anyMatch).val()||"");if(wo.filter_columnAnyMatch){query=data.anyMatchFilter.split(tsfRegex.andSplit);injected=false;for(indx=0;indx<query.length;indx++){res=query[indx].split(":");if(res.length>1){if(isNaN(res[0])){$.each(c.headerContent,function(i,txt){if(txt.toLowerCase().indexOf(res[0])>-1){id=i;filters[id]=res[1]}})}else{id=parseInt(res[0],10)-1}if(id>=0&&id<c.columns){filters[id]=res[1];query.splice(indx,1);indx--;injected=true}}}if(injected){data.anyMatchFilter=query.join(" && ")}}}searchFiltered=wo.filter_searchFiltered;lastSearch=c.lastSearch||c.$table.data("lastSearch")||[];if(searchFiltered){for(indx=0;indx<columnIndex+1;indx++){val=filters[indx]||"";if(!searchFiltered){indx=columnIndex}searchFiltered=searchFiltered&&lastSearch.length&&val.indexOf(lastSearch[indx]||"")===0&&!tsfRegex.alreadyFiltered.test(val)&&!tsfRegex.exactTest.test(val)&&!(tsfRegex.isNeg1.test(val)||tsfRegex.isNeg2.test(val))&&!(val!==""&&c.$filters&&c.$filters.filter('[data-column="'+indx+'"]').find("select").length&&!tsf.matchType(c,indx))}}notFiltered=$rows.not("."+wo.filter_filteredRow).length;if(searchFiltered&&notFiltered===0){searchFiltered=false}if(debug){console.log("Filter >> Searching through "+(searchFiltered&&notFiltered<len?notFiltered:"all")+" rows")}if(data.anyMatchFlag){if(c.sortLocaleCompare){data.anyMatchFilter=ts.replaceAccents(data.anyMatchFilter)}if(wo.filter_defaultFilter&&tsfRegex.iQuery.test(vars.defaultAnyFilter)){data.anyMatchFilter=tsf.defaultFilter(data.anyMatchFilter,vars.defaultAnyFilter);searchFiltered=false}data.iAnyMatchFilter=!(wo.filter_ignoreCase&&c.ignoreCase)?data.anyMatchFilter:data.anyMatchFilter.toLowerCase()}for(rowIndex=0;rowIndex<len;rowIndex++){txt=$rows[rowIndex].className;isChild=rowIndex&&tsfRegex.child.test(txt);if(isChild||searchFiltered&&tsfRegex.filtered.test(txt)){continue}data.$row=$rows.eq(rowIndex);data.rowIndex=rowIndex;data.cacheArray=norm_rows[rowIndex];rowData=data.cacheArray[c.columns];data.rawArray=rowData.raw;data.childRowText="";if(!wo.filter_childByColumn){txt="";childRow=rowData.child;for(indx=0;indx<childRow.length;indx++){txt+=" "+childRow[indx].join(" ")||""}data.childRowText=wo.filter_childRows?wo.filter_ignoreCase?txt.toLowerCase():txt:""}showRow=false;showParent=tsf.processRow(c,data,vars);$row=rowData.$row;val=showParent?true:false;childRow=rowData.$row.filter(":gt(0)");if(wo.filter_childRows&&childRow.length){if(wo.filter_childByColumn){if(!wo.filter_childWithSibs){childRow.addClass(wo.filter_filteredRow);$row=$row.eq(0)}for(indx=0;indx<childRow.length;indx++){data.$row=childRow.eq(indx);data.cacheArray=rowData.child[indx];data.rawArray=data.cacheArray;val=tsf.processRow(c,data,vars);showRow=showRow||val;if(!wo.filter_childWithSibs&&val){childRow.eq(indx).removeClass(wo.filter_filteredRow)}}}showRow=showRow||showParent}else{showRow=val}$row.toggleClass(wo.filter_filteredRow,!showRow)[0].display=showRow?"":"none"}}c.filteredRows+=$rows.not("."+wo.filter_filteredRow).length;c.totalRows+=$rows.length;ts.processTbody(table,$tbody,false)}c.lastCombinedFilter=storedFilters.join("");c.lastSearch=storedFilters;c.$table.data("lastSearch",storedFilters);if(wo.filter_saveFilters&&ts.storage){ts.storage(table,"tablesorter-filters",tsf.processFilters(storedFilters,true))}if(debug){console.log("Filter >> Completed search"+ts.benchmark(time))}if(wo.filter_initialized){c.$table.triggerHandler("filterBeforeEnd",c);c.$table.triggerHandler("filterEnd",c)}setTimeout(function(){ts.applyWidget(c.table)},0)},getOptionSource:function(table,column,onlyAvail){table=$(table)[0];var c=table.config,wo=c.widgetOptions,arry=false,source=wo.filter_selectSource,last=c.$table.data("lastSearch")||[],fxn=typeof source==="function"?true:ts.getColumnData(table,source,column);if(onlyAvail&&last[column]!==""){onlyAvail=false}if(fxn===true){arry=source(table,column,onlyAvail)}else if(fxn instanceof $||$.type(fxn)==="string"&&fxn.indexOf("</option>")>=0){return fxn}else if($.isArray(fxn)){arry=fxn}else if($.type(source)==="object"&&fxn){arry=fxn(table,column,onlyAvail);if(arry===null){return null}}if(arry===false){arry=tsf.getOptions(table,column,onlyAvail)}return tsf.processOptions(table,column,arry)},processOptions:function(table,column,arry){if(!$.isArray(arry)){return false}table=$(table)[0];var cts,txt,indx,len,parsedTxt,str,c=table.config,validColumn=typeof column!=="undefined"&&column!==null&&column>=0&&column<c.columns,direction=validColumn?c.$headerIndexed[column].hasClass("filter-select-sort-desc"):false,parsed=[];arry=$.grep(arry,function(value,indx){if(value.text){return true}return $.inArray(value,arry)===indx});if(validColumn&&c.$headerIndexed[column].hasClass("filter-select-nosort")){return arry}else{len=arry.length;for(indx=0;indx<len;indx++){txt=arry[indx];str=txt.text?txt.text:txt;parsedTxt=(validColumn&&c.parsers&&c.parsers.length&&c.parsers[column].format(str,table,[],column)||str).toString();parsedTxt=c.widgetOptions.filter_ignoreCase?parsedTxt.toLowerCase():parsedTxt;if(txt.text){txt.parsed=parsedTxt;parsed[parsed.length]=txt}else{parsed[parsed.length]={text:txt,parsed:parsedTxt}}}cts=c.textSorter||"";parsed.sort(function(a,b){var x=direction?b.parsed:a.parsed,y=direction?a.parsed:b.parsed;if(validColumn&&typeof cts==="function"){return cts(x,y,true,column,table)}else if(validColumn&&typeof cts==="object"&&cts.hasOwnProperty(column)){return cts[column](x,y,true,column,table)}else if(ts.sortNatural){return ts.sortNatural(x,y)}return true});arry=[];len=parsed.length;for(indx=0;indx<len;indx++){arry[arry.length]=parsed[indx]}return arry}},getOptions:function(table,column,onlyAvail){table=$(table)[0];var rowIndex,tbodyIndex,len,row,cache,indx,child,childLen,c=table.config,wo=c.widgetOptions,arry=[];for(tbodyIndex=0;tbodyIndex<c.$tbodies.length;tbodyIndex++){cache=c.cache[tbodyIndex];len=c.cache[tbodyIndex].normalized.length;for(rowIndex=0;rowIndex<len;rowIndex++){row=cache.row?cache.row[rowIndex]:cache.normalized[rowIndex][c.columns].$row[0];if(onlyAvail&&row.className.match(wo.filter_filteredRow)){continue}if(wo.filter_useParsedData||c.parsers[column].parsed||c.$headerIndexed[column].hasClass("filter-parsed")){arry[arry.length]=""+cache.normalized[rowIndex][column];if(wo.filter_childRows&&wo.filter_childByColumn){childLen=cache.normalized[rowIndex][c.columns].$row.length-1;for(indx=0;indx<childLen;indx++){arry[arry.length]=""+cache.normalized[rowIndex][c.columns].child[indx][column]}}}else{arry[arry.length]=cache.normalized[rowIndex][c.columns].raw[column];if(wo.filter_childRows&&wo.filter_childByColumn){childLen=cache.normalized[rowIndex][c.columns].$row.length;for(indx=1;indx<childLen;indx++){child=cache.normalized[rowIndex][c.columns].$row.eq(indx).children().eq(column);arry[arry.length]=""+ts.getElementText(c,child,column)}}}}}return arry},buildSelect:function(table,column,arry,updating,onlyAvail){table=$(table)[0];column=parseInt(column,10);if(!table.config.cache||$.isEmptyObject(table.config.cache)){return}var indx,val,txt,t,$filters,$filter,option,c=table.config,wo=c.widgetOptions,node=c.$headerIndexed[column],options='<option value="">'+(node.data("placeholder")||node.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>",currentValue=c.$table.find("thead").find("select."+tscss.filter+'[data-column="'+column+'"]').val();if(typeof arry==="undefined"||arry===""){arry=tsf.getOptionSource(table,column,onlyAvail);if(arry===null){return}}if($.isArray(arry)){for(indx=0;indx<arry.length;indx++){option=arry[indx];if(option.text){option["data-function-name"]=typeof option.value==="undefined"?option.text:option.value;options+="<option";for(val in option){if(option.hasOwnProperty(val)&&val!=="text"){options+=" "+val+'="'+option[val].replace(tsfRegex.quote,"&quot;")+'"'}}if(!option.value){options+=' value="'+option.text.replace(tsfRegex.quote,"&quot;")+'"'}options+=">"+option.text.replace(tsfRegex.quote,"&quot;")+"</option>"}else if(""+option!=="[object Object]"){txt=option=(""+option).replace(tsfRegex.quote,"&quot;");val=txt;if(txt.indexOf(wo.filter_selectSourceSeparator)>=0){t=txt.split(wo.filter_selectSourceSeparator);val=t[0];txt=t[1]}options+=option!==""?"<option "+(val===txt?"":'data-function-name="'+option+'" ')+'value="'+val+'">'+txt+"</option>":""}}arry=[]}$filters=(c.$filters?c.$filters:c.$table.children("thead")).find("."+tscss.filter);if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}$filter=$filters.filter('select[data-column="'+column+'"]');if($filter.length){$filter[updating?"html":"append"](options);if(!$.isArray(arry)){$filter.append(arry).val(currentValue)}$filter.val(currentValue)}},buildDefault:function(table,updating){var columnIndex,$header,noSelect,c=table.config,wo=c.widgetOptions,columns=c.columns;for(columnIndex=0;columnIndex<columns;columnIndex++){$header=c.$headerIndexed[columnIndex];noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));if(($header.hasClass("filter-select")||ts.getColumnData(table,wo.filter_functions,columnIndex)===true)&&noSelect){tsf.buildSelect(table,columnIndex,"",updating,$header.hasClass(wo.filter_onlyAvail))}}}};tsfRegex=tsf.regex;ts.getFilters=function(table,getRaw,setFilters,skipFirst){var i,$filters,$column,cols,filters=[],c=table?$(table)[0].config:"",wo=c?c.widgetOptions:"";if(getRaw!==true&&wo&&!wo.filter_columnFilters||$.isArray(setFilters)&&tsf.equalFilters(c,setFilters,c.lastSearch)){return $(table).data("lastSearch")||[]}if(c){if(c.$filters){$filters=c.$filters.find("."+tscss.filter)}if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}if($filters&&$filters.length){filters=setFilters||[];for(i=0;i<c.columns+1;i++){cols=i===c.columns?wo.filter_anyColumnSelector+","+wo.filter_multipleColumnSelector:'[data-column="'+i+'"]';$column=$filters.filter(cols);if($column.length){$column=tsf.getLatestSearch($column);if($.isArray(setFilters)){if(skipFirst&&$column.length>1){$column=$column.slice(1)}if(i===c.columns){cols=$column.filter(wo.filter_anyColumnSelector);$column=cols.length?cols:$column}$column.val(setFilters[i]).trigger("change"+c.namespace)}else{filters[i]=$column.val()||"";if(i===c.columns){$column.slice(1).filter('[data-column*="'+$column.attr("data-column")+'"]').val(filters[i])}else{$column.slice(1).val(filters[i])}}if(i===c.columns&&$column.length){wo.filter_$anyMatch=$column}}}}}return filters};ts.setFilters=function(table,filter,apply,skipFirst){var c=table?$(table)[0].config:"",valid=ts.getFilters(table,true,filter,skipFirst);if(typeof apply==="undefined"){apply=true}if(c&&apply){c.lastCombinedFilter=null;c.lastSearch=[];tsf.searching(c.table,filter,skipFirst);c.$table.triggerHandler("filterFomatterUpdate")}return valid.length!==0}})(jQuery);(function($,window){"use strict";var ts=$.tablesorter||{};$.extend(ts.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"});ts.addHeaderResizeEvent=function(table,disable,settings){table=$(table)[0];if(!table.config){return}var defaults={timer:250},options=$.extend({},defaults,settings),c=table.config,wo=c.widgetOptions,checkSizes=function(triggerEvent){var index,headers,$header,sizes,width,height,len=c.$headers.length;wo.resize_flag=true;headers=[];for(index=0;index<len;index++){$header=c.$headers.eq(index);sizes=$header.data("savedSizes")||[0,0];width=$header[0].offsetWidth;height=$header[0].offsetHeight;if(width!==sizes[0]||height!==sizes[1]){$header.data("savedSizes",[width,height]);headers.push($header[0])}}if(headers.length&&triggerEvent!==false){c.$table.triggerHandler("resize",[headers])}wo.resize_flag=false};clearInterval(wo.resize_timer);if(disable){wo.resize_flag=false;return false}checkSizes(false);wo.resize_timer=setInterval(function(){if(wo.resize_flag){return}checkSizes()},options.timer)};function getStickyOffset(c,wo){var $el=isNaN(wo.stickyHeaders_offset)?$(wo.stickyHeaders_offset):[];return $el.length?$el.height()||0:parseInt(wo.stickyHeaders_offset,10)||0}ts.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:true,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(table,c,wo){if(c.$table.hasClass("hasStickyHeaders")||$.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters")){return}var index,len,$t,$table=c.$table,$attach=$(wo.stickyHeaders_attachTo||wo.stickyHeaders_appendTo),namespace=c.namespace+"stickyheaders ",$yScroll=$(wo.stickyHeaders_yScroll||wo.stickyHeaders_attachTo||window),$xScroll=$(wo.stickyHeaders_xScroll||wo.stickyHeaders_attachTo||window),$thead=$table.children("thead:first"),$header=$thead.children("tr").not(".sticky-false").children(),$tfoot=$table.children("tfoot"),stickyOffset=getStickyOffset(c,wo),$nestedSticky=$table.parent().closest("."+ts.css.table).hasClass("hasStickyHeaders")?$table.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],nestedStickyTop=$nestedSticky.length?$nestedSticky.height():0,$stickyTable=wo.$sticky=$table.clone().addClass("containsStickyHeaders "+ts.css.sticky+" "+wo.stickyHeaders+" "+c.namespace.slice(1)+"_extra_table").wrap('<div class="'+ts.css.stickyWrap+'">'),$stickyWrap=$stickyTable.parent().addClass(ts.css.stickyHide).css({position:$attach.length?"absolute":"fixed",padding:parseInt($stickyTable.parent().parent().css("padding-left"),10),top:stickyOffset+nestedStickyTop,left:0,visibility:"hidden",zIndex:wo.stickyHeaders_zIndex||2}),$stickyThead=$stickyTable.children("thead:first"),$stickyCells,laststate="",setWidth=function($orig,$clone){var index,width,border,$cell,$this,$cells=$orig.filter(":visible"),len=$cells.length;for(index=0;index<len;index++){$cell=$clone.filter(":visible").eq(index);$this=$cells.eq(index);if($this.css("box-sizing")==="border-box"){width=$this.outerWidth()}else{if($cell.css("border-collapse")==="collapse"){if(window.getComputedStyle){width=parseFloat(window.getComputedStyle($this[0],null).width)}else{border=parseFloat($this.css("border-width"));width=$this.outerWidth()-parseFloat($this.css("padding-left"))-parseFloat($this.css("padding-right"))-border}}else{width=$this.width()}}$cell.css({width:width,"min-width":width,"max-width":width})}},getLeftPosition=function(yWindow){if(yWindow===false&&$nestedSticky.length){return $table.position().left}return $attach.length?parseInt($attach.css("padding-left"),10)||0:$table.offset().left-parseInt($table.css("margin-left"),10)-$(window).scrollLeft()},resizeHeader=function(){$stickyWrap.css({left:getLeftPosition(),width:$table.outerWidth()});setWidth($table,$stickyTable);setWidth($header,$stickyCells)},scrollSticky=function(resizing){if(!$table.is(":visible")){return}nestedStickyTop=$nestedSticky.length?$nestedSticky.offset().top-$yScroll.scrollTop()+$nestedSticky.height():0;var tmp,offset=$table.offset(),stickyOffset=getStickyOffset(c,wo),yWindow=$.isWindow($yScroll[0]),yScroll=yWindow?$yScroll.scrollTop():$nestedSticky.length?parseInt($nestedSticky[0].style.top,10):$yScroll.offset().top,attachTop=$attach.length?yScroll:$yScroll.scrollTop(),captionHeight=wo.stickyHeaders_includeCaption?0:$table.children("caption").height()||0,scrollTop=attachTop+stickyOffset+nestedStickyTop-captionHeight,tableHeight=$table.height()-($stickyWrap.height()+($tfoot.height()||0))-captionHeight,isVisible=scrollTop>offset.top&&scrollTop<offset.top+tableHeight?"visible":"hidden",state=isVisible==="visible"?ts.css.stickyVis:ts.css.stickyHide,needsUpdating=!$stickyWrap.hasClass(state),cssSettings={visibility:isVisible};if($attach.length){needsUpdating=true;cssSettings.top=yWindow?scrollTop-$attach.offset().top:$attach.scrollTop()}tmp=getLeftPosition(yWindow);if(tmp!==parseInt($stickyWrap.css("left"),10)){needsUpdating=true;cssSettings.left=tmp}cssSettings.top=(cssSettings.top||0)+(!yWindow&&$nestedSticky.length?$nestedSticky.height():stickyOffset+nestedStickyTop);if(needsUpdating){$stickyWrap.removeClass(ts.css.stickyVis+" "+ts.css.stickyHide).addClass(state).css(cssSettings)}if(isVisible!==laststate||resizing){resizeHeader();laststate=isVisible}};if($attach.length&&!$attach.css("position")){$attach.css("position","relative")}if($stickyTable.attr("id")){$stickyTable[0].id+=wo.stickyHeaders_cloneId}$stickyTable.find("> thead:gt(0), tr.sticky-false").hide();$stickyTable.find("> tbody, > tfoot").remove();$stickyTable.find("caption").toggle(wo.stickyHeaders_includeCaption);$stickyCells=$stickyThead.children().children();$stickyTable.css({height:0,width:0,margin:0});$stickyCells.find("."+ts.css.resizer).remove();$table.addClass("hasStickyHeaders").bind("pagerComplete"+namespace,function(){resizeHeader()});ts.bindEvents(table,$stickyThead.children().children("."+ts.css.header));if(wo.stickyHeaders_appendTo){$(wo.stickyHeaders_appendTo).append($stickyWrap)}else{$table.after($stickyWrap)}if(c.onRenderHeader){$t=$stickyThead.children("tr").children();len=$t.length;for(index=0;index<len;index++){c.onRenderHeader.apply($t.eq(index),[index,c,$stickyTable])}}$xScroll.add($yScroll).unbind("scroll resize ".split(" ").join(namespace).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(namespace),function(event){scrollSticky(event.type==="resize")});c.$table.unbind("stickyHeadersUpdate"+namespace).bind("stickyHeadersUpdate"+namespace,function(){scrollSticky(true)});if(wo.stickyHeaders_addResizeEvent){ts.addHeaderResizeEvent(table)}if($table.hasClass("hasFilters")&&wo.filter_columnFilters){$table.bind("filterEnd"+namespace,function(){var $td=$(document.activeElement).closest("td"),column=$td.parent().children().index($td);if($stickyWrap.hasClass(ts.css.stickyVis)&&wo.stickyHeaders_filteredToTop){window.scrollTo(0,$table.position().top);if(column>=0&&c.$filters){c.$filters.eq(column).find("a, select, input").filter(":visible").focus()}}});ts.filter.bindSearch($table,$stickyCells.find("."+ts.css.filter));if(wo.filter_hideFilters){ts.filter.hideFilters(c,$stickyTable)}}if(wo.stickyHeaders_addResizeEvent){$table.bind("resize"+c.namespace+"stickyheaders",function(){resizeHeader()})}scrollSticky(true);$table.triggerHandler("stickyHeadersInit")},remove:function(table,c,wo){var namespace=c.namespace+"stickyheaders ";c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(namespace).replace(/\s+/g," ")).next("."+ts.css.stickyWrap).remove();if(wo.$sticky&&wo.$sticky.length){wo.$sticky.remove()}$(window).add(wo.stickyHeaders_xScroll).add(wo.stickyHeaders_yScroll).add(wo.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(namespace).replace(/\s+/g," "));ts.addHeaderResizeEvent(table,true)}})})(jQuery,window);(function($,window){"use strict";var ts=$.tablesorter||{};$.extend(ts.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"});$(function(){var s="<style>"+"body."+ts.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;"+"-khtml-user-select: none; -webkit-user-select: none; user-select: none; }"+"."+ts.css.resizableContainer+" { position: relative; height: 1px; }"+"."+ts.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;"+"top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }"+"</style>";$("head").append(s)});ts.resizable={init:function(c,wo){if(c.$table.hasClass("hasResizable")){return}c.$table.addClass("hasResizable");var noResize,$header,column,storedSizes,tmp,$table=c.$table,$parent=$table.parent(),marginTop=parseInt($table.css("margin-top"),10),vars=wo.resizable_vars={useStorage:ts.storage&&wo.resizable!==false,$wrap:$parent,mouseXPosition:0,$target:null,$next:null,overflow:$parent.css("overflow")==="auto"||$parent.css("overflow")==="scroll"||$parent.css("overflow-x")==="auto"||$parent.css("overflow-x")==="scroll",storedSizes:[]};ts.resizableReset(c.table,true);vars.tableWidth=$table.width();vars.fullWidth=Math.abs($parent.width()-vars.tableWidth)<20;if(vars.useStorage&&vars.overflow){ts.storage(c.table,"tablesorter-table-original-css-width",vars.tableWidth);tmp=ts.storage(c.table,"tablesorter-table-resized-width")||"auto";ts.resizable.setWidth($table,tmp,true)}wo.resizable_vars.storedSizes=storedSizes=(vars.useStorage?ts.storage(c.table,ts.css.resizableStorage):[])||[];ts.resizable.setWidths(c,wo,storedSizes);ts.resizable.updateStoredSizes(c,wo);wo.$resizable_container=$('<div class="'+ts.css.resizableContainer+'">').css({top:marginTop}).insertBefore($table);for(column=0;column<c.columns;column++){$header=c.$headerIndexed[column];tmp=ts.getColumnData(c.table,c.headers,column);noResize=ts.getData($header,tmp,"resizable")==="false";if(!noResize){$('<div class="'+ts.css.resizableHandle+'">').appendTo(wo.$resizable_container).attr({"data-column":column,unselectable:"on"}).data("header",$header).bind("selectstart",false)}}ts.resizable.bindings(c,wo)},updateStoredSizes:function(c,wo){var column,$header,len=c.columns,vars=wo.resizable_vars;vars.storedSizes=[];for(column=0;column<len;column++){$header=c.$headerIndexed[column];vars.storedSizes[column]=$header.is(":visible")?$header.width():0}},setWidth:function($el,width,overflow){$el.css({width:width,"min-width":overflow?width:"","max-width":overflow?width:""})},setWidths:function(c,wo,storedSizes){var column,$temp,vars=wo.resizable_vars,$extra=$(c.namespace+"_extra_headers"),$col=c.$table.children("colgroup").children("col");storedSizes=storedSizes||vars.storedSizes||[];if(storedSizes.length){for(column=0;column<c.columns;column++){ts.resizable.setWidth(c.$headerIndexed[column],storedSizes[column],vars.overflow);if($extra.length){$temp=$extra.eq(column).add($col.eq(column));ts.resizable.setWidth($temp,storedSizes[column],vars.overflow)}}$temp=$(c.namespace+"_extra_table");if($temp.length&&!ts.hasWidget(c.table,"scroller")){ts.resizable.setWidth($temp,c.$table.outerWidth(),vars.overflow)}}},setHandlePosition:function(c,wo){var startPosition,tableHeight=c.$table.height(),$handles=wo.$resizable_container.children(),handleCenter=Math.floor($handles.width()/2);if(ts.hasWidget(c.table,"scroller")){tableHeight=0;c.$table.closest("."+ts.css.scrollerWrap).children().each(function(){var $this=$(this);tableHeight+=$this.filter('[style*="height"]').length?$this.height():$this.children("table").height()})}if(!wo.resizable_includeFooter&&c.$table.children("tfoot").length){tableHeight-=c.$table.children("tfoot").height()}startPosition=parseFloat($.fn.jquery)>=3.3?0:c.$table.position().left;$handles.each(function(){var $this=$(this),column=parseInt($this.attr("data-column"),10),columns=c.columns-1,$header=$this.data("header");if(!$header){return}if(!$header.is(":visible")||!wo.resizable_addLastColumn&&ts.resizable.checkVisibleColumns(c,column)){$this.hide()}else if(column<columns||column===columns&&wo.resizable_addLastColumn){$this.css({display:"inline-block",height:tableHeight,left:$header.position().left-startPosition+$header.outerWidth()-handleCenter})}})},checkVisibleColumns:function(c,column){var i,len=0;for(i=column+1;i<c.columns;i++){len+=c.$headerIndexed[i].is(":visible")?1:0}return len===0},toggleTextSelection:function(c,wo,toggle){var namespace=c.namespace+"tsresize";wo.resizable_vars.disabled=toggle;$("body").toggleClass(ts.css.resizableNoSelect,toggle);if(toggle){$("body").attr("unselectable","on").bind("selectstart"+namespace,false)}else{$("body").removeAttr("unselectable").unbind("selectstart"+namespace)}},bindings:function(c,wo){var namespace=c.namespace+"tsresize";wo.$resizable_container.children().bind("mousedown",function(event){var column,vars=wo.resizable_vars,$extras=$(c.namespace+"_extra_headers"),$header=$(event.target).data("header");column=parseInt($header.attr("data-column"),10);vars.$target=$header=$header.add($extras.filter('[data-column="'+column+'"]'));vars.target=column;vars.$next=event.shiftKey||wo.resizable_targetLast?$header.parent().children().not(".resizable-false").filter(":last"):$header.nextAll(":not(.resizable-false)").eq(0);column=parseInt(vars.$next.attr("data-column"),10);vars.$next=vars.$next.add($extras.filter('[data-column="'+column+'"]'));vars.next=column;vars.mouseXPosition=event.pageX;ts.resizable.updateStoredSizes(c,wo);ts.resizable.toggleTextSelection(c,wo,true)});$(document).bind("mousemove"+namespace,function(event){var vars=wo.resizable_vars;if(!vars.disabled||vars.mouseXPosition===0||!vars.$target){return}if(wo.resizable_throttle){clearTimeout(vars.timer);vars.timer=setTimeout(function(){ts.resizable.mouseMove(c,wo,event)},isNaN(wo.resizable_throttle)?5:wo.resizable_throttle)}else{ts.resizable.mouseMove(c,wo,event)}}).bind("mouseup"+namespace,function(){if(!wo.resizable_vars.disabled){return}ts.resizable.toggleTextSelection(c,wo,false);ts.resizable.stopResize(c,wo);ts.resizable.setHandlePosition(c,wo)});$(window).bind("resize"+namespace+" resizeEnd"+namespace,function(){ts.resizable.setHandlePosition(c,wo)});c.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(namespace+" "),function(){ts.resizable.setHandlePosition(c,wo)}).bind("resizableReset"+namespace,function(){ts.resizableReset(c.table)}).find("thead:first").add($(c.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+namespace,function(){var allowClick=wo.resizable_vars.storedSizes.length===0;ts.resizableReset(c.table);ts.resizable.setHandlePosition(c,wo);wo.resizable_vars.storedSizes=[];return allowClick})},mouseMove:function(c,wo,event){if(wo.resizable_vars.mouseXPosition===0||!wo.resizable_vars.$target){return}var column,total=0,vars=wo.resizable_vars,$next=vars.$next,tar=vars.storedSizes[vars.target],leftEdge=event.pageX-vars.mouseXPosition;if(vars.overflow){if(tar+leftEdge>0){vars.storedSizes[vars.target]+=leftEdge;ts.resizable.setWidth(vars.$target,vars.storedSizes[vars.target],true);for(column=0;column<c.columns;column++){total+=vars.storedSizes[column]}ts.resizable.setWidth(c.$table.add($(c.namespace+"_extra_table")),total)}if(!$next.length){vars.$wrap[0].scrollLeft=c.$table.width()}}else if(vars.fullWidth){vars.storedSizes[vars.target]+=leftEdge;vars.storedSizes[vars.next]-=leftEdge;ts.resizable.setWidths(c,wo)}else{vars.storedSizes[vars.target]+=leftEdge;ts.resizable.setWidths(c,wo)}vars.mouseXPosition=event.pageX;c.$table.triggerHandler("stickyHeadersUpdate")},stopResize:function(c,wo){var vars=wo.resizable_vars;ts.resizable.updateStoredSizes(c,wo);if(vars.useStorage){ts.storage(c.table,ts.css.resizableStorage,vars.storedSizes);ts.storage(c.table,"tablesorter-table-resized-width",c.$table.width())}vars.mouseXPosition=0;vars.$target=vars.$next=null;c.$table.triggerHandler("stickyHeadersUpdate");c.$table.triggerHandler("resizableComplete")}};ts.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false,resizable_includeFooter:true,resizable_widths:[],resizable_throttle:false,resizable_targetLast:false},init:function(table,thisWidget,c,wo){ts.resizable.init(c,wo)},format:function(table,c,wo){ts.resizable.setHandlePosition(c,wo)},remove:function(table,c,wo,refreshing){if(wo.$resizable_container){var namespace=c.namespace+"tsresize";c.$table.add($(c.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+namespace);wo.$resizable_container.remove();ts.resizable.toggleTextSelection(c,wo,false);ts.resizableReset(table,refreshing);$(document).unbind("mousemove"+namespace+" mouseup"+namespace)}}});ts.resizableReset=function(table,refreshing){$(table).each(function(){var index,$t,c=this.config,wo=c&&c.widgetOptions,vars=wo.resizable_vars;if(table&&c&&c.$headerIndexed.length){if(vars.overflow&&vars.tableWidth){ts.resizable.setWidth(c.$table,vars.tableWidth,true);if(vars.useStorage){ts.storage(table,"tablesorter-table-resized-width",vars.tableWidth)}}for(index=0;index<c.columns;index++){$t=c.$headerIndexed[index];if(wo.resizable_widths&&wo.resizable_widths[index]){ts.resizable.setWidth($t,wo.resizable_widths[index],vars.overflow)}else if(!$t.hasClass("resizable-false")){ts.resizable.setWidth($t,"",vars.overflow)}}c.$table.triggerHandler("stickyHeadersUpdate");if(ts.storage&&!refreshing){ts.storage(this,ts.css.resizableStorage,[])}}})}})(jQuery,window);(function($){"use strict";var ts=$.tablesorter||{};function getStoredSortList(c){var stored=ts.storage(c.table,"tablesorter-savesort");return stored&&stored.hasOwnProperty("sortList")&&$.isArray(stored.sortList)?stored.sortList:[]}function sortListChanged(c,sortList){return(sortList||getStoredSortList(c)).join(",")!==c.sortList.join(",")}ts.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(table,thisWidget,c,wo){thisWidget.format(table,c,wo,true)},format:function(table,c,wo,init){var time,$table=c.$table,saveSort=wo.saveSort!==false,sortList={sortList:c.sortList},debug=ts.debug(c,"saveSort");if(debug){time=new Date}if($table.hasClass("hasSaveSort")){if(saveSort&&table.hasInitialized&&ts.storage&&sortListChanged(c)){ts.storage(table,"tablesorter-savesort",sortList);if(debug){console.log("saveSort >> Saving last sort: "+c.sortList+ts.benchmark(time))}}}else{$table.addClass("hasSaveSort");sortList="";if(ts.storage){sortList=getStoredSortList(c);if(debug){console.log('saveSort >> Last sort loaded: "'+sortList+'"'+ts.benchmark(time))}$table.bind("saveSortReset",function(event){event.stopPropagation();ts.storage(table,"tablesorter-savesort","")})}if(init&&sortList&&sortList.length>0){c.sortList=sortList}else if(table.hasInitialized&&sortList&&sortList.length>0){if(sortListChanged(c,sortList)){ts.sortOn(c,sortList)}}}},remove:function(table,c){c.$table.removeClass("hasSaveSort");if(ts.storage){ts.storage(table,"tablesorter-savesort","")}}})})(jQuery);return jQuery.tablesorter});
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var validator=$.data(this[0],"validator");if(validator){return validator}this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.on("click.validate",":submit",function(event){validator.submitButton=event.currentTarget;if($(this).hasClass("cancel")){validator.cancelSubmit=true}if($(this).attr("formnovalidate")!==undefined){validator.cancelSubmit=true}});this.on("submit.validate",function(event){if(validator.settings.debug){event.preventDefault()}function handle(){var hidden,result;if(validator.submitButton&&(validator.settings.submitHandler||validator.formSubmitted)){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm)}if(validator.settings.submitHandler&&!validator.settings.debug){result=validator.settings.submitHandler.call(validator,validator.currentForm,event);if(hidden){hidden.remove()}if(result!==undefined){return result}return false}return true}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle()}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false}return handle()}else{validator.focusInvalid();return false}})}return validator},valid:function(){var valid,validator,errorList;if($(this[0]).is("form")){valid=this.validate().form()}else{errorList=[];valid=true;validator=$(this[0].form).validate();this.each(function(){valid=validator.element(this)&&valid;if(!valid){errorList=errorList.concat(validator.errorList)}});validator.errorList=errorList}return valid},rules:function(command,argument){var element=this[0],settings,staticRules,existingRules,data,param,filtered;if(element==null){return}if(!element.form&&element.isContentEditable){element.form=this.closest("form")[0];element.name=this.attr("name")}if(element.form==null){return}if(command){settings=$.data(element.form,"validator").settings;staticRules=settings.rules;existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages)}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules}filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method]});return filtered}}data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){param=data.required;delete data.required;data=$.extend({required:param},data)}if(data.remote){param=data.remote;delete data.remote;data=$.extend(data,{remote:param})}return data}});$.extend($.expr.pseudos||$.expr[":"],{blank:function(a){return!$.trim(""+$(a).val())},filled:function(a){var val=$(a).val();return val!==null&&!!$.trim(""+val)},unchecked:function(a){return!$(a).prop("checked")}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init()};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args)}}if(params===undefined){return source}if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1)}if(params.constructor!==Array){params=[params]}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})});return source};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(element))}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element)}},onkeyup:function(element,event){var excludedKeys=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(event.which===9&&this.elementValue(element)===""||$.inArray(event.keyCode,excludedKeys)!==-1){return}else if(element.name in this.submitted||element.name in this.invalid){this.element(element)}},onclick:function(element){if(element.name in this.submitted){this.element(element)}else if(element.parentNode.name in this.submitted){this.element(element.parentNode)}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass)}else{$(element).addClass(errorClass).removeClass(validClass)}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass)}else{$(element).removeClass(errorClass).addClass(validClass)}}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var currentForm=this.currentForm,groups=this.groups={},rules;$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/)}$.each(value,function(index,name){groups[name]=key})});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)});function delegate(event){if(!this.form&&this.isContentEditable){this.form=$(this).closest("form")[0];this.name=$(this).attr("name")}if(currentForm!==this.form){return}var validator=$.data(this.form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;if(settings[eventType]&&!$(this).is(settings.ignore)){settings[eventType].call(validator,this,event)}}$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox'], [contenteditable], [type='button']",delegate).on("click.validate","select, option, [type='radio'], [type='checkbox']",delegate);if(this.settings.invalidHandler){$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++){this.check(elements[i])}return this.valid()},element:function(element){var cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),v=this,result=true,rs,group;if(checkElement===undefined){delete this.invalid[cleanElement.name]}else{this.prepareElement(checkElement);this.currentElements=$(checkElement);group=this.groups[checkElement.name];if(group){$.each(this.groups,function(name,testgroup){if(testgroup===group&&name!==checkElement.name){cleanElement=v.validationTargetFor(v.clean(v.findByName(name)));if(cleanElement&&cleanElement.name in v.invalid){v.currentElements.push(cleanElement);result=v.check(cleanElement)&&result}}})}rs=this.check(checkElement)!==false;result=result&&rs;if(rs){this.invalid[checkElement.name]=false}else{this.invalid[checkElement.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();$(element).attr("aria-invalid",!rs)}return result},showErrors:function(errors){if(errors){var validator=this;$.extend(this.errorMap,errors);this.errorList=$.map(this.errorMap,function(message,name){return{message:message,element:validator.findByName(name)[0]}});this.successList=$.grep(this.successList,function(element){return!(element.name in errors)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var elements=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(elements)},resetElements:function(elements){var i;if(this.settings.unhighlight){for(i=0;elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,"");this.findByName(elements[i].name).removeClass(this.settings.validClass)}}else{elements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0,i;for(i in obj){if(obj[i]!==undefined&&obj[i]!==null&&obj[i]!==false){count++}}return count},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(errors){errors.not(this.containers).text("");this.addWrapper(errors).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name}).length===1&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var name=this.name||$(this).attr("name");if(!name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.isContentEditable){this.form=$(this).closest("form")[0];this.name=name}if(this.form!==validator.currentForm){return false}if(name in rulesCache||!validator.objectLength($(this).rules())){return false}rulesCache[name]=true;return true})},clean:function(selector){return $(selector)[0]},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([])},reset:function(){this.resetInternals();this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element)},elementValue:function(element){var $element=$(element),type=element.type,val,idx;if(type==="radio"||type==="checkbox"){return this.findByName(element.name).filter(":checked").val()}else if(type==="number"&&typeof element.validity!=="undefined"){return element.validity.badInput?"NaN":$element.val()}val=$element.val();if(typeof val=="undefined"){val=$element.text()}if(type==="file"){if(val.substr(0,12)==="C:\\fakepath\\"){return val.substr(12)}idx=val.lastIndexOf("/");if(idx>=0){return val.substr(idx+1)}idx=val.lastIndexOf("\\");if(idx>=0){return val.substr(idx+1)}return val}if(typeof val==="string"){return val.replace(/\r/g,"")}return val},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i}).length,dependencyMismatch=false,val=this.elementValue(element),result,method,rule,normalizer;if(typeof rules.normalizer==="function"){normalizer=rules.normalizer}else if(typeof this.settings.normalizer==="function"){normalizer=this.settings.normalizer}if(normalizer){val=normalizer.call(element,val);delete rules.normalizer}for(method in rules){rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"&&rulesCount===1){dependencyMismatch=true;continue}dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return}if(!result){this.formatAndAdd(element,rule);return false}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e)}if(e instanceof TypeError){e.message+=".  Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method."}throw e}}if(dependencyMismatch){return}if(this.objectLength(rules)){this.successList.push(element)}return true},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase())||$(element).data("msg")},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i]}}return undefined},defaultMessage:function(element,rule){if(typeof rule==="string"){rule={method:rule}}var message=this.findDefined(this.customMessage(element.name,rule.method),this.customDataMessage(element,rule.method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[rule.method],"<strong>Warning: No message defined for "+element.name+"</strong>"),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element)}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters)}return message},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule);this.errorList.push({message:message,element:element,method:rule.method});this.errorMap[element.name]=message;this.submitted[element.name]=message},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))}return toToggle},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++){error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(error.element,error.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i])}}if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var place,group,errorID,v,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");if(error.length){error.removeClass(this.settings.validClass).addClass(this.settings.errorClass);error.html(message)}else{error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||"");place=error;if(this.settings.wrapper){place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(place)}else if(this.settings.errorPlacement){this.settings.errorPlacement.call(this,place,$(element))}else{place.insertAfter(element)}if(error.is("label")){error.attr("for",elementID)}else if(error.parents("label[for='"+this.escapeCssMeta(elementID)+"']").length===0){errorID=error.attr("id");if(!describedBy){describedBy=errorID}else if(!describedBy.match(new RegExp("\\b"+this.escapeCssMeta(errorID)+"\\b"))){describedBy+=" "+errorID}$(element).attr("aria-describedby",describedBy);group=this.groups[element.name];if(group){v=this;$.each(v.groups,function(name,testgroup){if(testgroup===group){$("[name='"+v.escapeCssMeta(name)+"']",v.currentForm).attr("aria-describedby",error.attr("id"))}})}}}if(!message&&this.settings.success){error.text("");if(typeof this.settings.success==="string"){error.addClass(this.settings.success)}else{this.settings.success(error,element)}}this.toShow=this.toShow.add(error)},errorsFor:function(element){var name=this.escapeCssMeta(this.idOrName(element)),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";if(describer){selector=selector+", #"+this.escapeCssMeta(describer).replace(/\s+/g,", #")}return this.errors().filter(selector)},escapeCssMeta:function(string){return string.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name)}return $(element).not(this.settings.ignore)[0]},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){return $(this.currentForm).find("[name='"+this.escapeCssMeta(name)+"']")},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length}}return value.length},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true},dependTypes:{boolean:function(param){return param},string:function(param,element){return!!$(param,element.form).length},function:function(param,element){return param(element)}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch"},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;$(element).addClass(this.settings.pendingClass);this.pending[element.name]=true}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[element.name];$(element).removeClass(this.settings.pendingClass);if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();if(this.submitButton){$("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove()}this.formSubmitted=false}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(element,method){method=typeof method==="string"&&method||"remote";return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,{method:method})})},destroy:function(){this.resetForm();$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules}else{$.extend(this.classRuleSettings,className)}},classRules:function(element){var rules={},classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this])}})}return rules},normalizeAttributeRule:function(rules,type,method,value){if(/min|max|step/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);if(isNaN(value)){value=undefined}}if(value||value===0){rules[method]=value}else if(type===method&&type!=="range"){rules[method]=true}},attributeRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){if(method==="required"){value=element.getAttribute(method);value=$element.attr(method);if(value===""){value=true}value=!!value}else{value=$element.attr(method)}this.normalizeAttributeRule(rules,type,method,value)}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength}return rules},dataRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase());if(value===""){value=true}this.normalizeAttributeRule(rules,type,method,value)}return rules},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}}return rules},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break}if(keepRule){rules[prop]=val.param!==undefined?val.param:true}else{$.data(element.form,"validator").resetElements($(element));delete rules[prop]}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)&&rule!=="normalizer"?parameter(element):parameter});$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this])}});$.each(["rangelength","range"],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])]}else if(typeof rules[this]==="string"){parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])]}}});if($.validator.autoCreateRanges){if(rules.min!=null&&rules.max!=null){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max}if(rules.minlength!=null&&rules.maxlength!=null){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength}}return rules},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true});data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name))}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch"}if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0}if(this.checkable(element)){return this.getLength(value,element)>0}return value!==undefined&&value!==null&&value.length>0},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value)},url:function(value,element){return this.optional(element)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value)},date:function(){var called=false;return function(value,element){if(!called){called=true;if(this.settings.debug&&window.console){console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\n"+"Please don't use it, since it relies on the Date constructor, which\n"+"behaves very differently across browsers and locales. Use `dateISO`\n"+"instead or one of the locale specific methods in `localizations/`\n"+"and `additional-methods.js`.")}}return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString())}}(),dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)},number:function(value,element){return this.optional(element)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length<=param},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},step:function(value,element,param){var type=$(element).attr("type"),errorMessage="Step attribute on input type "+type+" is not supported.",supportedTypes=["text","number","range"],re=new RegExp("\\b"+type+"\\b"),notSupported=type&&!re.test(supportedTypes.join()),decimalPlaces=function(num){var match=(""+num).match(/(?:\.(\d+))?$/);if(!match){return 0}return match[1]?match[1].length:0},toInt=function(num){return Math.round(num*Math.pow(10,decimals))},valid=true,decimals;if(notSupported){throw new Error(errorMessage)}decimals=decimalPlaces(param);if(decimalPlaces(value)>decimals||toInt(value)%toInt(param)!==0){valid=false}return this.optional(element)||valid},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-equalTo-blur").length){target.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(element).valid()})}return value===target.val()},remote:function(value,element,param,method){if(this.optional(element)){return"dependency-mismatch"}method=typeof method==="string"&&method||"remote";var previous=this.previousValue(element,method),validator,data,optionDataString;if(!this.settings.messages[element.name]){this.settings.messages[element.name]={}}previous.originalMessage=previous.originalMessage||this.settings.messages[element.name][method];this.settings.messages[element.name][method]=previous.message;param=typeof param==="string"&&{url:param}||param;optionDataString=$.param($.extend({data:value},param.data));if(previous.old===optionDataString){return previous.valid}previous.old=optionDataString;validator=this;this.startRequest(element);data={};data[element.name]=value;$.ajax($.extend(true,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var valid=response===true||response==="true",errors,message,submitted;validator.settings.messages[element.name][method]=previous.originalMessage;if(valid){submitted=validator.formSubmitted;validator.resetInternals();validator.toHide=validator.errorsFor(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.invalid[element.name]=false;validator.showErrors()}else{errors={};message=response||validator.defaultMessage(element,{method:method,parameters:value});errors[element.name]=previous.message=message;validator.invalid[element.name]=true;validator.showErrors(errors)}previous.valid=valid;validator.stopRequest(element,valid)}},param));return"pending"}}});var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=xhr}})}else{ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port]}return ajax.apply(this,arguments)}}return $});
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.validate"],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){(function(){function stripHtml(value){return value.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}$.validator.addMethod("maxWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length<=params},$.validator.format("Please enter {0} words or less."));$.validator.addMethod("minWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=params},$.validator.format("Please enter at least {0} words."));$.validator.addMethod("rangeWords",function(value,element,params){var valueStripped=stripHtml(value),regex=/\b\w+\b/g;return this.optional(element)||valueStripped.match(regex).length>=params[0]&&valueStripped.match(regex).length<=params[1]},$.validator.format("Please enter between {0} and {1} words."))})();$.validator.addMethod("accept",function(value,element,param){var typeParam=typeof param==="string"?param.replace(/\s/g,""):"image/*",optionalValue=this.optional(element),i,file,regex;if(optionalValue){return optionalValue}if($(element).attr("type")==="file"){typeParam=typeParam.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*");if(element.files&&element.files.length){regex=new RegExp(".?("+typeParam+")$","i");for(i=0;i<element.files.length;i++){file=element.files[i];if(!file.type.match(regex)){return false}}}}return true},$.validator.format("Please enter a value with a valid mimetype."));$.validator.addMethod("alphanumeric",function(value,element){return this.optional(element)||/^\w+$/i.test(value)},"Letters, numbers, and underscores only please");$.validator.addMethod("bankaccountNL",function(value,element){if(this.optional(element)){return true}if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(value)){return false}var account=value.replace(/ /g,""),sum=0,len=account.length,pos,factor,digit;for(pos=0;pos<len;pos++){factor=len-pos;digit=account.substring(pos,pos+1);sum=sum+factor*digit}return sum%11===0},"Please specify a valid bank account number");$.validator.addMethod("bankorgiroaccountNL",function(value,element){return this.optional(element)||$.validator.methods.bankaccountNL.call(this,value,element)||$.validator.methods.giroaccountNL.call(this,value,element)},"Please specify a valid bank or giro account number");$.validator.addMethod("bic",function(value,element){return this.optional(element)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(value.toUpperCase())},"Please specify a valid BIC code");$.validator.addMethod("cifES",function(value,element){"use strict";if(this.optional(element)){return true}var cifRegEx=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi);var letter=value.substring(0,1),number=value.substring(1,8),control=value.substring(8,9),all_sum=0,even_sum=0,odd_sum=0,i,n,control_digit,control_letter;function isOdd(n){return n%2===0}if(value.length!==9||!cifRegEx.test(value)){return false}for(i=0;i<number.length;i++){n=parseInt(number[i],10);if(isOdd(i)){n*=2;odd_sum+=n<10?n:n-9}else{even_sum+=n}}all_sum=even_sum+odd_sum;control_digit=(10-all_sum.toString().substr(-1)).toString();control_digit=parseInt(control_digit,10)>9?"0":control_digit;control_letter="JABCDEFGHI".substr(control_digit,1).toString();if(letter.match(/[ABEH]/)){return control===control_digit}else if(letter.match(/[KPQS]/)){return control===control_letter}return control===control_digit||control===control_letter},"Please specify a valid CIF number.");$.validator.addMethod("cpfBR",function(value){value=value.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(value.length!==11){return false}var sum=0,firstCN,secondCN,checkResult,i;firstCN=parseInt(value.substring(9,10),10);secondCN=parseInt(value.substring(10,11),10);checkResult=function(sum,cn){var result=sum*10%11;if(result===10||result===11){result=0}return result===cn};if(value===""||value==="00000000000"||value==="11111111111"||value==="22222222222"||value==="33333333333"||value==="44444444444"||value==="55555555555"||value==="66666666666"||value==="77777777777"||value==="88888888888"||value==="99999999999"){return false}for(i=1;i<=9;i++){sum=sum+parseInt(value.substring(i-1,i),10)*(11-i)}if(checkResult(sum,firstCN)){sum=0;for(i=1;i<=10;i++){sum=sum+parseInt(value.substring(i-1,i),10)*(12-i)}return checkResult(sum,secondCN)}return false},"Please specify a valid CPF number");$.validator.addMethod("creditcard",function(value,element){if(this.optional(element)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(value)){return false}var nCheck=0,nDigit=0,bEven=false,n,cDigit;value=value.replace(/\D/g,"");if(value.length<13||value.length>19){return false}for(n=value.length-1;n>=0;n--){cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9}}nCheck+=nDigit;bEven=!bEven}return nCheck%10===0},"Please enter a valid credit card number.");$.validator.addMethod("creditcardtypes",function(value,element,param){if(/[^0-9\-]+/.test(value)){return false}value=value.replace(/\D/g,"");var validTypes=0;if(param.mastercard){validTypes|=1}if(param.visa){validTypes|=2}if(param.amex){validTypes|=4}if(param.dinersclub){validTypes|=8}if(param.enroute){validTypes|=16}if(param.discover){validTypes|=32}if(param.jcb){validTypes|=64}if(param.unknown){validTypes|=128}if(param.all){validTypes=1|2|4|8|16|32|64|128}if(validTypes&1&&(/^(5[12345])/.test(value)||/^(2[234567])/.test(value))){return value.length===16}if(validTypes&2&&/^(4)/.test(value)){return value.length===16}if(validTypes&4&&/^(3[47])/.test(value)){return value.length===15}if(validTypes&8&&/^(3(0[012345]|[68]))/.test(value)){return value.length===14}if(validTypes&16&&/^(2(014|149))/.test(value)){return value.length===15}if(validTypes&32&&/^(6011)/.test(value)){return value.length===16}if(validTypes&64&&/^(3)/.test(value)){return value.length===16}if(validTypes&64&&/^(2131|1800)/.test(value)){return value.length===15}if(validTypes&128){return true}return false},"Please enter a valid credit card number.");$.validator.addMethod("currency",function(value,element,param){var isParamString=typeof param==="string",symbol=isParamString?param:param[0],soft=isParamString?true:param[1],regex;symbol=symbol.replace(/,/g,"");symbol=soft?symbol+"]":symbol+"]?";regex="^["+symbol+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";regex=new RegExp(regex);return this.optional(element)||regex.test(value)},"Please specify a valid currency");$.validator.addMethod("dateFA",function(value,element){return this.optional(element)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(value)},$.validator.messages.date);$.validator.addMethod("dateITA",function(value,element){var check=false,re=/^\d{1,2}\/\d{1,2}\/\d{4}$/,adata,gg,mm,aaaa,xdata;if(re.test(value)){adata=value.split("/");gg=parseInt(adata[0],10);mm=parseInt(adata[1],10);aaaa=parseInt(adata[2],10);xdata=new Date(Date.UTC(aaaa,mm-1,gg,12,0,0,0));if(xdata.getUTCFullYear()===aaaa&&xdata.getUTCMonth()===mm-1&&xdata.getUTCDate()===gg){check=true}else{check=false}}else{check=false}return this.optional(element)||check},$.validator.messages.date);$.validator.addMethod("dateNL",function(value,element){return this.optional(element)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(value)},$.validator.messages.date);$.validator.addMethod("extension",function(value,element,param){param=typeof param==="string"?param.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp("\\.("+param+")$","i"))},$.validator.format("Please enter a value with a valid extension."));$.validator.addMethod("giroaccountNL",function(value,element){return this.optional(element)||/^[0-9]{1,7}$/.test(value)},"Please specify a valid giro account number");$.validator.addMethod("greaterThan",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-greaterThan-blur").length){target.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){$(element).valid()})}return value>target.val()},"Please enter a greater value.");$.validator.addMethod("greaterThanEqual",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-greaterThanEqual-blur").length){target.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){$(element).valid()})}return value>=target.val()},"Please enter a greater value.");$.validator.addMethod("iban",function(value,element){if(this.optional(element)){return true}var iban=value.replace(/ /g,"").toUpperCase(),ibancheckdigits="",leadingZeroes=true,cRest="",cOperator="",countrycode,ibancheck,charAt,cChar,bbanpattern,bbancountrypatterns,ibanregexp,i,p;var minimalIBANlength=5;if(iban.length<minimalIBANlength){return false}countrycode=iban.substring(0,2);bbancountrypatterns={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};bbanpattern=bbancountrypatterns[countrycode];if(typeof bbanpattern!=="undefined"){ibanregexp=new RegExp("^[A-Z]{2}\\d{2}"+bbanpattern+"$","");if(!ibanregexp.test(iban)){return false}}ibancheck=iban.substring(4,iban.length)+iban.substring(0,4);for(i=0;i<ibancheck.length;i++){charAt=ibancheck.charAt(i);if(charAt!=="0"){leadingZeroes=false}if(!leadingZeroes){ibancheckdigits+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(charAt)}}for(p=0;p<ibancheckdigits.length;p++){cChar=ibancheckdigits.charAt(p);cOperator=""+cRest+""+cChar;cRest=cOperator%97}return cRest===1},"Please specify a valid IBAN");$.validator.addMethod("integer",function(value,element){return this.optional(element)||/^-?\d+$/.test(value)},"A positive or negative non-decimal number please");$.validator.addMethod("ipv4",function(value,element){return this.optional(element)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(value)},"Please enter a valid IP v4 address.");$.validator.addMethod("ipv6",function(value,element){return this.optional(element)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value)},"Please enter a valid IP v6 address.");$.validator.addMethod("lessThan",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-lessThan-blur").length){target.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){$(element).valid()})}return value<target.val()},"Please enter a lesser value.");$.validator.addMethod("lessThanEqual",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-lessThanEqual-blur").length){target.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){$(element).valid()})}return value<=target.val()},"Please enter a lesser value.");$.validator.addMethod("lettersonly",function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value)},"Letters only please");$.validator.addMethod("letterswithbasicpunc",function(value,element){return this.optional(element)||/^[a-z\-.,()'"\s]+$/i.test(value)},"Letters or punctuation only please");$.validator.addMethod("maxfiles",function(value,element,param){if(this.optional(element)){return true}if($(element).attr("type")==="file"){if(element.files&&element.files.length>param){return false}}return true},$.validator.format("Please select no more than {0} files."));$.validator.addMethod("maxsize",function(value,element,param){if(this.optional(element)){return true}if($(element).attr("type")==="file"){if(element.files&&element.files.length){for(var i=0;i<element.files.length;i++){if(element.files[i].size>param){return false}}}}return true},$.validator.format("File size must not exceed {0} bytes each."));$.validator.addMethod("maxsizetotal",function(value,element,param){if(this.optional(element)){return true}if($(element).attr("type")==="file"){if(element.files&&element.files.length){var totalSize=0;for(var i=0;i<element.files.length;i++){totalSize+=element.files[i].size;if(totalSize>param){return false}}}}return true},$.validator.format("Total size of all files must not exceed {0} bytes."));$.validator.addMethod("mobileNL",function(value,element){return this.optional(element)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(value)},"Please specify a valid mobile number");$.validator.addMethod("mobileUK",function(phone_number,element){phone_number=phone_number.replace(/\(|\)|\s+|-/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");$.validator.addMethod("netmask",function(value,element){return this.optional(element)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(value)},"Please enter a valid netmask.");$.validator.addMethod("nieES",function(value,element){"use strict";if(this.optional(element)){return true}var nieRegEx=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi);var validChars="TRWAGMYFPDXBNJZSQVHLCKET",letter=value.substr(value.length-1).toUpperCase(),number;value=value.toString().toUpperCase();if(value.length>10||value.length<9||!nieRegEx.test(value)){return false}value=value.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2");number=value.length===9?value.substr(0,8):value.substr(0,9);return validChars.charAt(parseInt(number,10)%23)===letter},"Please specify a valid NIE number.");$.validator.addMethod("nifES",function(value,element){"use strict";if(this.optional(element)){return true}value=value.toUpperCase();if(!value.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(value)){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(value.substring(8,0)%23)===value.charAt(8)}if(/^[KLM]{1}/.test(value)){return value[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(value.substring(8,1)%23)}return false},"Please specify a valid NIF number.");$.validator.addMethod("nipPL",function(value){"use strict";value=value.replace(/[^0-9]/g,"");if(value.length!==10){return false}var arrSteps=[6,5,7,2,3,4,5,6,7];var intSum=0;for(var i=0;i<9;i++){intSum+=arrSteps[i]*value[i]}var int2=intSum%11;var intControlNr=int2===10?0:int2;return intControlNr===parseInt(value[9],10)},"Please specify a valid NIP number.");$.validator.addMethod("nisBR",function(value){var number;var cn;var sum=0;var dv;var count;var multiplier;value=value.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(value.length!==11){return false}cn=parseInt(value.substring(10,11),10);number=parseInt(value.substring(0,10),10);for(count=2;count<12;count++){multiplier=count;if(count===10){multiplier=2}if(count===11){multiplier=3}sum+=number%10*multiplier;number=parseInt(number/10,10)}dv=sum%11;if(dv>1){dv=11-dv}else{dv=0}if(cn===dv){return true}else{return false}},"Please specify a valid NIS/PIS number");$.validator.addMethod("notEqualTo",function(value,element,param){return this.optional(element)||!$.validator.methods.equalTo.call(this,value,element,param)},"Please enter a different value, values must not be the same.");$.validator.addMethod("nowhitespace",function(value,element){return this.optional(element)||/^\S+$/i.test(value)},"No white space please");$.validator.addMethod("pattern",function(value,element,param){if(this.optional(element)){return true}if(typeof param==="string"){param=new RegExp("^(?:"+param+")$")}return param.test(value)},"Invalid format.");$.validator.addMethod("phoneNL",function(value,element){return this.optional(element)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(value)},"Please specify a valid phone number.");$.validator.addMethod("phonePL",function(phone_number,element){phone_number=phone_number.replace(/\s+/g,"");var regexp=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(element)||regexp.test(phone_number)},"Please specify a valid phone number");$.validator.addMethod("phonesUK",function(phone_number,element){phone_number=phone_number.replace(/\(|\)|\s+|-/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");$.validator.addMethod("phoneUK",function(phone_number,element){phone_number=phone_number.replace(/\(|\)|\s+|-/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");$.validator.addMethod("phoneUS",function(phone_number,element){phone_number=phone_number.replace(/\s+/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");$.validator.addMethod("postalcodeBR",function(cep_value,element){return this.optional(element)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(cep_value)},"Informe um CEP válido.");$.validator.addMethod("postalCodeCA",function(value,element){return this.optional(element)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(value)},"Please specify a valid postal code");$.validator.addMethod("postalcodeIT",function(value,element){return this.optional(element)||/^\d{5}$/.test(value)},"Please specify a valid postal code");$.validator.addMethod("postalcodeNL",function(value,element){return this.optional(element)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(value)},"Please specify a valid postal code");$.validator.addMethod("postcodeUK",function(value,element){return this.optional(element)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(value)},"Please specify a valid UK postcode");$.validator.addMethod("require_from_group",function(value,element,options){var $fields=$(options[1],element.form),$fieldsFirst=$fields.eq(0),validator=$fieldsFirst.data("valid_req_grp")?$fieldsFirst.data("valid_req_grp"):$.extend({},this),isValid=$fields.filter(function(){return validator.elementValue(this)}).length>=options[0];$fieldsFirst.data("valid_req_grp",validator);if(!$(element).data("being_validated")){$fields.data("being_validated",true);$fields.each(function(){validator.element(this)});$fields.data("being_validated",false)}return isValid},$.validator.format("Please fill at least {0} of these fields."));$.validator.addMethod("skip_or_fill_minimum",function(value,element,options){var $fields=$(options[1],element.form),$fieldsFirst=$fields.eq(0),validator=$fieldsFirst.data("valid_skip")?$fieldsFirst.data("valid_skip"):$.extend({},this),numberFilled=$fields.filter(function(){return validator.elementValue(this)}).length,isValid=numberFilled===0||numberFilled>=options[0];$fieldsFirst.data("valid_skip",validator);if(!$(element).data("being_validated")){$fields.data("being_validated",true);$fields.each(function(){validator.element(this)});$fields.data("being_validated",false)}return isValid},$.validator.format("Please either skip these fields or fill at least {0} of them."));$.validator.addMethod("stateUS",function(value,element,options){var isDefault=typeof options==="undefined",caseSensitive=isDefault||typeof options.caseSensitive==="undefined"?false:options.caseSensitive,includeTerritories=isDefault||typeof options.includeTerritories==="undefined"?false:options.includeTerritories,includeMilitary=isDefault||typeof options.includeMilitary==="undefined"?false:options.includeMilitary,regex;if(!includeTerritories&&!includeMilitary){regex="^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}else if(includeTerritories&&includeMilitary){regex="^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else if(includeTerritories){regex="^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else{regex="^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}regex=caseSensitive?new RegExp(regex):new RegExp(regex,"i");return this.optional(element)||regex.test(value)},"Please specify a valid state");$.validator.addMethod("strippedminlength",function(value,element,param){return $(value).text().length>=param},$.validator.format("Please enter at least {0} characters"));$.validator.addMethod("time",function(value,element){return this.optional(element)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(value)},"Please enter a valid time, between 00:00 and 23:59");$.validator.addMethod("time12h",function(value,element){return this.optional(element)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(value)},"Please enter a valid time in 12-hour am/pm format");$.validator.addMethod("url2",function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},$.validator.messages.url);$.validator.addMethod("vinUS",function(v){if(v.length!==17){return false}var LL=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],rs=0,i,n,d,f,cd,cdv;for(i=0;i<17;i++){f=FL[i];d=v.slice(i,i+1);if(i===8){cdv=d}if(!isNaN(d)){d*=f}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n===8){cdv=LL[n]}break}}}rs+=d}cd=rs%11;if(cd===10){cd="X"}if(cd===cdv){return true}return false},"The specified vehicle identification number (VIN) is invalid.");$.validator.addMethod("zipcodeUS",function(value,element){return this.optional(element)||/^\d{5}(-\d{4})?$/.test(value)},"The specified US ZIP Code is invalid");$.validator.addMethod("ziprange",function(value,element){return this.optional(element)||/^90[2-5]\d\{2\}-\d{4}$/.test(value)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx");return $});
(function($){$.fn.touchwipe=function(settings){var config={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};if(settings)$.extend(config,settings);this.each(function(){var startX;var startY;var isMoving=false;function cancelTouch(){this.removeEventListener("touchmove",onTouchMove);startX=null;startY=null;isMoving=false}function onTouchMove(e){if(config.preventDefaultEvents){e.preventDefault()}if(isMoving){var x=e.touches[0].pageX;var y=e.touches[0].pageY;var dx=startX-x;var dy=startY-y;if(Math.abs(dx)>=config.min_move_x){cancelTouch();if(dx>0){config.wipeLeft(Math.abs(dx))}else{config.wipeRight(Math.abs(dx))}}else if(Math.abs(dy)>=config.min_move_y){cancelTouch();if(dy>0){config.wipeDown(Math.abs(dy))}else{config.wipeUp(Math.abs(dy))}}}}function onTouchStart(e){if(e.touches.length==1){startX=e.touches[0].pageX;startY=e.touches[0].pageY;isMoving=true;this.addEventListener("touchmove",onTouchMove,false)}}if("ontouchstart"in document.documentElement){this.addEventListener("touchstart",onTouchStart,false)}});return this}})(jQuery);
(function($){$.fn.rwdImageMaps=function(){var $img=this;var rwdImageMap=function(){$img.each(function(){if(typeof $(this).attr("usemap")=="undefined")return;var that=this,$that=$(that);$("<img />").on("load",function(){var attrW="width",attrH="height",w=$that.attr(attrW),h=$that.attr(attrH);if(!w||!h){var temp=new Image;temp.src=$that.attr("src");if(!w)w=temp.width;if(!h)h=temp.height}var wPercent=$that.width()/100,hPercent=$that.height()/100,map=$that.attr("usemap").replace("#",""),c="coords";$('map[name="'+map+'"]').find("area").each(function(){var $this=$(this);if(!$this.data(c))$this.data(c,$this.attr(c));var coords=$this.data(c).split(","),coordsPercent=new Array(coords.length);for(var i=0;i<coordsPercent.length;++i){if(i%2===0)coordsPercent[i]=parseInt(coords[i]/w*100*wPercent);else coordsPercent[i]=parseInt(coords[i]/h*100*hPercent)}$this.attr(c,coordsPercent.toString())})}).attr("src",$that.attr("src"))})};$(window).resize(rwdImageMap).trigger("resize");return this}})(jQuery);
$.fn.rater=function(options){var opts=$.extend({},$.fn.rater.defaults,options);return this.each(function(){var $this=$(this),$on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");if(opts.size==undefined)opts.size=$off.height();if(opts.rating==undefined){opts.rating=$on.width()/$off.width()}else{$on.width($off.width()*(opts.rating/opts.ratings.length))}if(opts.id==undefined)opts.id=$this.attr("id");var initialRating=opts.rating;if(!$this.hasClass("ui-rater-bindings-done")){$this.addClass("ui-rater-bindings-done");$off.mousemove(function(e){var left=e.clientX-$off.offset().left,width=$off.width()-($off.width()-left);width=Math.min(Math.ceil(width/(opts.size/opts.step))*opts.size/opts.step,opts.size*opts.ratings.length);$on.width(width);var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$this.attr("title",'Click to Rate "'+r+' stars"')}).hover(function(e){$on.addClass("ui-rater-starsHover")},function(e){$on.removeClass("ui-rater-starsHover");$on.width(initialRating*opts.size)}).click(function(e){var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$.fn.rater.rate($this,opts,r)}).css("cursor","pointer");$on.css("cursor","pointer")}})};$.fn.rater.defaults={url:location.href,ratings:["Hated It","Didn't Like It","Liked It","Really Liked It","Loved It"],step:1};$.fn.rater.rate=function($this,opts,rating){if(Globals.loggedIn){var $on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");$off.fadeTo(600,.4,function(){$.getJSON(opts.url,{id:opts.id,rating:rating},function(data){if(data.error)VuFind.showMessage(data.error);if(data.rating){opts.rating=data.rating;$on.css("cursor","default");$off.unbind("click").unbind("mousemove").unbind("mouseenter").unbind("mouseleave").css("cursor","default").fadeTo(600,.1,function(){$on.removeClass("ui-rater-starsHover").width(opts.rating*opts.size).addClass("userRated");$off.fadeTo(500,1);$this.attr("title","Your rating: "+rating.toFixed(1));if($this.data("show_review")==true){VuFind.Ratings.doRatingReview(opts.id)}})}}).fail(VuFind.ajaxFail)})}else{VuFind.Account.ajaxLogin(null,function(){$.fn.rater.rate($this,opts,rating)})}};
(function(){var h,k=this,ba=function(){},l=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},n=function(a){return"array"==l(a)},ca=function(a){var b=l(a);return"array"==b||"object"==b&&"number"==typeof a.length},p=function(a){return"string"==typeof a},q=function(a){return"function"==l(a)},r=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},da=function(a,b,c){return a.call.apply(a.bind,arguments)},ea=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},s=function(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return s.apply(null,arguments)},fa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ga=Date.now||function(){return+new Date},ha=null,t=function(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},u=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,g){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return s.apply(null,c)}return s(this,a)};var v={};t("RecaptchaTemplates",v);v.VertHtml='<table id="recaptcha_table" class="recaptchatable" > <tr> <td colspan="6" class=\'recaptcha_r1_c1\'></td> </tr> <tr> <td class=\'recaptcha_r2_c1\'></td> <td colspan="4" class=\'recaptcha_image_cell\'><center><div id="recaptcha_image"></div></center></td> <td class=\'recaptcha_r2_c2\'></td> </tr> <tr> <td rowspan="6" class=\'recaptcha_r3_c1\'></td> <td colspan="4" class=\'recaptcha_r3_c2\'></td> <td rowspan="6" class=\'recaptcha_r3_c3\'></td> </tr> <tr> <td rowspan="3" class=\'recaptcha_r4_c1\' height="49"> <div class="recaptcha_input_area"> <input name="recaptcha_response_field" id="recaptcha_response_field" type="text" autocorrect="off" autocapitalize="off" placeholder="" /> <span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span> </div> </td> <td rowspan="4" class=\'recaptcha_r4_c2\'></td> <td><a id=\'recaptcha_reload_btn\'><img id=\'recaptcha_reload\' width="25" height="17" /></a></td> <td rowspan="4" class=\'recaptcha_r4_c4\'></td> </tr> <tr> <td><a id=\'recaptcha_switch_audio_btn\' class="recaptcha_only_if_image"><img id=\'recaptcha_switch_audio\' width="25" height="16" alt="" /></a><a id=\'recaptcha_switch_img_btn\' class="recaptcha_only_if_audio"><img id=\'recaptcha_switch_img\' width="25" height="16" alt=""/></a></td> </tr> <tr> <td><a id=\'recaptcha_whatsthis_btn\'><img id=\'recaptcha_whatsthis\' width="25" height="16" /></a></td> </tr> <tr> <td class=\'recaptcha_r7_c1\'></td> <td class=\'recaptcha_r8_c1\'></td> </tr> </table> ';v.CleanCss=".recaptchatable td img{display:block}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px;padding:7px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto;border:1px solid #dfdfdf!important}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable a img{border:0}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{border:1px solid #dfdfdf!important;margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{font-size:11pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1em;border:1px solid #dfdfdf!important}.recaptcha_error_text{color:red}.recaptcha_only_if_privacy{float:right;text-align:right;margin-right:7px}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}";v.CleanHtml='<table id="recaptcha_table" class="recaptchatable"> <tr height="73"> <td class=\'recaptcha_image_cell\' width="302"><center><div id="recaptcha_image"></div></center></td> <td style="padding: 10px 7px 7px 7px;"> <a id=\'recaptcha_reload_btn\'><img id=\'recaptcha_reload\' width="25" height="18" alt="" /></a> <a id=\'recaptcha_switch_audio_btn\' class="recaptcha_only_if_image"><img id=\'recaptcha_switch_audio\' width="25" height="15" alt="" /></a><a id=\'recaptcha_switch_img_btn\' class="recaptcha_only_if_audio"><img id=\'recaptcha_switch_img\' width="25" height="15" alt=""/></a> <a id=\'recaptcha_whatsthis_btn\'><img id=\'recaptcha_whatsthis\' width="25" height="16" /></a> </td> <td style="padding: 18px 7px 18px 7px;"> <img id=\'recaptcha_logo\' alt="" width="71" height="36" /> </td> </tr> <tr> <td style="padding-left: 7px;"> <div class="recaptcha_input_area" style="padding-top: 2px; padding-bottom: 7px;"> <input style="border: 1px solid #3c3c3c; width: 302px;" name="recaptcha_response_field" id="recaptcha_response_field" type="text" /> </div> </td> <td colspan=2><span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span></td> </tr> </table> ';v.VertCss=".recaptchatable td img{display:block}.recaptchatable .recaptcha_r1_c1{background:url('IMGROOT/sprite.png') 0 -63px no-repeat;width:318px;height:9px}.recaptchatable .recaptcha_r2_c1{background:url('IMGROOT/sprite.png') -18px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r2_c2{background:url('IMGROOT/sprite.png') -27px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r3_c1{background:url('IMGROOT/sprite.png') 0 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r3_c2{background:url('IMGROOT/sprite.png') -18px -57px no-repeat;width:300px;height:6px}.recaptchatable .recaptcha_r3_c3{background:url('IMGROOT/sprite.png') -9px 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r4_c1{background:url('IMGROOT/sprite.png') -43px 0 no-repeat;width:171px;height:49px}.recaptchatable .recaptcha_r4_c2{background:url('IMGROOT/sprite.png') -36px 0 no-repeat;width:7px;height:57px}.recaptchatable .recaptcha_r4_c4{background:url('IMGROOT/sprite.png') -214px 0 no-repeat;width:97px;height:57px}.recaptchatable .recaptcha_r7_c1{background:url('IMGROOT/sprite.png') -43px -49px no-repeat;width:171px;height:8px}.recaptchatable .recaptcha_r8_c1{background:url('IMGROOT/sprite.png') -43px -49px no-repeat;width:25px;height:8px}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px}#recaptcha_area,#recaptcha_table{width:318px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;padding:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;font-family:helvetica,sans-serif;font-size:8pt;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable img{border:0!important;margin:0!important;padding:0!important}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;width:153px!important;height:45px!important;margin-left:7px!important;margin-right:7px!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important;background:none!important;height:auto!important;width:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{width:153px!important;position:relative!important;bottom:7px!important;padding:0!important;margin:15px 0 0 0!important;font-size:10pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1!important}#recaptcha_instructions_error{color:red!important}.recaptcha_only_if_privacy{float:right;text-align:right}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}";var w={visual_challenge:"Get a visual challenge",audio_challenge:"Get an audio challenge",refresh_btn:"Get a new challenge",instructions_visual:"Type the text:",instructions_audio:"Type what you hear:",help_btn:"Help",play_again:"Play sound again",cant_hear_this:"Download sound as MP3",incorrect_try_again:"Incorrect. Try again.",image_alt_text:"reCAPTCHA challenge image",privacy_and_terms:"Privacy & Terms"},ia={visual_challenge:"الحصول على تحدٍ مرئي",audio_challenge:"الحصول على تحدٍ صوتي",refresh_btn:"الحصول على تحدٍ جديد",instructions_visual:"يرجى كتابة النص:",instructions_audio:"اكتب ما تسمعه:",help_btn:"مساعدة",play_again:"تشغيل الصوت مرة أخرى",cant_hear_this:"تنزيل الصوت بتنسيق MP3",incorrect_try_again:"غير صحيح. أعد المحاولة.",image_alt_text:"صورة التحدي من reCAPTCHA",privacy_and_terms:"الخصوصية والبنود"},ja={visual_challenge:"Obtener una pista visual",audio_challenge:"Obtener una pista sonora",refresh_btn:"Obtener una pista nueva",instructions_visual:"Introduzca el texto:",instructions_audio:"Escribe lo que oigas:",help_btn:"Ayuda",play_again:"Volver a reproducir el sonido",cant_hear_this:"Descargar el sonido en MP3",incorrect_try_again:"Incorrecto. Vuélvelo a intentar.",image_alt_text:"Pista de imagen reCAPTCHA",privacy_and_terms:"Privacidad y condiciones"},ka={visual_challenge:"Kumuha ng pagsubok na visual",audio_challenge:"Kumuha ng pagsubok na audio",refresh_btn:"Kumuha ng bagong pagsubok",instructions_visual:"I-type ang teksto:",instructions_audio:"I-type ang iyong narinig",help_btn:"Tulong",play_again:"I-play muli ang tunog",cant_hear_this:"I-download ang tunog bilang MP3",incorrect_try_again:"Hindi wasto. Muling subukan.",image_alt_text:"larawang panghamon ng reCAPTCHA",privacy_and_terms:"Privacy at Mga Tuntunin"},la={visual_challenge:"Test visuel",audio_challenge:"Test audio",refresh_btn:"Nouveau test",instructions_visual:"Saisissez le texte :",instructions_audio:"Qu'entendez-vous ?",help_btn:"Aide",play_again:"Réécouter",cant_hear_this:"Télécharger l'audio au format MP3",incorrect_try_again:"Incorrect. Veuillez réessayer.",image_alt_text:"Image reCAPTCHA",privacy_and_terms:"Confidentialité et conditions d'utilisation"},ma={visual_challenge:"Dapatkan kata pengujian berbentuk visual",audio_challenge:"Dapatkan kata pengujian berbentuk audio",refresh_btn:"Dapatkan kata pengujian baru",instructions_visual:"Ketik teks:",instructions_audio:"Ketik yang Anda dengar:",help_btn:"Bantuan",play_again:"Putar suara sekali lagi",cant_hear_this:"Unduh suara sebagai MP3",incorrect_try_again:"Salah. Coba lagi.",image_alt_text:"Gambar tantangan reCAPTCHA",privacy_and_terms:"Privasi & Persyaratan"},na={visual_challenge:"קבל אתגר חזותי",audio_challenge:"קבל אתגר שמע",refresh_btn:"קבל אתגר חדש",instructions_visual:"הקלד את הטקסט:",instructions_audio:"הקלד את מה שאתה שומע:",help_btn:"עזרה",play_again:"הפעל שוב את השמע",cant_hear_this:"הורד שמע כ-3MP",incorrect_try_again:"שגוי. נסה שוב.",image_alt_text:"תמונת אתגר של reCAPTCHA",privacy_and_terms:"פרטיות ותנאים"},oa={visual_challenge:"Obter um desafio visual",audio_challenge:"Obter um desafio de áudio",refresh_btn:"Obter um novo desafio",instructions_visual:"Digite o texto:",instructions_audio:"Digite o que você ouve:",help_btn:"Ajuda",play_again:"Reproduzir som novamente",cant_hear_this:"Fazer download do som no formato MP3",incorrect_try_again:"Incorreto. Tente novamente.",image_alt_text:"Imagem de desafio reCAPTCHA",privacy_and_terms:"Privacidade e Termos"},pa={visual_challenge:"Obţineţi un cod captcha vizual",audio_challenge:"Obţineţi un cod captcha audio",refresh_btn:"Obţineţi un nou cod captcha",instructions_visual:"Introduceți textul:",instructions_audio:"Introduceţi ceea ce auziţi:",help_btn:"Ajutor",play_again:"Redaţi sunetul din nou",cant_hear_this:"Descărcaţi fişierul audio ca MP3",incorrect_try_again:"Incorect. Încercaţi din nou.",image_alt_text:"Imagine de verificare reCAPTCHA",privacy_and_terms:"Confidenţialitate şi termeni"},qa={visual_challenge:"收到一个视频邀请",audio_challenge:"换一组音频验证码",refresh_btn:"换一组验证码",instructions_visual:"输入文字：",instructions_audio:"请键入您听到的内容：",help_btn:"帮助",play_again:"重新播放",cant_hear_this:"以 MP3 格式下载声音",incorrect_try_again:"不正确，请重试。",image_alt_text:"reCAPTCHA 验证图片",privacy_and_terms:"隐私权和使用条款"},ra={en:w,af:{visual_challenge:"Kry 'n visuele verifiëring",audio_challenge:"Kry 'n klankverifiëring",refresh_btn:"Kry 'n nuwe verifiëring",instructions_visual:"",instructions_audio:"Tik wat jy hoor:",help_btn:"Hulp",play_again:"Speel geluid weer",cant_hear_this:"Laai die klank af as MP3",incorrect_try_again:"Verkeerd. Probeer weer.",image_alt_text:"reCAPTCHA-uitdagingprent",privacy_and_terms:"Privaatheid en bepalings"},am:{visual_challenge:"የእይታ ተጋጣሚ አግኝ",audio_challenge:"ሌላ አዲስ የድምጽ ጥያቄ ይቅረብ",refresh_btn:"ሌላ አዲስ ጥያቄ ይቅረብ",instructions_visual:"",instructions_audio:"የምትሰማውን ተይብ፡-",help_btn:"እገዛ",play_again:"ድምጹን እንደገና አጫውት",cant_hear_this:"ድምጹን በMP3 ቅርጽ አውርድ",incorrect_try_again:"ትክክል አይደለም። እንደገና ሞክር።",image_alt_text:"reCAPTCHA ምስል ግጠም",privacy_and_terms:"ግላዊነት እና ውል"},ar:ia,"ar-EG":ia,bg:{visual_challenge:"Получаване на визуална проверка",audio_challenge:"Зареждане на аудиотест",refresh_btn:"Зареждане на нов тест",instructions_visual:"Въведете текста:",instructions_audio:"Въведете чутото:",help_btn:"Помощ",play_again:"Повторно пускане на звука",cant_hear_this:"Изтегляне на звука във формат MP3",incorrect_try_again:"Неправилно. Опитайте отново.",image_alt_text:"Изображение на проверката с reCAPTCHA",privacy_and_terms:"Поверителност и Общи условия"},bn:{visual_challenge:"একটি দৃশ্যমান প্রতিদ্বন্দ্বিতা পান",audio_challenge:"একটি অডিও প্রতিদ্বন্দ্বিতা  পান",refresh_btn:"একটি নতুন প্রতিদ্বন্দ্বিতা  পান",instructions_visual:"",instructions_audio:"আপনি যা শুনছেন তা লিখুন:",help_btn:"সহায়তা",play_again:"আবার সাউন্ড প্লে করুন",cant_hear_this:"MP3 রূপে শব্দ ডাউনলোড করুন",incorrect_try_again:"বেঠিক৷ আবার চেষ্টা করুন৷",image_alt_text:"reCAPTCHA চ্যালেঞ্জ চিত্র",privacy_and_terms:"গোপনীয়তা ও শর্তাবলী"},ca:{visual_challenge:"Obtén un repte visual",audio_challenge:"Obteniu una pista sonora",refresh_btn:"Obteniu una pista nova",instructions_visual:"Escriviu el text:",instructions_audio:"Escriviu el que escolteu:",help_btn:"Ajuda",play_again:"Torna a reproduir el so",cant_hear_this:"Baixa el so com a MP3",incorrect_try_again:"No és correcte. Torna-ho a provar.",image_alt_text:"Imatge del repte de reCAPTCHA",privacy_and_terms:"Privadesa i condicions"},cs:{visual_challenge:"Zobrazit vizuální podobu výrazu",audio_challenge:"Přehrát zvukovou podobu výrazu",refresh_btn:"Zobrazit nový výraz",instructions_visual:"Zadejte text:",instructions_audio:"Napište, co jste slyšeli:",help_btn:"Nápověda",play_again:"Znovu přehrát zvuk",cant_hear_this:"Stáhnout zvuk ve formátu MP3",incorrect_try_again:"Špatně. Zkuste to znovu.",image_alt_text:"Obrázek reCAPTCHA",privacy_and_terms:"Ochrana soukromí a smluvní podmínky"},da:{visual_challenge:"Hent en visuel udfordring",audio_challenge:"Hent en lydudfordring",refresh_btn:"Hent en ny udfordring",instructions_visual:"Indtast teksten:",instructions_audio:"Indtast det, du hører:",help_btn:"Hjælp",play_again:"Afspil lyden igen",cant_hear_this:"Download lyd som MP3",incorrect_try_again:"Forkert. Prøv igen.",image_alt_text:"reCAPTCHA-udfordringsbillede",privacy_and_terms:"Privatliv og vilkår"},de:{visual_challenge:"Captcha abrufen",audio_challenge:"Audio-Captcha abrufen",refresh_btn:"Neues Captcha abrufen",instructions_visual:"Geben Sie den angezeigten Text ein:",instructions_audio:"Geben Sie das Gehörte ein:",help_btn:"Hilfe",play_again:"Wort erneut abspielen",cant_hear_this:"Wort als MP3 herunterladen",incorrect_try_again:"Falsch. Bitte versuchen Sie es erneut.",image_alt_text:"reCAPTCHA-Bild",privacy_and_terms:"Datenschutzerklärung & Nutzungsbedingungen"},el:{visual_challenge:"Οπτική πρόκληση",audio_challenge:"Ηχητική πρόκληση",refresh_btn:"Νέα πρόκληση",instructions_visual:"Πληκτρολογήστε το κείμενο:",instructions_audio:"Πληκτρολογήστε ότι ακούτε:",help_btn:"Βοήθεια",play_again:"Αναπαραγωγή ήχου ξανά",cant_hear_this:"Λήψη ήχου ως ΜΡ3",incorrect_try_again:"Λάθος. Δοκιμάστε ξανά.",image_alt_text:"Εικόνα πρόκλησης reCAPTCHA",privacy_and_terms:"Απόρρητο και όροι"},"en-GB":w,"en-US":w,es:ja,"es-419":{visual_challenge:"Enfrentar un desafío visual",audio_challenge:"Enfrentar un desafío de audio",refresh_btn:"Enfrentar un nuevo desafío",instructions_visual:"Escriba el texto:",instructions_audio:"Escribe lo que escuchas:",help_btn:"Ayuda",play_again:"Reproducir sonido de nuevo",cant_hear_this:"Descargar sonido en formato MP3",incorrect_try_again:"Incorrecto. Vuelve a intentarlo.",image_alt_text:"Imagen del desafío de la reCAPTCHA",privacy_and_terms:"Privacidad y condiciones"},"es-ES":ja,et:{visual_challenge:"Kuva kuvapõhine robotilõks",audio_challenge:"Kuva helipõhine robotilõks",refresh_btn:"Kuva uus robotilõks",instructions_visual:"Tippige tekst:",instructions_audio:"Tippige, mida kuulete.",help_btn:"Abi",play_again:"Esita heli uuesti",cant_hear_this:"Laadi heli alla MP3-vormingus",incorrect_try_again:"Vale. Proovige uuesti.",image_alt_text:"reCAPTCHA robotilõksu kujutis",privacy_and_terms:"Privaatsus ja tingimused"},eu:{visual_challenge:"Eskuratu ikusizko erronka",audio_challenge:"Eskuratu audio-erronka",refresh_btn:"Eskuratu erronka berria",instructions_visual:"",instructions_audio:"Idatzi entzuten duzuna:",help_btn:"Laguntza",play_again:"Erreproduzitu soinua berriro",cant_hear_this:"Deskargatu soinua MP3 gisa",incorrect_try_again:"Ez da zuzena. Saiatu berriro.",image_alt_text:"reCAPTCHA erronkaren irudia",privacy_and_terms:"Pribatutasuna eta baldintzak"},fa:{visual_challenge:"دریافت یک معمای دیداری",audio_challenge:"دریافت یک معمای صوتی",refresh_btn:"دریافت یک معمای جدید",instructions_visual:"",instructions_audio:"آنچه را که می‌شنوید تایپ کنید:",help_btn:"راهنمایی",play_again:"پخش مجدد صدا",cant_hear_this:"دانلود صدا به صورت MP3",incorrect_try_again:"نادرست. دوباره امتحان کنید.",image_alt_text:"تصویر چالشی reCAPTCHA",privacy_and_terms:"حریم خصوصی و شرایط"},fi:{visual_challenge:"Kuvavahvistus",audio_challenge:"Äänivahvistus",refresh_btn:"Uusi kuva",instructions_visual:"Kirjoita teksti:",instructions_audio:"Kirjoita kuulemasi:",help_btn:"Ohje",play_again:"Toista ääni uudelleen",cant_hear_this:"Lataa ääni MP3-tiedostona",incorrect_try_again:"Väärin. Yritä uudelleen.",image_alt_text:"reCAPTCHA-kuva",privacy_and_terms:"Tietosuoja ja käyttöehdot"},fil:ka,fr:la,"fr-CA":{visual_challenge:"Obtenir un test visuel",audio_challenge:"Obtenir un test audio",refresh_btn:"Obtenir un nouveau test",instructions_visual:"Saisissez le texte :",instructions_audio:"Tapez ce que vous entendez :",help_btn:"Aide",play_again:"Jouer le son de nouveau",cant_hear_this:"Télécharger le son en format MP3",incorrect_try_again:"Erreur, essayez à nouveau",image_alt_text:"Image reCAPTCHA",privacy_and_terms:"Confidentialité et conditions d'utilisation"},"fr-FR":la,gl:{visual_challenge:"Obter unha proba visual",audio_challenge:"Obter unha proba de audio",refresh_btn:"Obter unha proba nova",instructions_visual:"",instructions_audio:"Escribe o que escoitas:",help_btn:"Axuda",play_again:"Reproducir o son de novo",cant_hear_this:"Descargar son como MP3",incorrect_try_again:"Incorrecto. Téntao de novo.",image_alt_text:"Imaxe de proba de reCAPTCHA",privacy_and_terms:"Privacidade e condicións"},gu:{visual_challenge:"એક દૃશ્યાત્મક પડકાર મેળવો",audio_challenge:"એક ઑડિઓ પડકાર મેળવો",refresh_btn:"એક નવો પડકાર મેળવો",instructions_visual:"",instructions_audio:"તમે જે સાંભળો છો તે લખો:",help_btn:"સહાય",play_again:"ધ્વનિ ફરીથી ચલાવો",cant_hear_this:"MP3 તરીકે ધ્વનિને ડાઉનલોડ કરો",incorrect_try_again:"ખોટું. ફરી પ્રયાસ કરો.",image_alt_text:"reCAPTCHA પડકાર છબી",privacy_and_terms:"ગોપનીયતા અને શરતો"},hi:{visual_challenge:"कोई विजुअल चुनौती लें",audio_challenge:"कोई ऑडियो चुनौती लें",refresh_btn:"कोई नई चुनौती लें",instructions_visual:"टेक्स्ट टाइप करें:",instructions_audio:"जो आप सुन रहे हैं उसे लिखें:",help_btn:"सहायता",play_again:"ध्‍वनि पुन: चलाएं",cant_hear_this:"ध्‍वनि को MP3 के रूप में डाउनलोड करें",incorrect_try_again:"गलत. पुन: प्रयास करें.",image_alt_text:"reCAPTCHA चुनौती चित्र",privacy_and_terms:"गोपनीयता और शर्तें"},hr:{visual_challenge:"Dohvati vizualni upit",audio_challenge:"Dohvati zvučni upit",refresh_btn:"Dohvati novi upit",instructions_visual:"Unesite tekst:",instructions_audio:"Upišite što čujete:",help_btn:"Pomoć",play_again:"Ponovi zvuk",cant_hear_this:"Preuzmi zvuk u MP3 formatu",incorrect_try_again:"Nije točno. Pokušajte ponovno.",image_alt_text:"Slikovni izazov reCAPTCHA",privacy_and_terms:"Privatnost i odredbe"},hu:{visual_challenge:"Vizuális kihívás kérése",audio_challenge:"Hangkihívás kérése",refresh_btn:"Új kihívás kérése",instructions_visual:"Írja be a szöveget:",instructions_audio:"Írja le, amit hall:",help_btn:"Súgó",play_again:"Hang ismételt lejátszása",cant_hear_this:"Hang letöltése MP3 formátumban",incorrect_try_again:"Hibás. Próbálkozzon újra.",image_alt_text:"reCAPTCHA ellenőrző kép",privacy_and_terms:"Adatvédelem és Szerződési Feltételek"},hy:{visual_challenge:"Ստանալ տեսողական խնդիր",audio_challenge:"Ստանալ ձայնային խնդիր",refresh_btn:"Ստանալ նոր խնդիր",instructions_visual:"Մուտքագրեք տեքստը՝",instructions_audio:"Մուտքագրեք այն, ինչ լսում եք՝",help_btn:"Օգնություն",play_again:"Նվագարկել ձայնը կրկին",cant_hear_this:"Բեռնել ձայնը որպես MP3",incorrect_try_again:"Սխալ է: Փորձեք կրկին:",image_alt_text:"reCAPTCHA պատկերով խնդիր",privacy_and_terms:"Գաղտնիության & պայմաններ"},id:ma,is:{visual_challenge:"Fá aðgangspróf sem mynd",audio_challenge:"Fá aðgangspróf sem hljóðskrá",refresh_btn:"Fá nýtt aðgangspróf",instructions_visual:"",instructions_audio:"Sláðu inn það sem þú heyrir:",help_btn:"Hjálp",play_again:"Spila hljóð aftur",cant_hear_this:"Sækja hljóð sem MP3",incorrect_try_again:"Rangt. Reyndu aftur.",image_alt_text:"mynd reCAPTCHA aðgangsprófs",privacy_and_terms:"Persónuvernd og skilmálar"},it:{visual_challenge:"Verifica visiva",audio_challenge:"Verifica audio",refresh_btn:"Nuova verifica",instructions_visual:"Digita il testo:",instructions_audio:"Digita ciò che senti:",help_btn:"Guida",play_again:"Riproduci di nuovo audio",cant_hear_this:"Scarica audio in MP3",incorrect_try_again:"Sbagliato. Riprova.",image_alt_text:"Immagine di verifica reCAPTCHA",privacy_and_terms:"Privacy e Termini"},iw:na,ja:{visual_challenge:"画像で確認します",audio_challenge:"音声で確認します",refresh_btn:"別の単語でやり直します",instructions_visual:"テキストを入力:",instructions_audio:"聞こえた単語を入力します:",help_btn:"ヘルプ",play_again:"もう一度聞く",cant_hear_this:"MP3 で音声をダウンロード",incorrect_try_again:"正しくありません。もう一度やり直してください。",image_alt_text:"reCAPTCHA 確認用画像",privacy_and_terms:"プライバシーと利用規約"},kn:{visual_challenge:"ದೃಶ್ಯ ಸವಾಲೊಂದನ್ನು ಸ್ವೀಕರಿಸಿ",audio_challenge:"ಆಡಿಯೋ ಸವಾಲೊಂದನ್ನು ಸ್ವೀಕರಿಸಿ",refresh_btn:"ಹೊಸ ಸವಾಲೊಂದನ್ನು ಪಡೆಯಿರಿ",instructions_visual:"",instructions_audio:"ನಿಮಗೆ ಕೇಳಿಸುವುದನ್ನು ಟೈಪ್‌ ಮಾಡಿ:",help_btn:"ಸಹಾಯ",play_again:"ಧ್ವನಿಯನ್ನು ಮತ್ತೆ ಪ್ಲೇ ಮಾಡಿ",cant_hear_this:"ಧ್ವನಿಯನ್ನು MP3 ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",incorrect_try_again:"ತಪ್ಪಾಗಿದೆ. ಮತ್ತೊಮ್ಮೆ ಪ್ರಯತ್ನಿಸಿ.",image_alt_text:"reCAPTCHA ಸವಾಲು ಚಿತ್ರ",privacy_and_terms:"ಗೌಪ್ಯತೆ ಮತ್ತು ನಿಯಮಗಳು"},ko:{visual_challenge:"그림으로 보안문자 받기",audio_challenge:"음성으로 보안문자 받기",refresh_btn:"보안문자 새로 받기",instructions_visual:"텍스트 입력:",instructions_audio:"음성 보안문자 입력:",help_btn:"도움말",play_again:"음성 다시 듣기",cant_hear_this:"음성을 MP3로 다운로드",incorrect_try_again:"틀렸습니다. 다시 시도해 주세요.",image_alt_text:"reCAPTCHA 보안문자 이미지",privacy_and_terms:"개인정보 보호 및 약관"},ln:la,lt:{visual_challenge:"Gauti vaizdinį atpažinimo testą",audio_challenge:"Gauti garso atpažinimo testą",refresh_btn:"Gauti naują atpažinimo testą",instructions_visual:"Įveskite tekstą:",instructions_audio:"Įveskite tai, ką girdite:",help_btn:"Pagalba",play_again:"Dar kartą paleisti garsą",cant_hear_this:"Atsisiųsti garsą kaip MP3",incorrect_try_again:"Neteisingai. Bandykite dar kartą.",image_alt_text:"Testo „reCAPTCHA“ vaizdas",privacy_and_terms:"Privatumas ir sąlygos"},lv:{visual_challenge:"Saņemt vizuālu izaicinājumu",audio_challenge:"Saņemt audio izaicinājumu",refresh_btn:"Saņemt jaunu izaicinājumu",instructions_visual:"Ievadiet tekstu:",instructions_audio:"Ierakstiet dzirdamo:",help_btn:"Palīdzība",play_again:"Vēlreiz atskaņot skaņu",cant_hear_this:"Lejupielādēt skaņu MP3 formātā",incorrect_try_again:"Nepareizi. Mēģiniet vēlreiz.",image_alt_text:"reCAPTCHA izaicinājuma attēls",privacy_and_terms:"Konfidencialitāte un noteikumi"},ml:{visual_challenge:"ഒരു ദൃശ്യ ചലഞ്ച് നേടുക",audio_challenge:"ഒരു ഓഡിയോ ചലഞ്ച് നേടുക",refresh_btn:"ഒരു പുതിയ ചലഞ്ച് നേടുക",instructions_visual:"",instructions_audio:"കേൾക്കുന്നത് ടൈപ്പ് ചെയ്യൂ:",help_btn:"സഹായം",play_again:"ശബ്‌ദം വീണ്ടും പ്ലേ ചെയ്യുക",cant_hear_this:"ശബ്‌ദം MP3 ആയി ഡൗൺലോഡ് ചെയ്യുക",incorrect_try_again:"തെറ്റാണ്. വീണ്ടും ശ്രമിക്കുക.",image_alt_text:"reCAPTCHA ചലഞ്ച് ഇമേജ്",privacy_and_terms:"സ്വകാര്യതയും നിബന്ധനകളും"},mr:{visual_challenge:"दृश्‍यमान आव्हान प्राप्त करा",audio_challenge:"ऑडीओ आव्हान प्राप्त करा",refresh_btn:"एक नवीन आव्हान प्राप्त करा",instructions_visual:"",instructions_audio:"आपल्याला जे ऐकू येईल ते टाइप करा:",help_btn:"मदत",play_again:"ध्‍वनी पुन्हा प्‍ले करा",cant_hear_this:"MP3 रुपात ध्‍वनी डाउनलोड करा",incorrect_try_again:"अयोग्‍य. पुन्‍हा प्रयत्‍न करा.",image_alt_text:"reCAPTCHA आव्‍हान प्रतिमा",privacy_and_terms:"गोपनीयता आणि अटी"},ms:{visual_challenge:"Dapatkan cabaran visual",audio_challenge:"Dapatkan cabaran audio",refresh_btn:"Dapatkan cabaran baru",instructions_visual:"Taipkan teksnya:",instructions_audio:"Taip apa yang didengari:",help_btn:"Bantuan",play_again:"Mainkan bunyi sekali lagi",cant_hear_this:"Muat turun bunyi sebagai MP3",incorrect_try_again:"Tidak betul. Cuba lagi.",image_alt_text:"Imej cabaran reCAPTCHA",privacy_and_terms:"Privasi & Syarat"},nl:{visual_challenge:"Een visuele uitdaging proberen",audio_challenge:"Een audio-uitdaging proberen",refresh_btn:"Een nieuwe uitdaging proberen",instructions_visual:"Typ de tekst:",instructions_audio:"Typ wat u hoort:",help_btn:"Help",play_again:"Geluid opnieuw afspelen",cant_hear_this:"Geluid downloaden als MP3",incorrect_try_again:"Onjuist. Probeer het opnieuw.",image_alt_text:"reCAPTCHA-uitdagingsafbeelding",privacy_and_terms:"Privacy en voorwaarden"},no:{visual_challenge:"Få en bildeutfordring",audio_challenge:"Få en lydutfordring",refresh_btn:"Få en ny utfordring",instructions_visual:"Skriv inn teksten:",instructions_audio:"Skriv inn det du hører:",help_btn:"Hjelp",play_again:"Spill av lyd på nytt",cant_hear_this:"Last ned lyd som MP3",incorrect_try_again:"Feil. Prøv på nytt.",image_alt_text:"reCAPTCHA-utfordringsbilde",privacy_and_terms:"Personvern og vilkår"},pl:{visual_challenge:"Pokaż podpowiedź wizualną",audio_challenge:"Odtwórz podpowiedź dźwiękową",refresh_btn:"Nowa podpowiedź",instructions_visual:"Przepisz tekst:",instructions_audio:"Wpisz usłyszane słowa:",help_btn:"Pomoc",play_again:"Odtwórz dźwięk ponownie",cant_hear_this:"Pobierz dźwięk jako plik MP3",incorrect_try_again:"Nieprawidłowo. Spróbuj ponownie.",image_alt_text:"Zadanie obrazkowe reCAPTCHA",privacy_and_terms:"Prywatność i warunki"},pt:oa,"pt-BR":oa,"pt-PT":{visual_challenge:"Obter um desafio visual",audio_challenge:"Obter um desafio de áudio",refresh_btn:"Obter um novo desafio",instructions_visual:"Introduza o texto:",instructions_audio:"Escreva o que ouvir:",help_btn:"Ajuda",play_again:"Reproduzir som novamente",cant_hear_this:"Transferir som como MP3",incorrect_try_again:"Incorreto. Tente novamente.",image_alt_text:"Imagem de teste reCAPTCHA",privacy_and_terms:"Privacidade e Termos de Utilização"},ro:pa,ru:{visual_challenge:"Визуальная проверка",audio_challenge:"Звуковая проверка",refresh_btn:"Обновить",instructions_visual:"Введите текст:",instructions_audio:"Введите то, что слышите:",help_btn:"Справка",play_again:"Прослушать еще раз",cant_hear_this:"Загрузить MP3-файл",incorrect_try_again:"Неправильно. Повторите попытку.",image_alt_text:"Проверка по слову reCAPTCHA",privacy_and_terms:"Правила и принципы"},sk:{visual_challenge:"Zobraziť vizuálnu podobu",audio_challenge:"Prehrať zvukovú podobu",refresh_btn:"Zobraziť nový výraz",instructions_visual:"Zadajte text:",instructions_audio:"Zadajte, čo počujete:",help_btn:"Pomocník",play_again:"Znova prehrať zvuk",cant_hear_this:"Prevziať zvuk v podobe súboru MP3",incorrect_try_again:"Nesprávne. Skúste to znova.",image_alt_text:"Obrázok zadania reCAPTCHA",privacy_and_terms:"Ochrana osobných údajov a Zmluvné podmienky"},sl:{visual_challenge:"Vizualni preskus",audio_challenge:"Zvočni preskus",refresh_btn:"Nov preskus",instructions_visual:"Vnesite besedilo:",instructions_audio:"Natipkajte, kaj slišite:",help_btn:"Pomoč",play_again:"Znova predvajaj zvok",cant_hear_this:"Prenesi zvok kot MP3",incorrect_try_again:"Napačno. Poskusite znova.",image_alt_text:"Slika izziva reCAPTCHA",privacy_and_terms:"Zasebnost in pogoji"},sr:{visual_challenge:"Примите визуелни упит",audio_challenge:"Примите аудио упит",refresh_btn:"Примите нови упит",instructions_visual:"Унесите текст:",instructions_audio:"Откуцајте оно што чујете:",help_btn:"Помоћ",play_again:"Поново пусти звук",cant_hear_this:"Преузми звук као MP3 снимак",incorrect_try_again:"Нетачно. Покушајте поново.",image_alt_text:"Слика reCAPTCHA провере",privacy_and_terms:"Приватност и услови"},sv:{visual_challenge:"Hämta captcha i bildformat",audio_challenge:"Hämta captcha i ljudformat",refresh_btn:"Hämta ny captcha",instructions_visual:"Skriv texten:",instructions_audio:"Skriv det du hör:",help_btn:"Hjälp",play_again:"Spela upp ljudet igen",cant_hear_this:"Hämta ljud som MP3",incorrect_try_again:"Fel. Försök igen.",image_alt_text:"reCAPTCHA-bild",privacy_and_terms:"Sekretess och villkor"},sw:{visual_challenge:"Pata herufi za kusoma",audio_challenge:"Pata herufi za kusikiliza",refresh_btn:"Pata herufi mpya",instructions_visual:"",instructions_audio:"Charaza unachosikia:",help_btn:"Usaidizi",play_again:"Cheza sauti tena",cant_hear_this:"Pakua sauti kama MP3",incorrect_try_again:"Sio sahihi. Jaribu tena.",image_alt_text:"picha ya changamoto ya reCAPTCHA",privacy_and_terms:"Faragha & Masharti"},ta:{visual_challenge:"பார்வை சேலஞ்சைப் பெறுக",audio_challenge:"ஆடியோ சேலஞ்சைப் பெறுக",refresh_btn:"புதிய சேலஞ்சைப் பெறுக",instructions_visual:"",instructions_audio:"கேட்பதை டைப் செய்க:",help_btn:"உதவி",play_again:"ஒலியை மீண்டும் இயக்கு",cant_hear_this:"ஒலியை MP3 ஆக பதிவிறக்குக",incorrect_try_again:"தவறானது. மீண்டும் முயலவும்.",image_alt_text:"reCAPTCHA சேலஞ்ச் படம்",privacy_and_terms:"தனியுரிமை & விதிமுறைகள்"},te:{visual_challenge:"ఒక దృశ్యమాన సవాలును స్వీకరించండి",audio_challenge:"ఒక ఆడియో సవాలును స్వీకరించండి",refresh_btn:"క్రొత్త సవాలును స్వీకరించండి",instructions_visual:"",instructions_audio:"మీరు విన్నది టైప్ చేయండి:",help_btn:"సహాయం",play_again:"ధ్వనిని మళ్లీ ప్లే చేయి",cant_hear_this:"ధ్వనిని MP3 వలె డౌన్‌లోడ్ చేయి",incorrect_try_again:"తప్పు. మళ్లీ ప్రయత్నించండి.",image_alt_text:"reCAPTCHA సవాలు చిత్రం",privacy_and_terms:"గోప్యత & నిబంధనలు"},th:{visual_challenge:"รับความท้าทายด้านภาพ",audio_challenge:"รับความท้าทายด้านเสียง",refresh_btn:"รับความท้าทายใหม่",instructions_visual:"พิมพ์ข้อความนี้:",instructions_audio:"พิมพ์สิ่งที่คุณได้ยิน:",help_btn:"ความช่วยเหลือ",play_again:"เล่นเสียงอีกครั้ง",cant_hear_this:"ดาวโหลดเสียงเป็น MP3",incorrect_try_again:"ไม่ถูกต้อง ลองอีกครั้ง",image_alt_text:"รหัสภาพ reCAPTCHA",privacy_and_terms:"นโยบายส่วนบุคคลและข้อกำหนด"},tr:{visual_challenge:"Görsel sorgu al",audio_challenge:"Sesli sorgu al",refresh_btn:"Yeniden yükle",instructions_visual:"Metni yazın:",instructions_audio:"Duyduğunuzu yazın:",help_btn:"Yardım",play_again:"Sesi tekrar çal",cant_hear_this:"Sesi MP3 olarak indir",incorrect_try_again:"Yanlış. Tekrar deneyin.",image_alt_text:"reCAPTCHA sorusu resmi",privacy_and_terms:"Gizlilik ve Şartlar"},uk:{visual_challenge:"Отримати візуальний текст",audio_challenge:"Отримати аудіозапис",refresh_btn:"Оновити текст",instructions_visual:"Введіть текст:",instructions_audio:"Введіть почуте:",help_btn:"Довідка",play_again:"Відтворити запис ще раз",cant_hear_this:"Завантажити запис як MP3",incorrect_try_again:"Неправильно. Спробуйте ще раз.",image_alt_text:"Зображення завдання reCAPTCHA",privacy_and_terms:"Конфіденційність і умови"},ur:{visual_challenge:"ایک مرئی چیلنج حاصل کریں",audio_challenge:"ایک آڈیو چیلنج حاصل کریں",refresh_btn:"ایک نیا چیلنج حاصل کریں",instructions_visual:"",instructions_audio:"جو سنائی دیتا ہے وہ ٹائپ کریں:",help_btn:"مدد",play_again:"آواز دوبارہ چلائیں",cant_hear_this:"آواز کو MP3 کے بطور ڈاؤن لوڈ کریں",incorrect_try_again:"غلط۔ دوبارہ کوشش کریں۔",image_alt_text:"reCAPTCHA چیلنج والی شبیہ",privacy_and_terms:"رازداری و شرائط"},vi:{visual_challenge:"Nhận thử thách hình ảnh",audio_challenge:"Nhận thử thách âm thanh",refresh_btn:"Nhận thử thách mới",instructions_visual:"Nhập văn bản:",instructions_audio:"Nhập nội dung bạn nghe thấy:",help_btn:"Trợ giúp",play_again:"Phát lại âm thanh",cant_hear_this:"Tải âm thanh xuống dưới dạng MP3",incorrect_try_again:"Không chính xác. Hãy thử lại.",image_alt_text:"Hình xác thực reCAPTCHA",privacy_and_terms:"Bảo mật và điều khoản"},"zh-CN":qa,"zh-HK":{visual_challenge:"回答圖像驗證問題",audio_challenge:"取得語音驗證問題",refresh_btn:"換一個驗證問題",instructions_visual:"輸入文字：",instructions_audio:"鍵入您所聽到的：",help_btn:"說明",play_again:"再次播放聲音",cant_hear_this:"將聲音下載為 MP3",incorrect_try_again:"不正確，再試一次。",image_alt_text:"reCAPTCHA 驗證文字圖片",privacy_and_terms:"私隱權與條款"},"zh-TW":{visual_challenge:"取得圖片驗證問題",audio_challenge:"取得語音驗證問題",refresh_btn:"取得新的驗證問題",instructions_visual:"請輸入圖片中的文字：",instructions_audio:"請輸入語音內容：",help_btn:"說明",play_again:"再次播放",cant_hear_this:"以 MP3 格式下載聲音",incorrect_try_again:"驗證碼有誤，請再試一次。",image_alt_text:"reCAPTCHA 驗證文字圖片",privacy_and_terms:"隱私權與條款"},zu:{visual_challenge:"Thola inselelo ebonakalayo",audio_challenge:"Thola inselelo yokulalelwayo",refresh_btn:"Thola inselelo entsha",instructions_visual:"",instructions_audio:"Bhala okuzwayo:",help_btn:"Usizo",play_again:"Phinda udlale okulalelwayo futhi",cant_hear_this:"Layisha umsindo njenge-MP3",incorrect_try_again:"Akulungile. Zama futhi.",image_alt_text:"umfanekiso oyinselelo we-reCAPTCHA",privacy_and_terms:"Okwangasese kanye nemigomo"},tl:ka,he:na,"in":ma,mo:pa,zh:qa};
var x=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(x,Error);x.prototype.name="CustomError";var sa;var ta=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Ba=function(a){if(!ua.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(va,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(wa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Aa,"&#0;"));return a},va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,Aa=/\x00/g,ua=/[\x00&<>"']/,Ca=function(a,b){return a<b?-1:a>b?1:0},Da=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Ea=function(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Fa=function(a,b){b.unshift(a);x.call(this,ta.apply(null,b));b.shift()};u(Fa,x);Fa.prototype.name="AssertionError";var Ga=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),g=d;else a&&(e+=": "+a,g=b);throw new Fa(""+e,g||[])},y=function(a,b,c){a||Ga("",null,b,Array.prototype.slice.call(arguments,2))},Ha=function(a,b){throw new Fa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},Ia=function(a,b,c){p(a)||Ga("Expected string but got %s: %s.",[l(a),a],b,Array.prototype.slice.call(arguments,2));return a},Ja=function(a,b,c){q(a)||Ga("Expected function but got %s: %s.",[l(a),a],b,Array.prototype.slice.call(arguments,2))};var z=Array.prototype,Ka=z.indexOf?function(a,b,c){y(null!=a.length);return z.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=z.forEach?function(a,b,c){y(null!=a.length);z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Ma=z.map?function(a,b,c){y(null!=a.length);return z.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,f=0;f<d;f++)f in g&&(e[f]=b.call(c,g[f],f,a));return e},Na=z.some?function(a,b,c){y(null!=a.length);return z.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1},Oa=function(a,b){var c=Ka(a,b),d;if(d=0<=c)y(null!=a.length),z.splice.call(a,c,1);return d},Pa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Qa=function(a,b,c){y(null!=a.length);return 2>=arguments.length?z.slice.call(a,b):z.slice.call(a,b,c)};var A;t:{var Ra=k.navigator;if(Ra){var Sa=Ra.userAgent;if(Sa){A=Sa;break t}}A=""}var B=function(a){return-1!=A.indexOf(a)};var Ta=B("Opera")||B("OPR"),C=B("Trident")||B("MSIE"),E=B("Gecko")&&-1==A.toLowerCase().indexOf("webkit")&&!(B("Trident")||B("MSIE")),F=-1!=A.toLowerCase().indexOf("webkit"),Ua=function(){var a=k.document;return a?a.documentMode:void 0},Va=function(){var a="",b;if(Ta&&k.opera)return a=k.opera.version,q(a)?a():a;E?b=/rv\:([^\);]+)(\)|;)/:C?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:F&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(A))?a[1]:"");return C&&(b=Ua(),b>parseFloat(a))?String(b):a}(),Wa={},G=function(a){var b;if(!(b=Wa[a])){b=0;for(var c=String(Va).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var f=c[g]||"",m=d[g]||"",$=RegExp("(\\d*)(\\D*)","g"),J=RegExp("(\\d*)(\\D*)","g");do{var D=$.exec(f)||["","",""],aa=J.exec(m)||["","",""];if(0==D[0].length&&0==aa[0].length)break;b=Ca(0==D[1].length?0:parseInt(D[1],10),0==aa[1].length?0:parseInt(aa[1],10))||Ca(0==D[2].length,0==aa[2].length)||Ca(D[2],aa[2])}while(0==b)}b=Wa[a]=0<=b}return b},Xa=k.document,Ya=Xa&&C?Ua()||("CSS1Compat"==Xa.compatMode?parseInt(Va,10):5):void 0;var Za=function(a){if(8192>a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192)var d=Qa(a,c,c+8192),b=b+String.fromCharCode.apply(null,d);return b},$a=function(a){return Ma(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var ab=null,bb=null,cb=function(a){if(!ab){ab={};bb={};for(var b=0;65>b;b++)ab[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),bb[ab[b]]=b}for(var b=bb,c=[],d=0;d<a.length;){var e=b[a.charAt(d++)],g=d<a.length?b[a.charAt(d)]:0;++d;var f=d<a.length?b[a.charAt(d)]:64;++d;var m=d<a.length?b[a.charAt(d)]:64;++d;if(null==e||null==g||null==f||null==m)throw Error();c.push(e<<2|g>>4);64!=f&&(c.push(g<<4&240|f>>2),64!=m&&c.push(f<<6&192|m))}return c};var H=function(){};H.prototype.disposed_=!1;H.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};var db=function(a,b){a.onDisposeCallbacks_||(a.onDisposeCallbacks_=[]);a.onDisposeCallbacks_.push(b)};H.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var eb=function(a){a&&"function"==typeof a.dispose&&a.dispose()};var fb=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},gb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},hb=function(a){for(var b in a)return!1;return!0},jb=function(){var a=ib()?k.google_ad:null,b={},c;for(c in a)b[c]=a[c];return b},kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),lb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<kb.length;g++)c=kb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},mb=function(a){var b=arguments.length;if(1==b&&n(arguments[0]))return mb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var nb=!C||C&&9<=Ya;!E&&!C||C&&C&&9<=Ya||E&&G("1.9.1");C&&G("9");var ob=function(a,b){var c;c=a.className;c=p(c)&&c.match(/\S+/g)||[];for(var d=Qa(arguments,1),e=c.length+d.length,g=c,f=0;f<d.length;f++)0<=Ka(g,d[f])||g.push(d[f]);a.className=c.join(" ");return c.length==e};var rb=function(a){return a?new pb(qb(a)):sa||(sa=new pb)},sb=function(a,b){return p(b)?a.getElementById(b):b},ub=function(a,b){fb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in tb?a.setAttribute(tb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},tb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},wb=function(a,b,c){return vb(document,arguments)},vb=function(a,b){var c=b[0],d=b[1];if(!nb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var e={};lb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(p(d)?c.className=d:n(d)?ob.apply(null,[c].concat(d)):ub(c,d));2<b.length&&xb(a,c,b);return c},xb=function(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var g=c[e];!ca(g)||r(g)&&0<g.nodeType?d(g):La(yb(g)?Pa(g):g,d)}},zb=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},Ab=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},qb=function(a){y(a,"Node cannot be null or undefined.");return 9==a.nodeType?a:a.ownerDocument||a.document},yb=function(a){if(a&&"number"==typeof a.length){if(r(a))return"function"==typeof a.item||"string"==typeof a.item;if(q(a))return"function"==typeof a.item}return!1},pb=function(a){this.document_=a||k.document||document};h=pb.prototype;h.getDomHelper=rb;h.getElement=function(a){return sb(this.document_,a)};h.$=pb.prototype.getElement;h.createDom=function(a,b,c){return vb(this.document_,arguments)};h.createElement=function(a){return this.document_.createElement(a)};h.createTextNode=function(a){return this.document_.createTextNode(String(a))};h.appendChild=function(a,b){a.appendChild(b)};var Bb=function(a){k.setTimeout(function(){throw a},0)},Cb,Db=function(){if(k.Promise&&k.Promise.resolve){var a=k.Promise.resolve();return function(b){a.then(function(){try{b()}catch(a){Bb(a)}})}}var b=k.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(b=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=s(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b){var c=new b,d={},e=d;c.port1.onmessage=function(){d=d.next;var a=d.cb;d.cb=null;a()};return function(a){e.next={cb:a};e=e.next;c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};var Ib=function(a,b){if(!Eb){var c=Fb;q(k.setImmediate)?k.setImmediate(c):(Cb||(Cb=Db()),Cb(c));Eb=!0}Gb.push(new Hb(a,b))},Eb=!1,Gb=[],Fb=function(){for(;Gb.length;){var a=Gb;Gb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.fn.call(c.scope)}catch(d){Bb(d)}}}Eb=!1},Hb=function(a,b){this.fn=a;this.scope=b};var Jb=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},Kb=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var K=function(a,b){this.state_=0;this.result_=void 0;this.callbackEntries_=this.parent_=null;this.hadUnhandledRejection_=this.executing_=!1;this.stack_=[];Lb(this,Error("created"));this.currentStep_=0;try{var c=this;a.call(b,function(a){I(c,2,a)},function(a){I(c,3,a)})}catch(d){I(this,3,d)}};K.prototype.then=function(a,b,c){null!=a&&Ja(a,"opt_onFulfilled should be a function.");null!=b&&Ja(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");Lb(this,Error("then"));return Mb(this,q(a)?a:null,q(b)?b:null,c)};Jb(K);K.prototype.cancel=function(a){0==this.state_&&Ib(function(){var b=new Nb(a);Ob(this,b)},this)};var Ob=function(a,b){if(0==a.state_)if(a.parent_){var c=a.parent_;if(c.callbackEntries_){for(var d=0,e=-1,g=0,f;f=c.callbackEntries_[g];g++)if(f=f.child)if(d++,f==a&&(e=g),0<=e&&1<d)break;0<=e&&(0==c.state_&&1==d?Ob(c,b):(d=c.callbackEntries_.splice(e,1)[0],Pb(c),d.onRejected(b)))}}else I(a,3,b)},Rb=function(a,b){a.callbackEntries_&&a.callbackEntries_.length||2!=a.state_&&3!=a.state_||Qb(a);a.callbackEntries_||(a.callbackEntries_=[]);a.callbackEntries_.push(b)},Mb=function(a,b,c,d){var e={child:null,onFulfilled:null,onRejected:null};e.child=new K(function(a,f){e.onFulfilled=b?function(c){try{var e=b.call(d,c);a(e)}catch(J){f(J)}}:a;e.onRejected=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Nb?f(b):a(e)}catch(J){f(J)}}:f});e.child.parent_=a;Rb(a,e);return e.child};K.prototype.unblockAndFulfill_=function(a){y(1==this.state_);this.state_=0;I(this,2,a)};K.prototype.unblockAndReject_=function(a){y(1==this.state_);this.state_=0;I(this,3,a)};var I=function(a,b,c){if(0==a.state_){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(Kb(c)){a.state_=1;c.then(a.unblockAndFulfill_,a.unblockAndReject_,a);return}if(r(c))try{var d=c.then;if(q(d)){Sb(a,c,d);return}}catch(e){b=3,c=e}}a.result_=c;a.state_=b;Qb(a);3!=b||c instanceof Nb||Tb(a,c)}},Sb=function(a,b,c){a.state_=1;var d=!1,e=function(b){d||(d=!0,a.unblockAndFulfill_(b))},g=function(b){d||(d=!0,a.unblockAndReject_(b))};try{c.call(b,e,g)}catch(f){g(f)}},Qb=function(a){a.executing_||(a.executing_=!0,Ib(a.executeCallbacks_,a))};K.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var a=this.callbackEntries_;this.callbackEntries_=[];for(var b=0;b<a.length;b++){this.currentStep_++;var c=a[b],d=this.result_;if(2==this.state_)c.onFulfilled(d);else Pb(this),c.onRejected(d)}}this.executing_=!1};var Lb=function(a,b){if(p(b.stack)){var c=b.stack.split("\n",4)[3],d=b.message,d=d+Array(11-d.length).join(" ");a.stack_.push(d+c)}},Pb=function(a){for(;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1},Tb=function(a,b){a.hadUnhandledRejection_=!0;Ib(function(){if(a.hadUnhandledRejection_){if(b&&p(b.stack)&&a.stack_.length){for(var c=["Promise trace:"],d=a;d;d=d.parent_){for(var e=a.currentStep_;0<=e;e--)c.push(d.stack_[e]);c.push("Value: ["+(3==d.state_?"REJECTED":"FULFILLED")+"] <"+String(d.result_)+">")}b.stack+="\n\n"+c.join("\n")}Ub.call(null,b)}})},Ub=Bb,Nb=function(a){x.call(this,a)};u(Nb,x);Nb.prototype.name="cancel";var L=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0;this.constructorStack_=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,L);"string"==typeof c.stack&&(this.constructorStack_=c.stack.replace(/^[^\n]*\n/,""))}};L.prototype.cancel=function(a){if(this.fired_)this.result_ instanceof L&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):(b.branches_--,0>=b.branches_&&b.cancel())}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.fired_||Vb(this,new Wb)}};L.prototype.continue_=function(a,b){this.blocked_=!1;Xb(this,a,b)};var Xb=function(a,b,c){a.fired_=!0;a.result_=c;a.hadError_=!b;Yb(a)},$b=function(a){if(a.fired_){if(!a.silentlyCanceled_)throw new Zb;a.silentlyCanceled_=!1}};L.prototype.callback=function(a){$b(this);ac(a);Xb(this,!0,a)};var Vb=function(a,b){$b(a);ac(b);bc(a,b);Xb(a,!1,b)},bc=function(a,b){a.constructorStack_&&r(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.constructorStack_)},ac=function(a){y(!(a instanceof L),"An execution sequence may not be initiated with a blocking Deferred.")},cc=function(a,b,c,d){y(!a.blocking_,"Blocking Deferreds can not be re-used");a.sequence_.push([b,c,d]);a.fired_&&Yb(a)};L.prototype.then=function(a,b,c){var d,e,g=new K(function(a,b){d=a;e=b});cc(this,d,function(a){a instanceof Wb?g.cancel():e(a)});return g.then(a,b,c)};Jb(L);var dc=function(a){return Na(a.sequence_,function(a){return q(a[1])})},Yb=function(a){if(a.unhandledErrorId_&&a.fired_&&dc(a)){var b=a.unhandledErrorId_,c=ec[b];c&&(k.clearTimeout(c.id_),delete ec[b]);a.unhandledErrorId_=0}a.parent_&&(a.parent_.branches_--,delete a.parent_);for(var b=a.result_,d=c=!1;a.sequence_.length&&!a.blocked_;){var e=a.sequence_.shift(),g=e[0],f=e[1],e=e[2];if(g=a.hadError_?f:g)try{var m=g.call(e||a.defaultScope_,b);void 0!==m&&(a.hadError_=a.hadError_&&(m==b||m instanceof Error),a.result_=b=m);Kb(b)&&(d=!0,a.blocked_=!0)}catch($){b=$,a.hadError_=!0,bc(a,b),dc(a)||(c=!0)}}a.result_=b;d&&(m=s(a.continue_,a,!0),d=s(a.continue_,a,!1),b instanceof L?(cc(b,m,d),b.blocking_=!0):b.then(m,d));c&&(b=new fc(b),ec[b.id_]=b,a.unhandledErrorId_=b.id_)},Zb=function(){x.call(this)};u(Zb,x);Zb.prototype.message="Deferred has already fired";Zb.prototype.name="AlreadyCalledError";var Wb=function(){x.call(this)};u(Wb,x);Wb.prototype.message="Deferred was canceled";Wb.prototype.name="CanceledError";var fc=function(a){this.id_=k.setTimeout(s(this.throwError,this),0);this.error_=a};fc.prototype.throwError=function(){y(ec[this.id_],"Cannot throw an error that is not scheduled.");delete ec[this.id_];throw this.error_};var ec={};var kc=function(a){var b={},c=b.document||document,d=document.createElement("SCRIPT"),e={script_:d,timeout_:void 0},g=new L(gc,e),f=null,m=null!=b.timeout?b.timeout:5e3;0<m&&(f=window.setTimeout(function(){hc(d,!0);Vb(g,new ic(1,"Timeout reached for loading script "+a))},m),e.timeout_=f);d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||(hc(d,b.cleanupWhenDone||!1,f),g.callback(null))};d.onerror=function(){hc(d,!0,f);Vb(g,new ic(0,"Error while loading script "+a))};ub(d,{type:"text/javascript",charset:"UTF-8",src:a});jc(c).appendChild(d);return g},jc=function(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement},gc=function(){if(this&&this.script_){var a=this.script_;a&&"SCRIPT"==a.tagName&&hc(a,!0,this.timeout_)}},hc=function(a,b,c){null!=c&&k.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){Ab(a)},0)},ic=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);x.call(this,c);this.code=a};u(ic,x);var lc=function(a){lc[" "](a);return a};lc[" "]=ba;var mc=!C||C&&9<=Ya,nc=C&&!G("9");!F||G("528");E&&G("1.9b")||C&&G("8")||Ta&&G("9.5")||F&&G("528");E&&!G("8")||C&&G("9");var M=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};M.prototype.disposeInternal=function(){};M.prototype.dispose=function(){};M.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var N=function(a,b){M.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.event_=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(E){var e;t:{try{lc(d.nodeName);e=!0;break t}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=F||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=F||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()}};u(N,M);N.prototype.preventDefault=function(){N.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,nc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};N.prototype.disposeInternal=function(){};var oc="closure_listenable_"+(1e6*Math.random()|0),pc=0;var qc=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++pc;this.removed=this.callOnce=!1},rc=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};var O=function(a){this.src=a;this.listeners={};this.typeCount_=0};O.prototype.add=function(a,b,c,d,e){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.typeCount_++);var f=sc(a,b,d,e);-1<f?(b=a[f],c||(b.callOnce=!1)):(b=new qc(b,this.src,g,!!d,e),b.callOnce=c,a.push(b));return b};O.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=sc(e,b,c,d);return-1<b?(rc(e[b]),y(null!=e.length),z.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};var tc=function(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Oa(a.listeners[c],b);d&&(rc(b),0==a.listeners[c].length&&(delete a.listeners[c],a.typeCount_--));return d};O.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,rc(d[e]);delete this.listeners[c];this.typeCount_--}return b};O.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=sc(a,b,c,d));return-1<e?a[e]:null};var sc=function(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.removed&&g.listener==b&&g.capture==!!c&&g.handler==d)return e}return-1};var uc="closure_lm_"+(1e6*Math.random()|0),vc={},wc=0,xc=function(a,b,c,d,e){if(n(b)){for(var g=0;g<b.length;g++)xc(a,b[g],c,d,e);return null}c=yc(c);if(a&&a[oc])a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var g=!!d,f=zc(a);f||(a[uc]=f=new O(a));c=f.add(b,c,!1,d,e);c.proxy||(d=Ac(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Bc(b.toString()),d),wc++);a=c}return a},Ac=function(){var a=Cc,b=mc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Dc=function(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)Dc(a,b[g],c,d,e);else c=yc(c),a&&a[oc]?a.unlisten(b,c,d,e):a&&(a=zc(a))&&(b=a.getListener(b,c,!!d,e))&&Ec(b)},Ec=function(a){if("number"==typeof a||!a||a.removed)return!1;var b=a.src;if(b&&b[oc])return tc(b.eventTargetListeners_,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Bc(c),d);wc--;(c=zc(b))?(tc(c,a),0==c.typeCount_&&(c.src=null,b[uc]=null)):rc(a);return!0},Bc=function(a){return a in vc?vc[a]:vc[a]="on"+a},Gc=function(a,b,c,d){var e=1;if(a=zc(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==c&&!g.removed&&(e&=!1!==Fc(g,d))}return Boolean(e)},Fc=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&Ec(a);return c.call(d,b)},Cc=function(a,b){if(a.removed)return!0;if(!mc){var c;if(!(c=b))t:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new N(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(f){g=!0}if(g||void 0==e.returnValue)e.returnValue=!0}e=[];for(g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,m=e.length-1;!c.propagationStopped_&&0<=m;m--)c.currentTarget=e[m],d&=Gc(e[m],g,!0,c);for(m=0;!c.propagationStopped_&&m<e.length;m++)c.currentTarget=e[m],d&=Gc(e[m],g,!1,c)}return d}return Fc(a,new N(b,this))},zc=function(a){a=a[uc];return a instanceof O?a:null},Hc="__closure_events_fn_"+(1e9*Math.random()>>>0),yc=function(a){y(a,"Listener can not be null.");if(q(a))return a;y(a.handleEvent,"An object listener must have handleEvent method.");return a[Hc]||(a[Hc]=function(b){return a.handleEvent(b)})};var P=function(a){this.handler_=a;this.keys_={}};u(P,H);var Ic=[];h=P.prototype;h.listen=function(a,b,c,d){n(b)||(b&&(Ic[0]=b.toString()),b=Ic);for(var e=0;e<b.length;e++){var g=xc(a,b[e],c||this.handleEvent,d||!1,this.handler_||this);if(!g)break;this.keys_[g.key]=g}return this};h.unlisten=function(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)this.unlisten(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.handler_||this,c=yc(c),d=!!d,b=a&&a[oc]?a.getListener(b,c,d,e):a?(a=zc(a))?a.getListener(b,c,d,e):null:null,b&&(Ec(b),delete this.keys_[b.key]);return this};h.removeAll=function(){fb(this.keys_,Ec);this.keys_={}};h.disposeInternal=function(){P.superClass_.disposeInternal.call(this);this.removeAll()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Q=function(){this.eventTargetListeners_=new O(this);this.actualEventTarget_=this};u(Q,H);Q.prototype[oc]=!0;h=Q.prototype;h.parentEventTarget_=null;h.setParentEventTarget=function(a){this.parentEventTarget_=a};h.addEventListener=function(a,b,c,d){xc(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Dc(this,a,b,c,d)};h.dispatchEvent=function(a){Jc(this);var b,c=this.parentEventTarget_;if(c){b=[];for(var d=1;c;c=c.parentEventTarget_)b.push(c),y(1e3>++d,"infinite loop")}c=this.actualEventTarget_;d=a.type||a;if(p(a))a=new M(a,c);else if(a instanceof M)a.target=a.target||c;else{var e=a;a=new M(d,c);lb(a,e)}var e=!0,g;if(b)for(var f=b.length-1;!a.propagationStopped_&&0<=f;f--)g=a.currentTarget=b[f],e=Kc(g,d,!0,a)&&e;a.propagationStopped_||(g=a.currentTarget=c,e=Kc(g,d,!0,a)&&e,a.propagationStopped_||(e=Kc(g,d,!1,a)&&e));if(b)for(f=0;!a.propagationStopped_&&f<b.length;f++)g=a.currentTarget=b[f],e=Kc(g,d,!1,a)&&e;return e};h.disposeInternal=function(){Q.superClass_.disposeInternal.call(this);this.eventTargetListeners_&&this.eventTargetListeners_.removeAll(void 0);this.parentEventTarget_=null};h.listen=function(a,b,c,d){Jc(this);return this.eventTargetListeners_.add(String(a),b,!1,c,d)};h.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};var Kc=function(a,b,c,d){b=a.eventTargetListeners_.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var f=b[g];if(f&&!f.removed&&f.capture==c){var m=f.listener,$=f.handler||f.src;f.callOnce&&tc(a.eventTargetListeners_,f);e=!1!==m.call($,d)&&e}}return e&&!1!=d.returnValue_};Q.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};var Jc=function(a){y(a.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var R=function(a){Q.call(this);this.imageIdToRequestMap_={};this.imageIdToImageMap_={};this.handler_=new P(this);this.parent_=a};u(R,Q);var Lc=[C&&!G("11")?"readystatechange":"load","abort","error"],Mc=function(a,b,c){(c=p(c)?c:c.src)&&(a.imageIdToRequestMap_[b]={src:c,corsRequestType:null})};R.prototype.start=function(){var a=this.imageIdToRequestMap_;La(gb(a),function(b){var c=a[b];if(c&&(delete a[b],!this.disposed_)){var d;d=this.parent_?rb(this.parent_).createDom("img"):new Image;c.corsRequestType&&(d.crossOrigin=c.corsRequestType);this.handler_.listen(d,Lc,this.onNetworkEvent_);this.imageIdToImageMap_[b]=d;d.id=b;d.src=c.src}},this)};R.prototype.onNetworkEvent_=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.disposed_&&(a=b.id,delete this.imageIdToRequestMap_[a],b=this.imageIdToImageMap_[a])&&(delete this.imageIdToImageMap_[a],this.handler_.unlisten(b,Lc,this.onNetworkEvent_),hb(this.imageIdToImageMap_)&&hb(this.imageIdToRequestMap_)&&this.dispatchEvent("complete"))}};R.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_;delete this.imageIdToImageMap_;eb(this.handler_);R.superClass_.disposeInternal.call(this)};var S=function(){};S.getInstance=function(){return S.instance_?S.instance_:S.instance_=new S};S.prototype.nextId_=0;var T=function(a){Q.call(this);this.dom_=a||rb()};u(T,Q);h=T.prototype;h.idGenerator_=S.getInstance();h.id_=null;h.inDocument_=!1;h.element_=null;h.parent_=null;h.children_=null;h.childIndex_=null;h.wasDecorated_=!1;h.getElement=function(){return this.element_};h.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error("Method not supported");T.superClass_.setParentEventTarget.call(this,a)};h.getDomHelper=function(){return this.dom_};h.createDom=function(){this.element_=this.dom_.createElement("div")};var Oc=function(a,b){if(a.inDocument_)throw Error("Component already rendered");a.element_||a.createDom();b?b.insertBefore(a.element_,null):a.dom_.document_.body.appendChild(a.element_);a.parent_&&!a.parent_.inDocument_||Nc(a)},Nc=function(a){a.inDocument_=!0;Pc(a,function(a){!a.inDocument_&&a.getElement()&&Nc(a)})},Qc=function(a){Pc(a,function(a){a.inDocument_&&Qc(a)});a.googUiComponentHandler_&&a.googUiComponentHandler_.removeAll();a.inDocument_=!1};T.prototype.disposeInternal=function(){this.inDocument_&&Qc(this);this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);Pc(this,function(a){a.dispose()});!this.wasDecorated_&&this.element_&&Ab(this.element_);this.parent_=this.element_=this.childIndex_=this.children_=null;T.superClass_.disposeInternal.call(this)};var Pc=function(a,b){a.children_&&La(a.children_,b,void 0)};T.prototype.removeChild=function(a,b){if(a){var c=p(a)?a:a.id_||(a.id_=":"+(a.idGenerator_.nextId_++).toString(36)),d;this.childIndex_&&c?(d=this.childIndex_,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.childIndex_;c in d&&delete d[c];Oa(this.children_,a);b&&(Qc(a),a.element_&&Ab(a.element_));c=a;if(null==c)throw Error("Unable to set parent component");c.parent_=null;T.superClass_.setParentEventTarget.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};var U=function(a,b,c){T.call(this,c);this.captchaImage_=a;this.adImage_=b&&300==b.naturalWidth&&57==b.naturalHeight?b:null};u(U,T);U.prototype.createDom=function(){U.superClass_.createDom.call(this);var a=this.getElement();this.captchaImage_.alt=V.image_alt_text;this.getDomHelper().appendChild(a,this.captchaImage_);this.adImage_&&(this.adImage_.alt=V.image_alt_text,this.getDomHelper().appendChild(a,this.adImage_),this.adImage_&&Rc(this.adImage_)&&(a.innerHTML+='<div id="recaptcha-ad-choices"><div class="recaptcha-ad-choices-collapsed"><img height="15" width="30" alt="AdChoices" border="0" src="//www.gstatic.com/recaptcha/api/img/adicon.png"/></div><div class="recaptcha-ad-choices-expanded"><a href="https://support.google.com/adsense/troubleshooter/1631343" target="_blank"><img height="15" width="75" alt="AdChoices" border="0" src="//www.gstatic.com/recaptcha/api/img/adchoices.png"/></a></div></div>'))};var Rc=function(a){var b=Sc(a,"visibility");a=Sc(a,"display");return"hidden"!=b&&"none"!=a},Sc=function(a,b){var c;t:{c=qb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break t}c=""}if(!(c=c||(a.currentStyle?a.currentStyle[b]:null))&&(c=a.style[Da(b)],"undefined"===typeof c)){c=a.style;var d;t:if(d=Da(b),void 0===a.style[d]){var e=(F?"Webkit":E?"Moz":C?"ms":Ta?"O":null)+Ea(d);if(void 0!==a.style[e]){d=e;break t}}c=c[d]||""}return c};U.prototype.disposeInternal=function(){delete this.captchaImage_;delete this.adImage_;U.superClass_.disposeInternal.call(this)};var Tc=function(a,b,c){this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=s(this.doAction_,this)};u(Tc,H);h=Tc.prototype;h.id_=0;h.disposeInternal=function(){Tc.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};h.start=function(a){this.stop();var b=this.callback_;a=void 0!==a?a:this.interval_;if(!q(b))if(b&&"function"==typeof b.handleEvent)b=s(b.handleEvent,b);else throw Error("Invalid listener argument");this.id_=2147483647<a?-1:k.setTimeout(b,a||0)};h.stop=function(){this.isActive()&&k.clearTimeout(this.id_);this.id_=0};h.isActive=function(){return 0!=this.id_};h.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var Uc=function(a,b){this.listener_=a;this.handler_=b;this.delay_=new Tc(s(this.onTick_,this),0,this)};u(Uc,H);h=Uc.prototype;h.interval_=0;h.runUntil_=0;h.disposeInternal=function(){this.delay_.dispose();delete this.listener_;delete this.handler_;Uc.superClass_.disposeInternal.call(this)};h.start=function(a,b){this.stop();var c=b||0;this.interval_=Math.max(a||0,0);this.runUntil_=0>c?-1:ga()+c;this.delay_.start(0>c?this.interval_:Math.min(this.interval_,c))};h.stop=function(){this.delay_.stop()};h.isActive=function(){return this.delay_.isActive()};h.onSuccess=function(){};h.onFailure=function(){};h.onTick_=function(){if(this.listener_.call(this.handler_))this.onSuccess();else if(0>this.runUntil_)this.delay_.start(this.interval_);else{var a=this.runUntil_-ga();if(0>=a)this.onFailure();else this.delay_.start(Math.min(this.interval_,a))
}};mb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));mb("action","cite","data","formaction","href","manifest","poster","src");mb("link","script","style");Ba("".implementsGoogStringTypedString?"".getTypedStringValue():"");var Vc={sanitizedContentKindHtml:!0},Wc={sanitizedContentJsStrChars:!0},Xc={sanitizedContentKindText:!0},W=function(){throw Error("Do not instantiate directly")};W.prototype.contentDir=null;W.prototype.toString=function(){return this.content};var bd=function(a){var b=Yc;y(b,"Soy template may not be null.");var c=rb().createElement("DIV");a=Zc(b(a||$c,void 0,void 0));b=a.match(ad);y(!b,"This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\nTemplate output: %s",b&&b[0],a);c.innerHTML=a;return 1==c.childNodes.length&&(a=c.firstChild,1==a.nodeType)?a:c},Zc=function(a){if(!r(a))return String(a);if(a instanceof W){if(a.contentKind===Vc)return Ia(a.content);if(a.contentKind===Xc)return Ba(a.content)}Ha("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"},ad=/^<(body|caption|col|colgroup|head|html|tr|td|tbody|thead|tfoot)>/i,$c={};C&&G(8);var cd=function(){W.call(this)};u(cd,W);cd.prototype.contentKind=Vc;var dd=function(){W.call(this)};u(dd,W);dd.prototype.contentKind=Wc;var ed=function(a){function b(){}b.prototype=a.prototype;return function(a,d){var e=new b;e.content=String(a);void 0!==d&&(e.contentDir=d);return e}},fd=ed(cd);ed(dd);(function(a){function b(){}b.prototype=a.prototype;return function(a,d){if(!String(a))return"";var e=new b;e.content=String(a);void 0!==d&&(e.contentDir=d);return e}})(cd);var id=function(a){return null!=a&&a.contentKind===Wc?(y(a.constructor===dd),a.content):String(a).replace(gd,hd)},jd={"\x00":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"},hd=function(a){return jd[a]},gd=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;var Yc=function(a){return fd('<script type="text/javascript">var challenge = \''+id(a.challenge)+"'; var publisherId = '"+id(a.publisherId)+"';"+("ca-mongoogle"==a.publisherId?'google_page_url = "3pcerttesting.com/dab/recaptcha.html";':"")+"\n    google_ad_client = publisherId;\n    google_ad_type = 'html';\n    google_ad_output = 'js';\n    google_image_size = '300x57';\n    google_captcha_token = challenge;\n    google_ad_request_done = function(ad) {\n      window.parent.recaptcha.ads.adutils.googleAdRequestDone(ad);\n    };\n    </script><script type=\"text/javascript\" src=\"//pagead2.googlesyndication.com/pagead/show_ads.js\"></script>")};Yc.soyTemplateName="recaptcha.soy.ads.iframeAdsLoader.main";var ib=function(){var a=k.google_ad;return!!(a&&a.token&&a.imageAdUrl&&a.hashedAnswer&&a.salt&&a.delayedImpressionUrl&&a.engagementUrl)},kd=function(){k.google_ad&&(k.google_ad=null)},ld=function(a){a=a||document.body;var b=k.google_ad;b&&b.searchUpliftUrl&&(b=wb("iframe",{src:'data:text/html;charset=utf-8,<body><img src="'+b.searchUpliftUrl+'"></img></body>',style:"display:none"}),a.appendChild(b))},md=0,nd=function(a){var b=new R;Mc(b,"recaptcha-url-"+md++,a);b.start()},od=function(a,b){var c=RecaptchaState.publisher_id;kd();var d=wb("iframe",{id:"recaptcha-loader-"+md++,style:"display: none"});document.body.appendChild(d);var e=d.contentWindow?d.contentWindow.document:d.contentDocument;e.open("text/html","replace");e.write(bd({challenge:a,publisherId:c}).innerHTML);e.close();c=new Uc(function(){return!!k.google_ad});c.onSuccess=function(){Ab(d);b()};c.onFailure=function(){Ab(d);b()};c.start(50,500)};t("recaptcha.ads.adutils.googleAdRequestDone",function(a){k.google_ad=a});var pd=function(){this.blockSize=-1};var qd=function(){this.blockSize=-1;this.blockSize=64;this.chain_=Array(4);this.block_=Array(this.blockSize);this.totalLength_=this.blockLength_=0;this.reset()};u(qd,pd);qd.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.totalLength_=this.blockLength_=0};var rd=function(a,b,c){c||(c=0);var d=Array(16);if(p(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.chain_[0];c=a.chain_[1];var e=a.chain_[2],g=a.chain_[3],f=0,f=b+(g^c&(e^g))+d[0]+3614090360&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[1]+3905402710&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[2]+606105819&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[3]+3250441966&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[4]+4118548399&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[5]+1200080426&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[6]+2821735955&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[7]+4249261313&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[8]+1770035416&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[9]+2336552879&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[10]+4294925233&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[11]+2304563134&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[12]+1804603682&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[13]+4254626195&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[14]+2792965006&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[15]+1236535329&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(e^g&(c^e))+d[1]+4129170786&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[6]+3225465664&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[11]+643717713&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[0]+3921069994&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[5]+3593408605&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[10]+38016083&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[15]+3634488961&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[4]+3889429448&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[9]+568446438&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[14]+3275163606&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[3]+4107603335&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[8]+1163531501&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[13]+2850285829&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[2]+4243563512&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[7]+1735328473&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[12]+2368359562&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(c^e^g)+d[5]+4294588738&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[8]+2272392833&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[11]+1839030562&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[14]+4259657740&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[1]+2763975236&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[4]+1272893353&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[7]+4139469664&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[10]+3200236656&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[13]+681279174&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[0]+3936430074&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[3]+3572445317&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[6]+76029189&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[9]+3654602809&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[12]+3873151461&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[15]+530742520&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[2]+3299628645&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(e^(c|~g))+d[0]+4096336452&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[7]+1126891415&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[14]+2878612391&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[5]+4237533241&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[12]+1700485571&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[3]+2399980690&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[10]+4293915773&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[1]+2240044497&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[8]+1873313359&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[15]+4264355552&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[6]+2734768916&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[13]+1309151649&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[4]+4149444226&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[11]+3174756917&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[2]+718787259&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[9]+3951481745&4294967295;a.chain_[0]=a.chain_[0]+b&4294967295;a.chain_[1]=a.chain_[1]+(e+(f<<21&4294967295|f>>>11))&4294967295;a.chain_[2]=a.chain_[2]+e&4294967295;a.chain_[3]=a.chain_[3]+g&4294967295};qd.prototype.update=function(a,b){void 0===b&&(b=a.length);for(var c=b-this.blockSize,d=this.block_,e=this.blockLength_,g=0;g<b;){if(0==e)for(;g<=c;)rd(this,a,g),g+=this.blockSize;if(p(a))for(;g<b;){if(d[e++]=a.charCodeAt(g++),e==this.blockSize){rd(this,d);e=0;break}}else for(;g<b;)if(d[e++]=a[g++],e==this.blockSize){rd(this,d);e=0;break}}this.blockLength_=e;this.totalLength_+=b};var X=function(){P.call(this);this.callback_=this.element_=null;this.md5_=new qd};u(X,P);var sd=function(a,b,c,d,e){a.unwatch();a.element_=b;a.callback_=e;a.listen(b,"keyup",s(a.onChanged_,a,c,d))};X.prototype.unwatch=function(){this.element_&&this.callback_&&(this.removeAll(),this.callback_=this.element_=null)};X.prototype.onChanged_=function(a,b){var c;c=(c=this.element_.value)?c.replace(/[\s\xa0]+/g,"").toLowerCase():"";this.md5_.reset();this.md5_.update(c+"."+b);c=this.md5_;var d=Array((56>c.blockLength_?c.blockSize:2*c.blockSize)-c.blockLength_);d[0]=128;for(var e=1;e<d.length-8;++e)d[e]=0;for(var g=8*c.totalLength_,e=d.length-8;e<d.length;++e)d[e]=g&255,g/=256;c.update(d);d=Array(16);for(e=g=0;4>e;++e)for(var f=0;32>f;f+=8)d[g++]=c.chain_[e]>>>f&255;$a(d).toLowerCase()==a.toLowerCase()&&this.callback_()};X.prototype.disposeInternal=function(){this.element_=null;X.superClass_.disposeInternal.call(this)};var ud=function(a,b,c){this.adObject_=a;this.captchaImageUrl_=b;this.opt_successCallback_=c||null;td(this)};u(ud,H);var td=function(a){var b=new R;db(a,fa(eb,b));Mc(b,"recaptcha_challenge_image",a.captchaImageUrl_);Mc(b,"recaptcha_ad_image",a.adObject_.imageAdUrl);var c={};xc(b,"load",s(function(a,b){a[b.target.id]=b.target},a,c));xc(b,"complete",s(a.handleImagesLoaded_,a,c));b.start()};ud.prototype.handleImagesLoaded_=function(a){a=new U(a.recaptcha_challenge_image,a.recaptcha_ad_image);db(this,fa(eb,a));var b=sb(document,"recaptcha_image");zb(b);Oc(a,b);a.adImage_&&Rc(a.adImage_)&&(nd(this.adObject_.delayedImpressionUrl),a=new X,db(this,fa(eb,a)),sd(a,sb(document,"recaptcha_response_field"),this.adObject_.hashedAnswer,this.adObject_.salt,s(function(a,b){a.unwatch();nd(b)},this,a,this.adObject_.engagementUrl)),this.opt_successCallback_&&this.opt_successCallback_("04"+this.adObject_.token))};var V=w;t("RecaptchaStr",V);var Y=k.RecaptchaOptions;t("RecaptchaOptions",Y);var vd={tabindex:0,theme:"red",callback:null,lang:null,custom_theme_widget:null,custom_translations:null};t("RecaptchaDefaultOptions",vd);var Z={widget:null,timer_id:-1,style_set:!1,theme:null,type:"image",ajax_verify_cb:null,th1:null,th2:null,th3:null,element:"",ad_captcha_plugin:null,reload_timeout:-1,force_reload:!1,$:function(a){return"string"==typeof a?document.getElementById(a):a},attachEvent:function(a,b,c){a&&a.addEventListener?a.addEventListener(b,c,!1):a&&a.attachEvent&&a.attachEvent("on"+b,c)},create:function(a,b,c){Z.destroy();b&&(Z.widget=Z.$(b),Z.element=b);Z._init_options(c);Z._call_challenge(a)},destroy:function(){var a=Z.$("recaptcha_challenge_field");a&&a.parentNode.removeChild(a);-1!=Z.timer_id&&clearInterval(Z.timer_id);Z.timer_id=-1;if(a=Z.$("recaptcha_image"))a.innerHTML="";Z.update_widget();Z.widget&&("custom"!=Z.theme?Z.widget.innerHTML="":Z.widget.style.display="none",Z.widget=null)},focus_response_field:function(){var a=Z.$("recaptcha_response_field");a&&a.focus()},get_challenge:function(){return"undefined"==typeof RecaptchaState?null:RecaptchaState.challenge},get_response:function(){var a=Z.$("recaptcha_response_field");return a?a.value:null},ajax_verify:function(a){Z.ajax_verify_cb=a;a=Z.get_challenge()||"";var b=Z.get_response()||"";a=Z._get_api_server()+"/ajaxverify?c="+encodeURIComponent(a)+"&response="+encodeURIComponent(b);Z._add_script(a)},_ajax_verify_callback:function(a){Z.ajax_verify_cb(a)},_get_overridable_url:function(a){var b=window.location.protocol;if("undefined"!=typeof _RecaptchaOverrideApiServer)a=_RecaptchaOverrideApiServer;else if("undefined"!=typeof RecaptchaState&&"string"==typeof RecaptchaState.server&&0<RecaptchaState.server.length)return RecaptchaState.server.replace(/\/+$/,"");return b+"//"+a},_get_api_server:function(){return Z._get_overridable_url("www.google.com/recaptcha/api")},_get_static_url_root:function(){return Z._get_overridable_url("www.gstatic.com/recaptcha/api")},_call_challenge:function(a){a=Z._get_api_server()+"/challenge?k="+a+"&ajax=1&cachestop="+Math.random();Z.getLang_()&&(a+="&lang="+Z.getLang_());"undefined"!=typeof Y.extra_challenge_params&&(a+="&"+Y.extra_challenge_params);Z._add_script(a)},_add_script:function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;Z._get_script_area().appendChild(b)},_get_script_area:function(){var a=document.getElementsByTagName("head");return a=!a||1>a.length?document.body:a[0]},_hash_merge:function(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])b[d]=a[c][d];return b},_init_options:function(a){Y=Z._hash_merge([vd,a||{}])},challenge_callback_internal:function(){Z.update_widget();Z._reset_timer();V=Z._hash_merge([w,ra[Z.getLang_()]||{},Y.custom_translations||{}]);window.addEventListener&&window.addEventListener("unload",function(){Z.destroy()},!1);Z._is_ie()&&window.attachEvent&&window.attachEvent("onbeforeunload",function(){});if(0<navigator.userAgent.indexOf("KHTML")){var a=document.createElement("iframe");a.src="about:blank";a.style.height="0px";a.style.width="0px";a.style.visibility="hidden";a.style.border="none";a.appendChild(document.createTextNode("This frame prevents back/forward cache problems in Safari."));document.body.appendChild(a)}Z._finish_widget()},_add_css:function(a){if(-1!=navigator.appVersion.indexOf("MSIE 5"))document.write('<style type="text/css">'+a+"</style>");else{var b=document.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));Z._get_script_area().appendChild(b)}},_set_style:function(a){Z.style_set||(Z.style_set=!0,Z._add_css(a+"\n\n.recaptcha_is_showing_audio .recaptcha_only_if_image,.recaptcha_isnot_showing_audio .recaptcha_only_if_audio,.recaptcha_had_incorrect_sol .recaptcha_only_if_no_incorrect_sol,.recaptcha_nothad_incorrect_sol .recaptcha_only_if_incorrect_sol{display:none !important}"))},_init_builtin_theme:function(){var a=Z.$,b=Z._get_static_url_root(),c=v.VertCss,d=v.VertHtml,e=b+"/img/"+Z.theme,g="gif",b=Z.theme;"clean"==b&&(c=v.CleanCss,d=v.CleanHtml,g="png");c=c.replace(/IMGROOT/g,e);Z._set_style(c);Z.update_widget();Z.widget.innerHTML='<div id="recaptcha_area">'+d+"</div>";c=Z.getLang_();a("recaptcha_privacy")&&null!=c&&"en"==c.substring(0,2).toLowerCase()&&null!=V.privacy_and_terms&&0<V.privacy_and_terms.length&&(c=document.createElement("a"),c.href="http://www.google.com/intl/en/policies/",c.target="_blank",c.innerHTML=V.privacy_and_terms,a("recaptcha_privacy").appendChild(c));c=function(b,c,d,J){var D=a(b);D.src=e+"/"+c+"."+g;c=V[d];D.alt=c;b=a(b+"_btn");b.title=c;Z.attachEvent(b,"click",J)};c("recaptcha_reload","refresh","refresh_btn",function(){Z.reload_internal("r")});c("recaptcha_switch_audio","audio","audio_challenge",function(){Z.switch_type("audio")});c("recaptcha_switch_img","text","visual_challenge",function(){Z.switch_type("image")});c("recaptcha_whatsthis","help","help_btn",Z.showhelp);"clean"==b&&(a("recaptcha_logo").src=e+"/logo."+g);a("recaptcha_table").className="recaptchatable recaptcha_theme_"+Z.theme;b=function(b,c){var d=a(b);d&&(RecaptchaState.rtl&&"span"==d.tagName.toLowerCase()&&(d.dir="rtl"),d.appendChild(document.createTextNode(V[c])))};b("recaptcha_instructions_image","instructions_visual");b("recaptcha_instructions_audio","instructions_audio");b("recaptcha_instructions_error","incorrect_try_again");a("recaptcha_instructions_image")||a("recaptcha_instructions_audio")||(b="audio"==Z.type?V.instructions_audio:V.instructions_visual,b=b.replace(/:$/,""),a("recaptcha_response_field").setAttribute("placeholder",b))},_finish_widget:function(){var a=Z.$,b=Y,c=b.theme;c in{blackglass:1,clean:1,custom:1,red:1,white:1}||(c="red");Z.theme||(Z.theme=c);"custom"!=Z.theme?Z._init_builtin_theme():Z._set_style("");c=document.createElement("span");c.id="recaptcha_challenge_field_holder";c.style.display="none";a("recaptcha_response_field").parentNode.insertBefore(c,a("recaptcha_response_field"));a("recaptcha_response_field").setAttribute("autocomplete","off");a("recaptcha_image").style.width="300px";a("recaptcha_image").style.height="57px";a("recaptcha_challenge_field_holder").innerHTML='<input type="hidden" name="recaptcha_challenge_field" id="recaptcha_challenge_field" value=""/>';Z.th_init();Z.should_focus=!1;Z.th3||Z.force_reload?(Z._set_challenge(RecaptchaState.challenge,"image",!0),setTimeout(function(){Z.reload_internal("i")},100)):Z._set_challenge(RecaptchaState.challenge,"image",!1);Z.updateTabIndexes_();Z.update_widget();Z.widget&&(Z.widget.style.display="");b.callback&&b.callback()},updateTabIndexes_:function(){var a=Z.$,b=Y;b.tabindex&&(b=b.tabindex,a("recaptcha_response_field").tabIndex=b++,"audio"==Z.type&&a("recaptcha_audio_play_again")&&(a("recaptcha_audio_play_again").tabIndex=b++,a("recaptcha_audio_download"),a("recaptcha_audio_download").tabIndex=b++),"custom"!=Z.theme&&(a("recaptcha_reload_btn").tabIndex=b++,a("recaptcha_switch_audio_btn").tabIndex=b++,a("recaptcha_switch_img_btn").tabIndex=b++,a("recaptcha_whatsthis_btn").tabIndex=b,a("recaptcha_privacy").tabIndex=b++))},switch_type:function(a){if(!((new Date).getTime()<Z.reload_timeout)&&(Z.type=a,Z.reload_internal("audio"==Z.type?"a":"v"),"custom"!=Z.theme)){a=Z.$;var b="audio"==Z.type?V.instructions_audio:V.instructions_visual,b=b.replace(/:$/,"");a("recaptcha_response_field").setAttribute("placeholder",b)}},reload:function(){Z.reload_internal("r")},reload_internal:function(a){var b=Y,c=RecaptchaState,d=(new Date).getTime();d<Z.reload_timeout||(Z.reload_timeout=d+1e3,"undefined"==typeof a&&(a="r"),d=Z._get_api_server()+"/reload?c="+c.challenge+"&k="+c.site+"&reason="+a+"&type="+Z.type,Z.getLang_()&&(d+="&lang="+Z.getLang_()),"undefined"!=typeof b.extra_challenge_params&&(d+="&"+b.extra_challenge_params),Z.th_callback_invoke(),Z.th1&&(d+="&th="+Z.th1,Z.th1=""),"audio"==Z.type&&(d=b.audio_beta_12_08?d+"&audio_beta_12_08=1":d+"&new_audio_default=1"),Z.should_focus="t"!=a&&"i"!=a,Z._add_script(d),eb(Z.ad_captcha_plugin),c.publisher_id=null)},th_callback_invoke:function(){if(Z.th3)try{var a=Z.th3.exec();a&&1600>a.length&&(Z.th1=a)}catch(b){Z.th1=""}},finish_reload:function(a,b,c,d){RecaptchaState.payload_url=c;RecaptchaState.is_incorrect=!1;RecaptchaState.publisher_id=d;Z._set_challenge(a,b,!1);Z.updateTabIndexes_()},_set_challenge:function(a,b,c){"image"==b&&RecaptchaState.publisher_id?od(a,function(){Z._set_challenge_internal(a,b,c)}):Z._set_challenge_internal(a,b,c)},_set_challenge_internal:function(a,b,c){var d=Z.$,e=RecaptchaState;e.challenge=a;Z.type=b;d("recaptcha_challenge_field").value=e.challenge;c||("audio"==b?(d("recaptcha_image").innerHTML=Z.getAudioCaptchaHtml(),Z._loop_playback()):"image"==b&&(a=e.payload_url,a||(a=Z._get_api_server()+"/image?c="+e.challenge,Z.th_callback_invoke(),Z.th1&&(a+="&th="+Z.th1,Z.th1="")),ld(d("recaptcha_widget_div")),ib()?Z.ad_captcha_plugin=new ud(jb(),a,function(a){RecaptchaState.challenge=a;d("recaptcha_challenge_field").value=a}):d("recaptcha_image").innerHTML='<img id="recaptcha_challenge_image" alt="'+V.image_alt_text+'" height="57" width="300" src="'+a+'" />',kd()));Z._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",e.is_incorrect);Z._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio","audio"==b);Z._clear_input();Z.should_focus&&Z.focus_response_field();Z._reset_timer()},_reset_timer:function(){clearInterval(Z.timer_id);var a=Math.max(1e3*(RecaptchaState.timeout-60),6e4);Z.timer_id=setInterval(function(){Z.reload_internal("t")},a);return a},showhelp:function(){window.open(Z._get_help_link(),"recaptcha_popup","width=460,height=580,location=no,menubar=no,status=no,toolbar=no,scrollbars=yes,resizable=yes")},_clear_input:function(){Z.$("recaptcha_response_field").value=""},_displayerror:function(a){var b=Z.$;b("recaptcha_image").innerHTML="";b("recaptcha_image").appendChild(document.createTextNode(a))},reloaderror:function(a){Z._displayerror(a)},_is_ie:function(){return 0<navigator.userAgent.indexOf("MSIE")&&!window.opera},_css_toggle:function(a,b,c){Z.update_widget();var d=Z.widget;d||(d=document.body);var e=d.className,e=e.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," "),e=e.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ");d.className=e+(" "+(c?a:b))},_get_help_link:function(){var a=Z._get_api_server().replace(/\/[a-zA-Z0-9]+\/?$/,"/help"),a=a+("?c="+RecaptchaState.challenge);Z.getLang_()&&(a+="&hl="+Z.getLang_());return a},playAgain:function(){Z.$("recaptcha_image").innerHTML=Z.getAudioCaptchaHtml();Z._loop_playback()},_loop_playback:function(){var a=Z.$("recaptcha_audio_play_again");a&&Z.attachEvent(a,"click",function(){Z.playAgain();return!1})},getAudioCaptchaHtml:function(){var a=RecaptchaState.payload_url;a||(a=Z._get_api_server()+"/audio.mp3?c="+RecaptchaState.challenge,Z.th_callback_invoke(),Z.th1&&(a+="&th="+Z.th1,Z.th1=""));var b=Z._get_static_url_root()+"/img/audiocaptcha.swf?v2",b=Z._is_ie()?'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="audiocaptcha" width="0" height="0" codebase="https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+b+'" /><param name="quality" value="high" /><param name="bgcolor" value="#869ca7" /><param name="allowScriptAccess" value="always" /></object><br/>':'<embed src="'+b+'" quality="high" bgcolor="#869ca7" width="0" height="0" name="audiocaptcha" align="middle" play="true" loop="false" quality="high" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" /></embed>',c="";Z.checkFlashVer()&&(c="<br/>"+Z.getSpan_('<a id="recaptcha_audio_play_again" class="recaptcha_audio_cant_hear_link">'+V.play_again+"</a>"));c+="<br/>"+Z.getSpan_('<a id="recaptcha_audio_download" class="recaptcha_audio_cant_hear_link" target="_blank" href="'+a+'">'+V.cant_hear_this+"</a>");return b+c},getSpan_:function(a){return"<span"+(RecaptchaState&&RecaptchaState.rtl?' dir="rtl"':"")+">"+a+"</span>"},gethttpwavurl:function(){if("audio"!=Z.type)return"";var a=RecaptchaState.payload_url;a||(a=Z._get_api_server()+"/image?c="+RecaptchaState.challenge,Z.th_callback_invoke(),Z.th1&&(a+="&th="+Z.th1,Z.th1=""));return a},checkFlashVer:function(){var a=-1!=navigator.appVersion.indexOf("MSIE"),b=-1!=navigator.appVersion.toLowerCase().indexOf("win"),c=-1!=navigator.userAgent.indexOf("Opera"),d=-1;if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])d=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" ")[2].split(".")[0]}else if(a&&b&&!c)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7").GetVariable("$version").split(" ")[1].split(",")[0]}catch(e){}return 9<=d},getLang_:function(){return Y.lang?Y.lang:"undefined"!=typeof RecaptchaState&&RecaptchaState.lang?RecaptchaState.lang:null},challenge_callback:function(){Z.force_reload=!!RecaptchaState.force_reload;if(RecaptchaState.t3){var a=RecaptchaState.t1?Za(cb(RecaptchaState.t1)):"",b=RecaptchaState.t2?Za(cb(RecaptchaState.t2)):"",c=RecaptchaState.t3?Za(cb(RecaptchaState.t3)):"";Z.th2=c;if(a)b=kc(a),cc(b,Z.challenge_callback_internal,null,void 0),cc(b,null,Z.challenge_callback_internal,void 0);else{if(k.execScript)k.execScript(b,"JavaScript");else if(k.eval)null==ha&&(k.eval("var _et_ = 1;"),"undefined"!=typeof k._et_?(delete k._et_,ha=!0):ha=!1),ha?k.eval(b):(a=k.document,c=a.createElement("script"),c.type="text/javascript",c.defer=!1,c.appendChild(a.createTextNode(b)),a.body.appendChild(c),a.body.removeChild(c));else throw Error("goog.globalEval not available");Z.challenge_callback_internal()}}else Z.challenge_callback_internal()},th_init:function(){try{k.thintinel&&k.thintinel.th&&(Z.th3=new k.thintinel.th(Z.th2),Z.th2="")}catch(a){}},update_widget:function(){Z.element&&(Z.widget=Z.$(Z.element))}};t("Recaptcha",Z)})();
var Globals=function(){return{path:"",url:"",loggedIn:false,opac:false,automaticTimeoutLength:0,automaticTimeoutLengthLoggedOut:0,repositoryUrl:"",encodedRepositoryUrl:"",activeAction:"",activeModule:""}}(Globals||{});
var VuFind=function(){window.onbeforeunload=function(){Globals.LeavingPage=true};$(document).ready(function(){VuFind.initializeModalDialogs();VuFind.setupFieldSetToggles();VuFind.initCarousels();$("#modalDialog").modal({show:false});$(".panel").on("show.bs.collapse",function(){$(this).addClass("active")}).on("hide.bs.collapse",function(){$(this).removeClass("active")});$(window).on("popstate",function(){if(history.state&&history.state.page==="MapExhibit"){VuFind.Archive.handleMapClick(history.state.marker,history.state.exhibitPid,history.state.placePid,history.state.label,false,history.state.showTimeline)}else if(history.state&&history.state.page==="Book"){VuFind.Archive.handleBookClick(history.state.bookPid,history.state.pagePid,history.state.viewer)}})});return{buildUrl:function(base,key,value){var sep=base.indexOf("?")>-1?"&":"?";return base+sep+key+"="+value},changePageSize:function(){var url=window.location.href;if(url.match(/[&?]pagesize=\d+/)){url=url.replace(/pagesize=\d+/,"pagesize="+$("#pagesize").val())}else{if(url.indexOf("?",0)>0){url=url+"&pagesize="+$("#pagesize").val()}else{url=url+"?pagesize="+$("#pagesize").val()}}window.location.href=url},closeLightbox:function(callback){var modalDialog=$("#modalDialog");if(modalDialog.is(":visible")){modalDialog.modal("hide");if(callback!=undefined){var closeLightboxListener=modalDialog.on("hidden.bs.modal",function(e){modalDialog.off("hidden.bs.modal");callback()})}}},initCarousels:function(carouselClass){carouselClass=carouselClass||".jcarousel";var jcarousel=$(carouselClass),wrapper=jcarousel.parents(".jcarousel-wrapper");jcarousel.on("jcarousel:reload jcarousel:create",function(){var Carousel=$(this);var width=Carousel.innerWidth();var liTags=Carousel.find("li");if(liTags==null||liTags===undefined||liTags.length===0){return}var leftMargin=+liTags.css("margin-left").replace("px",""),rightMargin=+liTags.css("margin-right").replace("px",""),numCategories=Carousel.jcarousel("items").length||1,numItemsToShow=1;if(jcarousel.is("#browse-category-carousel")){if(width>1e3){numItemsToShow=Math.min(5,numCategories)}else if(width>700){numItemsToShow=Math.min(4,numCategories)}else if(width>500){numItemsToShow=Math.min(3,numCategories)}else if(width>400){numItemsToShow=Math.min(2,numCategories)}}else{if(width>=800){numItemsToShow=Math.min(5,numCategories)}else if(width>=600){numItemsToShow=Math.min(4,numCategories)}else if(width>=400){numItemsToShow=Math.min(3,numCategories)}else if(width>=300){numItemsToShow=Math.min(2,numCategories)}}var calcWidth=(width-numItemsToShow*(leftMargin+rightMargin))/numItemsToShow;Carousel.jcarousel("items").css("width",Math.floor(calcWidth)+"px");if(numItemsToShow>=numCategories){$(this).offsetParent().children(".jcarousel-control-prev").hide();$(this).offsetParent().children(".jcarousel-control-next").hide()}}).jcarousel({wrap:"circular"});$(".jcarousel-control-prev",wrapper).jcarouselControl({target:"-=1"});$(".jcarousel-control-next",wrapper).jcarouselControl({target:"+=1"});$(".jcarousel-pagination",wrapper).on("jcarouselpagination:active","a",function(){$(this).addClass("active")}).on("jcarouselpagination:inactive","a",function(){$(this).removeClass("active")}).on("click",function(e){e.preventDefault()}).jcarouselPagination({perPage:1,item:function(page){return'<a href="#'+page+'">'+page+"</a>"}});if(typeof VuFind.Browse.initializeBrowseCategory=="function"){VuFind.Browse.initializeBrowseCategory()}},initializeModalDialogs:function(){$(".modalDialogTrigger").each(function(){$(this).click(function(){var trigger=$(this),dialogTitle=trigger.attr("title")?trigger.attr("title"):trigger.data("title"),dialogDestination=trigger.attr("href");$("#myModalLabel").text(dialogTitle);$(".modal-body").html("Loading.").load(dialogDestination);$(".extraModalButton").hide();$("#modalDialog").modal("show");return false})})},getQuerystringParameters:function(){var vars=[],q=location.search.substr(1);if(q!=undefined){q=q.split("&");for(var i=0;i<q.length;i++){var hash=q[i].split("=");vars[hash[0]]=hash[1]}}return vars},replaceQueryParam:function(param,newValue,search){if(typeof search=="undefined")search=location.search;var regex=new RegExp("([?;&])"+param+"[^&;]*[;&]?"),query=search.replace(regex,"$1").replace(/&$/,"");return newValue?(query.length>2?query+"&":"?")+param+"="+newValue:query},getSelectedTitles:function(){var selectedTitles=$("input.titleSelect:checked ").map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&");if(selectedTitles.length==0){var ret=confirm("You have not selected any items, process all items?");if(ret==true){var titleSelect=$("input.titleSelect");titleSelect.attr("checked","checked");selectedTitles=titleSelect.map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&")}}return selectedTitles},pwdToText:function(fieldId){var elem=document.getElementById(fieldId);var input=document.createElement("input");input.id=elem.id;input.name=elem.name;input.value=elem.value;input.size=elem.size;input.onfocus=elem.onfocus;input.onblur=elem.onblur;input.className=elem.className;if(elem.type=="text"){input.type="password"}else{input.type="text"}elem.parentNode.replaceChild(input,elem);return input},setupFieldSetToggles:function(){$("legend.collapsible").each(function(){$(this).siblings().hide().addClass("collapsed").click(function(){$(this).toggleClass("expanded collapsed").siblings().slideToggle();return false})});$("fieldset.fieldset-collapsible").each(function(){var collapsible=$(this);var legend=collapsible.find("legend:first");legend.addClass("fieldset-collapsible-label").bind("click",{collapsible:collapsible},function(event){var collapsible=event.data.collapsible;if(collapsible.hasClass("fieldset-collapsed")){collapsible.removeClass("fieldset-collapsed")}else{collapsible.addClass("fieldset-collapsed")}});collapsible.addClass("fieldset-collapsed")})},showMessage:function(title,body,autoClose,refreshAfterClose){if(autoClose==undefined){autoClose=false}if(refreshAfterClose==undefined){refreshAfterClose=false}$("#myModalLabel").html(title);$(".modal-body").html(body);$(".modal-buttons").html("");var modalDialog=$("#modalDialog");modalDialog.modal("show");if(autoClose){setTimeout(function(){if(refreshAfterClose)location.reload(true);else VuFind.closeLightbox()},autoClose>1?autoClose:3e3)}else if(refreshAfterClose){modalDialog.on("hide.bs.modal",function(){location.reload(true)})}},showMessageWithButtons:function(title,body,buttons){$("#myModalLabel").html(title);$(".modal-body").html(body);$(".modal-buttons").html(buttons);$("#modalDialog").modal("show")},loadingMessage:function(){VuFind.showMessage("Loading","Loading, please wait.")},ajaxFail:function(){if(!Globals.LeavingPage)VuFind.showMessage("Request Failed","There was an error with this AJAX Request.")},toggleHiddenElementWithButton:function(button){var hiddenElementName=$(button).data("hidden_element");var hiddenElement=$(hiddenElementName);hiddenElement.val($(button).hasClass("active")?"1":"0");return false},showElementInPopup:function(title,elementId,buttonsElementId){var modalDialog=$("#modalDialog");if(modalDialog.is(":visible")){VuFind.closeLightbox(function(){VuFind.showElementInPopup(title,elementId)})}else{$(".modal-title").html(title);var elementText=$(elementId).html(),elementButtons=buttonsElementId?$(buttonsElementId).html():"";$(".modal-body").html(elementText);$(".modal-buttons").html(elementButtons);modalDialog.modal("show");return false}},showLocationHoursAndMap:function(){var selectedId=$("#selectLibrary").find(":selected").val();$(".locationInfo").hide();$("#locationAddress"+selectedId).show();return false},toggleCheckboxes:function(checkboxSelector,toggleSelector){var toggle=$(toggleSelector);var value=toggle.prop("checked");$(checkboxSelector).prop("checked",value)},submitOnEnter:function(event,formToSubmit){if(event.keyCode==13){$(formToSubmit).submit()}},hasLocalStorage:function(){if(typeof arguments.callee.haslocalStorage=="undefined"){if("localStorage"in window){try{window.localStorage.setItem("_tmptest","temp");arguments.callee.haslocalStorage=window.localStorage.getItem("_tmptest")=="temp";window.localStorage.removeItem("_tmptest")}catch(error){arguments.callee.haslocalStorage=false}}else arguments.callee.haslocalStorage=false}return arguments.callee.haslocalStorage}}}(VuFind||{});jQuery.validator.addMethod("multiemail",function(value,element){if(this.optional(element)){return true}var emails=value.split(/[,;]/),valid=true;for(var i=0,limit=emails.length;i<limit;i++){value=emails[i];valid=valid&&jQuery.validator.methods.email.call(this,value,element)}return valid},"Invalid email format: please use a comma to separate multiple email addresses.");jQuery.validator.addMethod("datePika",function(value,element){var check=false;var re=/^\d{1,2}(-)\d{1,2}(-)\d{4}$/;if(re.test(value)){var adata=value.split("-");var mm=parseInt(adata[0],10);var dd=parseInt(adata[1],10);var aaaa=parseInt(adata[2],10);var xdata=new Date(aaaa,mm-1,dd);if(xdata.getFullYear()==aaaa&&xdata.getMonth()==mm-1&&xdata.getDate()==dd)check=true;else check=false}else check=false;return this.optional(element)||check},"Please enter a correct date");jQuery.validator.addMethod("alphaNumeric",function(value,element){return this.optional(element)||/^[a-z0-9]+$/i.test(value)},"Please enter only letters and digits.");
VuFind.Account=function(){return{ajaxCallback:null,closeModalOnAjaxSuccess:false,showCovers:null,addAccountLink:function(){var url=Globals.path+"/MyAccount/AJAX?method=getAddAccountLinkForm";VuFind.Account.ajaxLightbox(url,true)},addList:function(){var form=$("#addListForm"),isPublic=form.find("#public").prop("checked"),recordId=form.find("input[name=recordId]").val(),source=form.find("input[name=source]").val(),title=form.find("input[name=title]").val(),desc=$("#listDesc").val(),url=Globals.path+"/MyAccount/AJAX",params={method:"AddList",title:title,public:isPublic,desc:desc,recordId:recordId};$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Added Successfully",data.message,true,true)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail);return false},ajaxLogin:function(trigger,ajaxCallback,closeModalOnAjaxSuccess){if(Globals.loggedIn){if(ajaxCallback!=undefined&&typeof ajaxCallback==="function"){ajaxCallback()}else if(VuFind.Account.ajaxCallback!=null&&typeof VuFind.Account.ajaxCallback==="function"){VuFind.Account.ajaxCallback();VuFind.Account.ajaxCallback=null}}else{var multistep=false,loginLink=false;if(ajaxCallback!=undefined&&typeof ajaxCallback==="function"){multistep=true}VuFind.Account.ajaxCallback=ajaxCallback;VuFind.Account.closeModalOnAjaxSuccess=closeModalOnAjaxSuccess;if(trigger!=undefined&&trigger!=null){var dialogTitle=trigger.attr("title")?trigger.attr("title"):trigger.data("title");loginLink=trigger.data("login")}var dialogDestination=Globals.path+"/MyAccount/AJAX?method=LoginForm";if(multistep&&!loginLink){dialogDestination+="&multistep=true"}var modalDialog=$("#modalDialog");$(".modal-body").html("Loading...");$(".modal-content").load(dialogDestination);$(".modal-title").text(dialogTitle);modalDialog.modal("show")}return false},followLinkIfLoggedIn:function(trigger,linkDestination){if(trigger==undefined){alert("You must provide the trigger to follow a link after logging in.")}var jqTrigger=$(trigger);if(linkDestination==undefined){linkDestination=jqTrigger.attr("href")}this.ajaxLogin(jqTrigger,function(){document.location=linkDestination},true);return false},loadMenuData:function(){var url=Globals.path+"/MyAccount/AJAX?method=getMenuData&activeModule="+Globals.activeModule+"&activeAction="+Globals.activeAction;$.getJSON(url,function(data){$("#lists-placeholder").html(data.lists);$(".checkouts-placeholder").html(data.checkouts);$(".holds-placeholder").html(data.holds);$(".readingHistory-placeholder").html(data.readingHistory);$(".materialsRequests-placeholder").html(data.materialsRequests);$(".bookings-placeholder").html(data.bookings);$("#availableHoldsNotice-placeHolder").html(data.availableHoldsNotice);$(".expirationFinesNotice-placeholder").html(data.expirationFinesNotice);$("#tagsMenu-placeholder").html(data.tagsMenu)});return false},preProcessLogin:function(){var username=$("#username").val(),password=$("#password").val(),loginErrorElem=$("#loginError");if(!username||!password){loginErrorElem.text($("#missingLoginPrompt").text()).show();return false}if(VuFind.hasLocalStorage()){var rememberMe=$("#rememberMe").prop("checked"),showPwd=$("#showPwd").prop("checked");if(rememberMe){window.localStorage.setItem("lastUserName",username);window.localStorage.setItem("lastPwd",password);window.localStorage.setItem("showPwd",showPwd);window.localStorage.setItem("rememberMe",rememberMe)}else{window.localStorage.removeItem("lastUserName");window.localStorage.removeItem("lastPwd");window.localStorage.removeItem("showPwd");window.localStorage.removeItem("rememberMe")}}return true},processAjaxLogin:function(ajaxCallback){if(this.preProcessLogin()){var username=$("#username").val(),password=$("#password").val(),rememberMe=$("#rememberMe").prop("checked"),loginErrorElem=$("#loginError"),loadingElem=$("#loading"),url=Globals.path+"/AJAX/JSON?method=loginUser",params={username:username,password:password,rememberMe:rememberMe};if(!Globals.opac&&VuFind.hasLocalStorage()){var showCovers=window.localStorage.getItem("showCovers")||false;if(showCovers&&showCovers.length>0){params.showCovers=showCovers}}loginErrorElem.hide();loadingElem.show();$.post(url,params,function(response){loadingElem.hide();if(response.result.success==true){$(".loginOptions, #loginOptions").hide();$(".logoutOptions, #logoutOptions").show();var name=$.trim(response.result.name);name="Logged In As "+name.slice(0,1)+". "+name.slice(name.lastIndexOf(" ")+1,name.length)+".";$("#side-bar #myAccountNameLink").html(name);if(VuFind.Account.closeModalOnAjaxSuccess){VuFind.closeLightbox()}Globals.loggedIn=true;if(ajaxCallback!=undefined&&typeof ajaxCallback==="function"){ajaxCallback()}else if(VuFind.Account.ajaxCallback!=undefined&&typeof VuFind.Account.ajaxCallback==="function"){VuFind.Account.ajaxCallback();VuFind.Account.ajaxCallback=null}}else{loginErrorElem.text(response.result.message).show()}},"json").fail(function(){loginErrorElem.text("There was an error processing your login, please try again.").show()})}return false},processAddLinkedUser:function(){if(this.preProcessLogin()){var username=$("#username").val(),password=$("#password").val(),loginErrorElem=$("#loginError"),url=Globals.path+"/MyAccount/AJAX?method=addAccountLink";loginErrorElem.hide();$.ajax({url:url,data:{username:username,password:password},success:function(response){if(response.result==true){VuFind.showMessage("Account to Manage",response.message?response.message:"Successfully linked the account.",true,true)}else{loginErrorElem.text(response.message);loginErrorElem.show()}},error:function(){loginErrorElem.text("There was an error processing the account, please try again.").show()},dataType:"json",type:"post"})}return false},removeLinkedUser:function(idToRemove){if(confirm("Are you sure you want to stop managing this account?")){var url=Globals.path+"/MyAccount/AJAX?method=removeAccountLink&idToRemove="+idToRemove;$.getJSON(url,function(data){if(data.result==true){VuFind.showMessage("Linked Account Removed",data.message,true,true)}else{VuFind.showMessage("Unable to Remove Account Link",data.message)}})}return false},removeTag:function(tag){if(confirm('Are you sure you want to remove the tag "'+tag+'" from all titles?')){var url=Globals.path+"/MyAccount/AJAX",params={method:"removeTag",tag:tag};$.getJSON(url,params,function(data){if(data.result==true){VuFind.showMessage("Tag Deleted",data.message,true,true)}else{VuFind.showMessage("Tag Not Deleted",data.message)}})}return false},renewTitle:function(patronId,recordId,renewIndicator){if(Globals.loggedIn){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=renewItem&patronId="+patronId+"&recordId="+recordId+"&renewIndicator="+renewIndicator,function(data){VuFind.showMessage(data.title,data.modalBody,data.success,data.success)}).fail(VuFind.ajaxFail)}else{this.ajaxLogin(null,function(){this.renewTitle(renewIndicator)},false)}return false},renewAll:function(){if(Globals.loggedIn){if(confirm("Renew All Items?")){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=renewAll",function(data){VuFind.showMessage(data.title,data.modalBody,data.success);if(data.success||data.renewed>0){$("#modalDialog").on("hidden.bs.modal",function(e){location.reload(true)})}}).fail(VuFind.ajaxFail)}}else{this.ajaxLogin(null,this.renewAll,true)}return false},renewSelectedTitles:function(){if(Globals.loggedIn){var selectedTitles=VuFind.getSelectedTitles();if(selectedTitles){if(confirm("Renew selected Items?")){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=renewSelectedItems&"+selectedTitles,function(data){var reload=data.success||data.renewed>0;VuFind.showMessage(data.title,data.modalBody,data.success,reload)}).fail(VuFind.ajaxFail)}}}else{this.ajaxLogin(null,this.renewSelectedTitles,true)}return false},resetPin:function(){var barcode=$("#card_number").val();if(barcode.length==0){alert("Please enter your library card number")}else{var url=path+"/MyAccount/AJAX?method=requestPinReset&barcode="+barcode;$.getJSON(url,function(data){if(data.error==false){alert(data.message);if(data.result==true){hideLightbox()}}else{alert("There was an error requesting your pin reset information.  Please contact the library for additional information.")}})}return false},ajaxLightbox:function(urlToDisplay,requireLogin){if(requireLogin==undefined){requireLogin=false}if(requireLogin&&!Globals.loggedIn){VuFind.Account.ajaxLogin(null,function(){VuFind.Account.ajaxLightbox(urlToDisplay,requireLogin)},false)}else{VuFind.loadingMessage();$.getJSON(urlToDisplay,function(data){if(data.success){data=data.result}VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}return false},confirmCancelHold:function(patronId,recordId,holdIdToCancel){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=confirmCancelHold&patronId="+patronId+"&recordId="+recordId+"&cancelId="+holdIdToCancel,function(data){VuFind.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(VuFind.ajaxFail);return false},cancelHold:function(patronId,recordId,holdIdToCancel){if(Globals.loggedIn){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=cancelHold&patronId="+patronId+"&recordId="+recordId+"&cancelId="+holdIdToCancel,function(data){VuFind.showMessage(data.title,data.body,data.success,data.success)}).fail(VuFind.ajaxFail)}else{this.ajaxLogin(null,function(){VuFind.Account.cancelHold(patronId,recordId,holdIdToCancel)},false)}return false},cancelBooking:function(patronId,cancelId){if(confirm("Are you sure you want to cancel this scheduled item?")){if(Globals.loggedIn){VuFind.loadingMessage();var c={};c[patronId]=cancelId;$.getJSON(Globals.path+"/MyAccount/AJAX",{method:"cancelBooking",cancelId:c},function(data){VuFind.showMessage(data.title,data.modalBody,data.success);if(data.success){var escapedId=cancelId.replace(/:/g,"\\:");$("div.result").has("#selected"+escapedId).remove()}}).fail(VuFind.ajaxFail)}else{this.ajaxLogin(null,function(){VuFind.Account.cancelBooking(cancelId)},false)}}return false},cancelSelectedBookings:function(){if(Globals.loggedIn){var selectedTitles=this.getSelectedTitles(),numBookings=$("input.titleSelect:checked").length;if(numBookings>0&&confirm("Cancel "+numBookings+" selected scheduled item"+(numBookings>1?"s":"")+"?")){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=cancelBooking&"+selectedTitles,function(data){VuFind.showMessage(data.title,data.modalBody,data.success);if(data.success){$("input.titleSelect:checked").closest("div.result").remove()}else if(data.failed){var searchArray=data.failed.map(function(ele){return ele.toString()});$("input.titleSelect:checked").each(function(){var id=$(this).attr("id").replace(/selected/g,"");if($.inArray(id,searchArray)==-1)$(this).closest("div.result").remove()})}}).fail(VuFind.ajaxFail)}}else{this.ajaxLogin(null,VuFind.Account.cancelSelectedBookings,false)}return false},cancelAllBookings:function(){if(Globals.loggedIn){if(confirm("Cancel all of your scheduled items?")){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=cancelBooking&cancelAll=1",function(data){VuFind.showMessage(data.title,data.modalBody,data.success);if(data.success){$("input.titleSelect").closest("div.result").remove()}else if(data.failed){var searchArray=data.failed.map(function(ele){return ele.toString()});$("input.titleSelect").each(function(){var id=$(this).attr("id").replace(/selected/g,"");if($.inArray(id,searchArray)==-1)$(this).closest("div.result").remove()})}}).fail(VuFind.ajaxFail)}}else{this.ajaxLogin(null,VuFind.Account.cancelAllBookings,false)}return false},changeAccountSort:function(newSort,sortParameterName){if(typeof sortParameterName==="undefined"){sortParameterName="accountSort"}var paramString=VuFind.replaceQueryParam(sortParameterName,newSort);location.replace(location.pathname+paramString)},changeHoldPickupLocation:function(patronId,recordId,holdId){if(Globals.loggedIn){VuFind.loadingMessage();$.getJSON(Globals.path+"/MyAccount/AJAX?method=getChangeHoldLocationForm&patronId="+patronId+"&recordId="+recordId+"&holdId="+holdId,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)})}else{VuFind.Account.ajaxLogin(null,function(){return VuFind.Account.changeHoldPickupLocation(patronId,recordId,holdId)},false)}return false},deleteSearch:function(searchId){if(!Globals.loggedIn){VuFind.Account.ajaxLogin(null,function(){VuFind.Searches.saveSearch(searchId)},false)}else{var url=Globals.path+"/MyAccount/AJAX";var params="method=deleteSearch&searchId="+encodeURIComponent(searchId);$.getJSON(url+"?"+params,function(data){if(data.result){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Error",data.message)}})}return false},doChangeHoldLocation:function(){var url=Globals.path+"/MyAccount/AJAX",params={method:"changeHoldLocation",patronId:$("#patronId").val(),recordId:$("#recordId").val(),holdId:$("#holdId").val(),newLocation:$("#newPickupLocation").val()};$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Success",data.message,true,true)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)},freezeHold:function(patronId,recordId,holdId,promptForReactivationDate,caller){VuFind.loadingMessage();var url=Globals.path+"/MyAccount/AJAX",params={patronId:patronId,recordId:recordId,holdId:holdId};if(promptForReactivationDate){params["method"]="getReactivationDateForm";$.getJSON(url,params,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{var popUpBoxTitle=$(caller).text()||"Freezing Hold";VuFind.showMessage(popUpBoxTitle,"Updating your hold.  This may take a minute.");params["method"]="freezeHold";$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Success",data.message,true,true)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)}},doFreezeHoldWithReactivationDate:function(caller){var popUpBoxTitle=$(caller).text()||"Freezing Hold",params={method:"freezeHold",patronId:$("#patronId").val(),recordId:$("#recordId").val(),holdId:$("#holdId").val(),reactivationDate:$("#reactivationDate").val()},url=Globals.path+"/MyAccount/AJAX";VuFind.showMessage(popUpBoxTitle,"Updating your hold.  This may take a minute.");$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Success",data.message,true,true)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)},getSelectedTitles:function(promptForSelectAll){if(promptForSelectAll==undefined){promptForSelectAll=true}var selectedTitles=$("input.titleSelect:checked ");if(selectedTitles.length==0&&promptForSelectAll&&confirm("You have not selected any items, process all items?")){selectedTitles=$("input.titleSelect").attr("checked","checked")}var queryString=selectedTitles.map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&");return queryString},saveSearch:function(searchId){if(!Globals.loggedIn){VuFind.Account.ajaxLogin(null,function(){VuFind.Account.saveSearch(searchId)},false)}else{var url=Globals.path+"/MyAccount/AJAX",params={method:"saveSearch",searchId:searchId};$.getJSON(url,params,function(data){if(data.result){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)}return false},showCreateListForm:function(id){if(Globals.loggedIn){var url=Globals.path+"/MyAccount/AJAX",params={method:"getCreateListForm"};if(id!=undefined){params.recordId=id}$.getJSON(url,params,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin($trigger,function(){return VuFind.GroupedWork.showEmailForm(trigger,id)},false)}return false},thawHold:function(patronId,recordId,holdId,caller){var popUpBoxTitle=$(caller).text()||"Thawing Hold";VuFind.showMessage(popUpBoxTitle,"Updating your hold.  This may take a minute.");var url=Globals.path+"/MyAccount/AJAX",params={method:"thawHold",patronId:patronId,recordId:recordId,holdId:holdId};$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Success",data.message,true,true)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)},toggleShowCovers:function(showCovers){this.showCovers=showCovers;var paramString=VuFind.replaceQueryParam("showCovers",this.showCovers?"on":"off");if(!Globals.opac&&VuFind.hasLocalStorage()){window.localStorage.setItem("showCovers",this.showCovers?"on":"off")}location.replace(location.pathname+paramString)},validateCookies:function(){if(navigator.cookieEnabled==false){$("#cookiesError").show()}},getMasqueradeForm:function(){VuFind.loadingMessage();var url=Globals.path+"/MyAccount/AJAX",params={method:"getMasqueradeAsForm"};$.getJSON(url,params,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail);return false},initiateMasquerade:function(){var url=Globals.path+"/MyAccount/AJAX",params={method:"initiateMasquerade",cardNumber:$("#cardNumber").val()};$("#masqueradeAsError").hide();$("#masqueradeLoading").show();$.getJSON(url,params,function(data){if(data.success){location.href=Globals.path+"/MyAccount/Home"}else{$("#masqueradeLoading").hide();$("#masqueradeAsError").html(data.error).show()}}).fail(VuFind.ajaxFail);return false},endMasquerade:function(){var url=Globals.path+"/MyAccount/AJAX",params={method:"endMasquerade"};$.getJSON(url,params).done(function(){location.href=Globals.path+"/MyAccount/Home"}).fail(VuFind.ajaxFail);return false}}}(VuFind.Account||{});
VuFind.Admin=function(){return{showHooplaExportNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getHooplaExportNotes&id="+id,true);return false},showSierraExportNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getSierraExportNotes&id="+id,true);return false},showRecordGroupingNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getRecordGroupingNotes&id="+id,true);return false},showReindexNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getReindexNotes&id="+id,true);return false},toggleReindexProcessInfo:function(id){$("#reindexEntry"+id).toggleClass("expanded collapsed");$("#processInfo"+id).toggle()},showReindexProcessNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getReindexProcessNotes&id="+id,true);return false},showCronNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getCronNotes&id="+id,true);return false},showCronProcessNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getCronProcessNotes&id="+id,true);return false},toggleCronProcessInfo:function(id){$("#cronEntry"+id).toggleClass("expanded collapsed");$("#processInfo"+id).toggle()},showOverDriveExtractNotes:function(id){VuFind.Account.ajaxLightbox("/Admin/AJAX?method=getOverDriveExtractNotes&id="+id,true);return false},copyLibraryHooplaSettings:function(id){return this.basicAjaxHandler("copyHooplaSettingsFromLibrary",id)},clearLocationHooplaSettings:function(id){return this.basicAjaxHandler("clearLocationHooplaSettings",id)},clearLibraryHooplaSettings:function(id){return this.basicAjaxHandler("clearLibraryHooplaSettings",id)},basicAjaxHandler:function(ajaxMethod,id){if(Globals.loggedIn){VuFind.loadingMessage();var url=Globals.path+"/Admin/AJAX?method="+ajaxMethod+"&id="+id;$.getJSON(url,function(data){VuFind.showMessage(data.title,data.body,1,1)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Admin.basicAjaxHandler(ajaxMethod,id)},false)}return false}}}(VuFind.Admin||{});
VuFind.AnalyticReports=function(){return{filterParams:"",showFilterValues:function(control){var activeFilter=$(control);var selectedOption=activeFilter.find(":selected").val();var curIndex=activeFilter.data("filter-index");activeFilter.parent().find(".filterValues").remove();var filterValueSelection="<select class='filterValues' name='filterValue["+curIndex+"]'>";for(var index in filterValues[selectedOption]){filterValueSelection+="<option value='"+index+"'>"+filterValues[selectedOption][index]+"</option>"}filterValueSelection+="</select>";activeFilter.after(filterValueSelection)},getFilterParams:function(){return this.filterParams},getPieChartData:function(reportName,chartVar){var filterParms=this.getFilterParams();$.getJSON(Globals.path+"/Report/AJAX?method="+reportName+"&forGraph=true"+filterParms,function(data){$.each(data,function(i,val){chartVar.series[0].addPoint(val,true,false)})})},setupPieChart:function(divToRenderTo,reportDataName,title,seriesLabel){var chartVariable=new Highcharts.Chart({chart:{renderTo:divToRenderTo,type:"pie"},legend:{enabled:false},title:{text:title},plotOptions:{pie:{allowPointSelect:true,cursor:"pointer",dataLabels:{enabled:false},showInLegend:false}},series:[{name:seriesLabel,data:[]}]});this.getPieChartData(reportDataName,chartVariable);return chartVariable},getBarChartData:function(reportDataName,chartVariable){var filterParms=this.getFilterParams();$.getJSON(Globals.path+"/Report/AJAX?method="+reportDataName+"&forGraph=true"+filterParms,function(data){var categories=[];$.each(data,function(i,val){chartVariable.series[0].addPoint(val,true,false);categories.push(val[0])});chartVariable.xAxis[0].setCategories(categories)})},setupBarChart:function(divToRenderTo,reportDataName,title,xAxisLabel,yAxisLabel){var chartVariable=new Highcharts.Chart({chart:{renderTo:divToRenderTo,type:"bar"},legend:{enabled:false},title:{text:title},xAxis:{title:{text:xAxisLabel}},yAxis:{title:{text:yAxisLabel},allowDecimals:false,min:0},series:[{name:yAxisLabel,data:[]}]});getBarChartData(reportDataName,chartVariable)},setupInteractiveChart:function(divToRenderTo,title,xAxisLabel,yAxisLabel){return new Highcharts.Chart({chart:{renderTo:divToRenderTo,type:"column"},legend:{enabled:false},title:{text:title},xAxis:{title:{text:xAxisLabel}},yAxis:{title:{text:yAxisLabel},allowDecimals:false,min:0},series:[{name:title,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]})},getRecentActivity:function(){var filterParams=getFilterParams();$.getJSON(Globals.path+"/Report/AJAX?method=getRecentActivity&interval=5"+filterParams,function(data){activePageViewChart.series[0].addPoint(parseInt(data.pageViews),true,true);recentUsersChart.series[0].addPoint(parseInt(data.activeUsers),true,true);recentSearchesChart.series[0].addPoint(parseInt(data.searches),true,true);recentEventsChart.series[0].addPoint(parseInt(data.events),true,true);setTimeout("getRecentActivity()",5e3)})},holdsByResultChart:null,setupHoldsByResultChart:function(){holdsByResultChart=new Highcharts.Chart({chart:{renderTo:"holdsByResultChart",type:"pie",events:{load:getHoldsByResultData}},legend:{enabled:false},title:{text:"Holds By Result"},plotOptions:{pie:{allowPointSelect:true,cursor:"pointer",dataLabels:{enabled:false},showInLegend:false}},xAxis:{title:{text:"Holds"}},yAxis:{title:{text:"Result %"},allowDecimals:false,min:0},series:[{name:"Holds By Result",data:[]}]})},getHoldsByResultData:function(){var filterParms=getFilterParams();$.getJSON(Globals.path+"/Report/AJAX?method=getHoldsByResultData&forGraph=true"+filterParms,function(data){var categories=[];$.each(data,function(i,val){holdsByResultChart.series[0].addPoint(val,true,false);categories.push(val[0])});holdsByResultChart.xAxis[0].setCategories(categories)})}}}(VuFind.AnalyticReports||{});
VuFind.Archive=function(){var date=new Date;date.setTime(date.getTime()+1*24*60*60*1e3);expires="; expires="+date.toGMTString();document.cookie=encodeURIComponent("exhibitNavigation")+"="+encodeURIComponent(0)+expires+"; path=/";document.cookie=encodeURIComponent("collectionPid")+"="+encodeURIComponent("")+expires+"; path=/";return{archive_map:null,archive_info_window:null,curPage:1,markers:[],geomarkers:[],sort:"title",openSeaDragonViewer:null,pageDetails:[],multiPage:false,allowPDFView:true,activeBookViewer:"jp2",activeBookPage:null,activeBookPid:null,displayMode:"list",displayModeClasses:{covers:"home-page-browse-thumbnails",list:""},getPreferredDisplayMode:function(){if(!Globals.opac&&VuFind.hasLocalStorage()){temp=window.localStorage.getItem("archiveCollectionDisplayMode");if(VuFind.Archive.displayModeClasses.hasOwnProperty(temp)){VuFind.Archive.displayMode=temp}}},toggleDisplayMode:function(selectedMode){var mode=this.displayModeClasses.hasOwnProperty(selectedMode)?selectedMode:this.displayMode;this.displayMode=mode;this.curPage=1;if(!Globals.opac&&VuFind.hasLocalStorage()){window.localStorage.setItem("archiveCollectionDisplayMode",this.displayMode)}if(mode=="list")$("#hideSearchCoversSwitch").show();else $("#hideSearchCoversSwitch").hide();this.ajaxReloadCallback()},ajaxReloadCallback:function(){},toggleShowCovers:function(showCovers){VuFind.Account.showCovers=showCovers;if(!Globals.opac&&VuFind.hasLocalStorage()){window.localStorage.setItem("showCovers",this.showCovers?"on":"off")}this.ajaxReloadCallback()},openSeadragonViewerSettings:function(){return{id:"pika-openseadragon",prefixUrl:Globals.encodedRepositoryUrl+"/sites/all/libraries/openseadragon/images/",debugMode:false,djatokaServerBaseURL:Globals.encodedRepositoryUrl+"/AJAX/DjatokaResolver",tileSize:256,tileOverlap:0,animationTime:1.5,blendTime:.1,alwaysBlend:false,autoHideControls:1,immediateRender:true,wrapHorizontal:false,wrapVertical:false,wrapOverlays:false,panHorizontal:1,panVertical:1,minZoomImageRatio:.35,maxZoomPixelRatio:2,visibilityRatio:.5,springStiffness:5,imageLoaderLimit:5,clickTimeThreshold:300,clickDistThreshold:5,zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:2,showNavigator:1,defaultZoomLevel:0,homeFillsViewer:false}},changeActiveBookViewer:function(viewerName,pagePid){this.activeBookViewer=viewerName;if(viewerName=="pdf"&&this.allowPDFView){$("#view-toggle-pdf").prop("checked",true);$("#view-pdf").show();$("#view-image").hide();$("#view-transcription").hide();$("#view-audio").hide();$("#view-video").hide()}else if(viewerName=="image"||viewerName=="pdf"&&!this.allowPDFView){$("#view-toggle-image").prop("checked",true);$("#view-image").show();$("#view-pdf").hide();$("#view-transcription").hide();$("#view-audio").hide();$("#view-video").hide();this.activeBookViewer="image"}else if(viewerName=="transcription"){$("#view-toggle-transcription").prop("checked",true);$("#view-transcription").show();$("#view-pdf").hide();$("#view-image").hide();$("#view-audio").hide();$("#view-video").hide()}else if(viewerName=="audio"){$("#view-toggle-transcription").prop("checked",true);$("#view-audio").show();$("#view-pdf").hide();$("#view-image").hide();$("#view-transcription").hide();$("#view-video").hide()}else if(viewerName=="video"){$("#view-toggle-transcription").prop("checked",true);$("#view-video").show();$("#view-pdf").hide();$("#view-image").hide();$("#view-transcription").hide();$("#view-audio").hide()}return this.loadPage(pagePid)},clearCache:function(id){var url=Globals.path+"/Archive/AJAX?id="+encodeURI(id)+"&method=clearCache";VuFind.loadingMessage();$.getJSON(url,function(data){if(data.success){VuFind.showMessage("Cache Cleared Successfully",data.message,2e3)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail);return false},initializeOpenSeadragon:function(viewer){},getMoreExhibitResults:function(exhibitPid,reloadHeader){this.curPage=this.curPage+1;if(typeof reloadHeader=="undefined"){reloadHeader=0}if(reloadHeader){$("#exhibit-results-loading").show();this.curPage=1}var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForExhibit&collectionId="+exhibitPid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+VuFind.Account.showCovers;url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").hide().html(data.relatedObjects).fadeIn("slow")}else{$("#nextInsertPoint").hide().replaceWith(data.relatedObjects).fadeIn("slow")}$("#exhibit-results-loading").hide()}})},getMoreMapResults:function(exhibitPid,placePid,showTimeline){this.curPage=this.curPage+1;var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForMappedCollection&collectionId="+exhibitPid+"&placeId="+placePid+"&page="+this.curPage+"&sort="+this.sort+"&showTimeline="+showTimeline;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader=0";$.getJSON(url,function(data){if(data.success){$("#nextInsertPoint").replaceWith(data.relatedObjects)}})},getMoreTimelineResults:function(exhibitPid){this.curPage=this.curPage+1;var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForTimelineExhibit&collectionId="+exhibitPid+"&page="+this.curPage+"&sort="+this.sort;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader=0";$.getJSON(url,function(data){if(data.success){$("#nextInsertPoint").replaceWith(data.relatedObjects)}})},getMoreScrollerResults:function(pid){this.curPage=this.curPage+1;var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForScroller&pid="+pid+"&page="+this.curPage+"&sort="+this.sort;$.getJSON(url,function(data){if(data.success){$("#nextInsertPoint").replaceWith(data.relatedObjects)}})},handleMapClick:function(markerIndex,exhibitPid,placePid,label,redirect,showTimeline){$("#exhibit-results-loading").show();this.archive_info_window.setContent(label);if(markerIndex>=0){this.archive_info_window.open(this.archive_map,this.markers[markerIndex])}if(redirect!="undefined"&&redirect===true){var newUrl=VuFind.buildUrl(document.location.origin+document.location.pathname,"placePid",placePid);newUrl=VuFind.buildUrl(newUrl,"style","map");document.location.href=newUrl}if(showTimeline=="undefined"){showTimeline=true}$.getJSON(Globals.path+"/Archive/AJAX?method=getRelatedObjectsForMappedCollection&collectionId="+exhibitPid+"&placeId="+placePid+"&showTimeline="+showTimeline,function(data){if(data.success){$("#related-objects-for-exhibit").html(data.relatedObjects);$("#exhibit-results-loading").hide()}});var stateObj={marker:markerIndex,exhibitPid:exhibitPid,placePid:placePid,label:label,showTimeline:showTimeline,page:"MapExhibit"};var newUrl=VuFind.buildUrl(document.location.origin+document.location.pathname,"placePid",placePid);var currentParameters=VuFind.getQuerystringParameters();if(currentParameters["style"]!=undefined){newUrl=VuFind.buildUrl(newUrl,"style",currentParameters["style"])}if(document.location.href!=newUrl){history.pushState(stateObj,label,newUrl)}return false},handleTimelineClick:function(exhibitPid){$("#exhibit-results-loading").show();$.getJSON(Globals.path+"/Archive/AJAX?method=getRelatedObjectsForTimelineExhibit&collectionId="+exhibitPid,function(data){if(data.success){$("#related-objects-for-exhibit").html(data.relatedObjects);$("#exhibit-results-loading").hide()}});return false},handleCollectionScrollerClick:function(pid){$("#exhibit-results-loading").show();$.getJSON(Globals.path+"/Archive/AJAX?method=getRelatedObjectsForScroller&pid="+pid,function(data){if(data.success){$("#related-objects-for-exhibit").html(data.relatedObjects);$("#exhibit-results-loading").hide()}});return false},handleBookClick:function(bookPid,pagePid,bookViewer){VuFind.Archive.activeBookPid=bookPid;VuFind.Archive.changeActiveBookViewer(bookViewer,pagePid);var stateObj={bookPid:bookPid,pagePid:pagePid,viewer:bookViewer,page:"Book"},newUrl=VuFind.buildUrl(document.location.origin+document.location.pathname,"bookPid",bookPid),newUrl=VuFind.buildUrl(newUrl,"pagePid",pagePid),newUrl=VuFind.buildUrl(newUrl,"viewer",bookViewer);if(document.location.href!=newUrl){history.pushState(stateObj,"",newUrl)}return false},reloadMapResults:function(exhibitPid,placePid,reloadHeader,showTimeline){$("#exhibit-results-loading").show();this.curPage=1;var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForMappedCollection&collectionId="+exhibitPid+"&placeId="+placePid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+VuFind.Account.showCovers+"&showTimeline="+showTimeline;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").html(data.relatedObjects)}else{$("#results").html(data.relatedObjects)}$("#exhibit-results-loading").hide()}})},reloadTimelineResults:function(exhibitPid,reloadHeader){$("#exhibit-results-loading").show();this.curPage=1;var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForTimelineExhibit&collectionId="+exhibitPid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+VuFind.Account.showCovers;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").html(data.relatedObjects)}else{$("#results").html(data.relatedObjects)}$("#exhibit-results-loading").hide()}})},reloadScrollerResults:function(pid,reloadHeader){$("#exhibit-results-loading").show();this.curPage=1;var url=Globals.path+"/Archive/AJAX?method=getRelatedObjectsForScroller&pid="+pid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+VuFind.Account.showCovers;url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").html(data.relatedObjects)}else{$("#results").html(data.relatedObjects)}$("#exhibit-results-loading").hide()}})},loadExploreMore:function(pid){$.getJSON(Globals.path+"/Archive/AJAX?id="+encodeURI(pid)+"&method=getExploreMoreContent",function(data){if(data.success){$("#explore-more-body").html(data.exploreMore);VuFind.initCarousels("#explore-more-body .panel-collapse.in .jcarousel")}}).fail(VuFind.ajaxFail)},loadMetadata:function(pid,secondaryId){var url=Globals.path+"/Archive/AJAX?id="+encodeURI(pid)+"&method=getMetadata";if(secondaryId!==undefined){url+="&secondaryId="+secondaryId}var metadataTarget=$("#archive-metadata");metadataTarget.html("Please wait while we load information about this object...");$.getJSON(url,function(data){if(data.success){metadataTarget.html(data.metadata)}}).fail(function(){metadataTarget.html("Could not load metadata.")})},loadPage:function(pid){if(pid==null){return false}var pageChanged=false;if(this.activeBookPage!=pid){pageChanged=true;this.curPage=this.pageDetails[pid]["index"]}this.activeBookPage=pid;if(this.pageDetails[pid]["transcript"]==""){$("#view-toggle-transcription").parent().hide();if(this.activeBookViewer=="transcription"){this.changeActiveBookViewer("image",pid);return false}}else{$("#view-toggle-transcription").parent().show()}if(this.pageDetails[pid]["pdf"]==""){$("#view-toggle-pdf").parent().hide()}else{$("#view-toggle-pdf").parent().show()}if(this.pageDetails[pid]["jp2"]==""){$("#view-toggle-image").parent().hide()}else{$("#view-toggle-image").parent().show()}if(this.pageDetails[pid]["audio"]==""){$("#view-toggle-audio").parent().hide()}else{$("#view-toggle-audio").parent().show()}if(this.pageDetails[pid]["video"]==""){$("#view-toggle-video").parent().hide()}else{$("#view-toggle-video").parent().show()}if(this.activeBookViewer=="pdf"){$("#view-pdf").html($("<object />").attr({type:"application/pdf",data:this.pageDetails[pid]["pdf"],class:"book-pdf"}))}else if(this.activeBookViewer=="transcription"){var transcriptIdentifier=this.pageDetails[pid]["transcript"];var url=Globals.path+"/Archive/AJAX?transcriptId="+encodeURI(transcriptIdentifier)+"&method=getTranscript";var transcriptionTarget=$("#view-transcription");transcriptionTarget.html("Loading Transcript, please wait.");$.getJSON(url,function(data){if(data.success){transcriptionTarget.html(data.transcript)}}).fail(function(){transcriptionTarget.html("Could not load Transcript.")})}else if(this.activeBookViewer=="image"){var tile=new OpenSeadragon.DjatokaTileSource(Globals.url+"/AJAX/DjatokaResolver",this.pageDetails[pid]["jp2"],VuFind.Archive.openSeadragonViewerSettings());if(!$("#pika-openseadragon").hasClass("processed")){$("#pika-openseadragon").addClass("processed");settings=VuFind.Archive.openSeadragonViewerSettings();settings.tileSources=new Array;settings.tileSources.push(tile);VuFind.Archive.openSeaDragonViewer=new OpenSeadragon(settings)}else{VuFind.Archive.openSeaDragonViewer.open(tile)}}else if(this.activeBookViewer=="audio"){$("#view-audio").show();$("#audio-player-src").attr("src",this.pageDetails[pid]["audio"]);var audioPlayer=document.getElementById("audio-player");audioPlayer.load()}else if(this.activeBookViewer=="video"){$("#view-video").show();$("#video-player-src").attr("src",this.pageDetails[pid]["video"]);var videoPlayer=document.getElementById("video-player");videoPlayer.load()}if(pageChanged&&this.multiPage){var numSectionsShown=0;if(this.pageDetails[pid]["transcript"]==""){$("#view-toggle-transcription").parent().hide()}else{$("#view-toggle-transcription").parent().show();numSectionsShown++}if(this.pageDetails[pid]["pdf"]==""){$("#view-toggle-pdf").parent().hide()}else{$("#view-toggle-pdf").parent().show();imageOnlyShown=false;numSectionsShown++}if(this.pageDetails[pid]["jp2"]==""){$("#view-toggle-image").parent().hide()}else{$("#view-toggle-image").parent().show();numSectionsShown++}if(this.pageDetails[pid]["audio"]==""){$("#view-toggle-audio").parent().hide()}else{$("#view-toggle-audio").parent().show();numSectionsShown++}if(this.pageDetails[pid]["video"]==""){$("#view-toggle-video").parent().hide()}else{$("#view-toggle-video").parent().show();numSectionsShown++}if(numSectionsShown<=1){$("#view-toggle").hide()}else{$("#view-toggle").show()}this.loadMetadata(this.activeBookPid,pid);url=Globals.path+"/Archive/AJAX?method=getAdditionalRelatedObjects&id="+pid;var additionalRelatedObjectsTarget=$("#additional-related-objects");additionalRelatedObjectsTarget.html("");$.getJSON(url,function(data){if(data.success){additionalRelatedObjectsTarget.html(data.additionalObjects)}});var pageScroller=$("#book-sections .jcarousel");if(pageScroller){pageScroller.jcarousel("scroll",this.curPage-1,true);$("#book-sections li").removeClass("active");$("#book-sections .jcarousel li:eq("+(this.curPage-1)+")").addClass("active")}}return false},nextRandomObject:function(pid){var url=Globals.path+"/Archive/AJAX?id="+encodeURI(pid)+"&method=getNextRandomObject";$.getJSON(url,function(data){$("#randomImagePlaceholder").html(data.image)}).fail(VuFind.ajaxFail);return false},setForExhibitInAExhibitNavigation:function(exhibitInAExhibitParentPid){var date=new Date;date.setTime(date.getTime()+1*24*60*60*1e3);expires="; expires="+date.toGMTString();document.cookie=encodeURIComponent("exhibitInAExhibitParentPid")+"="+encodeURIComponent(exhibitInAExhibitParentPid)+expires+"; path=/"},setForExhibitNavigation:function(recordIndex,page,collectionPid){var date=new Date;date.setTime(date.getTime()+1*24*60*60*1e3);expires="; expires="+date.toGMTString();if(typeof recordIndex!="undefined"){document.cookie=encodeURIComponent("recordIndex")+"="+encodeURIComponent(recordIndex)+expires+"; path=/"}if(typeof page!="undefined"){document.cookie=encodeURIComponent("page")+"="+encodeURIComponent(page)+expires+"; path=/"}if(typeof collectionPid!="undefined"){document.cookie=encodeURIComponent("collectionPid")+"="+encodeURIComponent(collectionPid)+expires+"; path=/"}document.cookie=encodeURIComponent("exhibitNavigation")+"="+encodeURIComponent(1)+expires+"; path=/"},showBrowseEntityFilterPopup:function(exhibitPid,facetName,title){var url=Globals.path+"/Archive/AJAX?id="+encodeURI(exhibitPid)+"&method=getEntityFacetValuesForExhibit&facetName="+encodeURI(facetName);VuFind.loadingMessage();$.getJSON(url,function(data){VuFind.showMessage(title,data.modalBody)}).fail(VuFind.ajaxFail);return false},showBrowseFilterPopup:function(exhibitPid,facetName,title){var url=Globals.path+"/Archive/AJAX?id="+encodeURI(exhibitPid)+"&method=getFacetValuesForExhibit&facetName="+encodeURI(facetName);VuFind.loadingMessage();$.getJSON(url,function(data){VuFind.showMessage(title,data.modalBody)}).fail(VuFind.ajaxFail);return false},showObjectInPopup:function(pid,recordIndex,page){var url=Globals.path+"/Archive/AJAX?id="+encodeURI(pid)+"&method=getObjectInfo";VuFind.loadingMessage();this.setForExhibitNavigation(recordIndex,page);$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail);return false},showSaveToListForm:function(trigger,id){if(Globals.loggedIn){VuFind.loadingMessage();var url=Globals.path+"/Archive/"+id+"/AJAX?method=getSaveToListForm";$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin($(trigger),function(){VuFind.Archive.showSaveToListForm(trigger,id)})}return false},saveToList:function(id){if(Globals.loggedIn){var listId=$("#addToList-list").val(),notes=$("#addToList-notes").val(),url=Globals.path+"/Archive/"+encodeURIComponent(id)+"/AJAX",params={method:"saveToList",notes:notes,listId:listId};$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Added Successfully",data.message,2e3)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)}return false}}}(VuFind.Archive||{});
VuFind.Browse=function(){return{curPage:1,curCategory:"",curSubCategory:"",browseMode:"covers",browseModeClasses:{covers:"home-page-browse-thumbnails",grid:"home-page-browse-grid"},addToHomePage:function(searchId){VuFind.Account.ajaxLightbox(Globals.path+"/Browse/AJAX?method=getAddBrowseCategoryForm&searchId="+searchId,true);return false},initializeBrowseCategory:function(){var browseCategoryCarousel=$("#browse-category-carousel");browseCategoryCarousel.on("jcarousel:targetin","li",function(){var categoryId=$(this).data("category-id");VuFind.Browse.changeBrowseCategory(categoryId)});if($("#browse-category-picker .jcarousel-control-prev").css("display")!="none"){browseCategoryCarousel.find("li").click(function(){$("#browse-category-carousel").jcarousel("scroll",$(this))});var scrollFactor=15;browseCategoryCarousel.touchwipe({wipeLeft:function(dx){var scrollInterval=Math.round(dx/scrollFactor);$("#browse-category-carousel").jcarousel("scroll","+="+scrollInterval)},wipeRight:function(dx){var scrollInterval=Math.round(dx/scrollFactor);$("#browse-category-carousel").jcarousel("scroll","-="+scrollInterval)}})}else{browseCategoryCarousel.find("li").click(function(){$(this).trigger("jcarousel:targetin")})}},toggleBrowseMode:function(selectedMode){var mode=this.browseModeClasses.hasOwnProperty(selectedMode)?selectedMode:this.browseMode,categoryTextId=this.curCategory||$("#browse-category-carousel .selected").data("category-id"),subCategoryTextId=this.curSubCategory||$("#browse-sub-category-menu .selected").data("sub-category-id");this.browseMode=mode;if(!Globals.opac&&VuFind.hasLocalStorage()){window.localStorage.setItem("browseMode",this.browseMode)}if(subCategoryTextId)return this.changeBrowseSubCategory(subCategoryTextId);else return this.changeBrowseCategory(categoryTextId)},resetBrowseResults:function(){var classes=function(){var str="",object=VuFind.Browse.browseModeClasses;for(property in object){str+=object[property]+" "}return str}(),selectedClass=this.browseModeClasses[this.browseMode];$("#home-page-browse-results").children().fadeOut(function(){$("#home-page-browse-results").children().slice(1).remove();$("#home-page-browse-results div.row").removeClass(classes).addClass(selectedClass)})},changeBrowseCategory:function(categoryTextId){var url=Globals.path+"/Browse/AJAX",params={method:"getBrowseCategoryInfo",textId:categoryTextId||VuFind.Browse.curCategory,browseMode:this.browseMode},newLabel=$("#browse-category-"+categoryTextId+" div").first().text(),loadingID=categoryTextId||initial;$(".browse-category").removeClass("selected");$("#browse-category-"+categoryTextId).addClass("selected");$("#selected-browse-search-link").attr("href","#");$(".selected-browse-label-search-text,.selected-browse-sub-category-label-search-text").fadeOut(function(){$(".selected-browse-label-search-text").html(newLabel).fadeIn()});$("#browse-sub-category-menu").children().fadeOut(function(){$(this).remove()});this.resetBrowseResults();this.loadingCategory=loadingID;$.getJSON(url,params,function(data){if(VuFind.Browse.loadingCategory==loadingID){if(data.success==false){VuFind.showMessage("Error loading browse information","Sorry, we were not able to find titles for that category")}else{$(".selected-browse-label-search-text").html(data.label);VuFind.Browse.curPage=1;VuFind.Browse.curCategory=data.textId;VuFind.Browse.curSubCategory=data.subCategoryTextId||"";$("#home-page-browse-results div.row").html(data.records).fadeIn("slow");$("#selected-browse-search-link").attr("href",data.searchUrl);if(data.subcategories){$("#browse-sub-category-menu").html(data.subcategories).fadeIn();if(data.subCategoryTextId){$(".selected-browse-sub-category-label-search-text").html($("#browse-sub-category-"+data.subCategoryTextId).addClass("selected").text()).fadeIn()}}}}}).fail(function(){VuFind.ajaxFail();$("#home-page-browse-results div").html("").show()}).done(function(){VuFind.Browse.loadingCategory=null});return false},changeBrowseSubCategory:function(subCategoryTextId){var url=Globals.path+"/Browse/AJAX",params={method:"getBrowseSubCategoryInfo",textId:VuFind.Browse.curCategory,subCategoryTextId:subCategoryTextId,browseMode:this.browseMode};$("#browse-sub-category-menu button").removeClass("selected");$("#browse-sub-category-"+subCategoryTextId).addClass("selected");newSubCategoryLabel=$("#browse-sub-category-"+subCategoryTextId).text();$(".selected-browse-sub-category-label-search-text").fadeOut(function(){$(this).html(newSubCategoryLabel).fadeIn()});this.resetBrowseResults();$.getJSON(url,params,function(data){if(data.success==false){VuFind.showMessage("Error loading browse information","Sorry, we were not able to find titles for that category")}else{if(data.label)$(".selected-browse-label-search-text").html(data.label);if(data.subCategoryLabel)$(".selected-browse-sub-category-label-search-text").html(data.subCategoryLabel);else $(".selected-browse-sub-category-label-search-text").fadeOut();VuFind.Browse.curPage=1;if(data.textId)VuFind.Browse.curCategory=data.textId;if(data.subCategoryTextId)VuFind.Browse.curSubCategory=data.subCategoryTextId||"";$("#home-page-browse-results div.row").html(data.records).fadeIn("slow");$("#selected-browse-search-link").attr("href",data.searchUrl)}}).fail(function(){VuFind.ajaxFail();$("#home-page-browse-results div.row").html("").show();$(".selected-browse-sub-category-label-search-text").fadeOut()});return false},createBrowseCategory:function(){var url=Globals.path+"/Browse/AJAX",params={method:"createBrowseCategory",categoryName:$("#categoryName").val(),addAsSubCategoryOf:$("#addAsSubCategoryOfSelect").val()};var searchId=$("#searchId");if(searchId){params["searchId"]=searchId.val()}var listId=$("#listId");if(listId){params["listId"]=listId.val()}$.getJSON(url,params,function(data){if(data.success==false){VuFind.showMessage("Unable to create category",data.message)}else{VuFind.showMessage("Successfully added","This search was added to the homepage successfully.",true)}}).fail(VuFind.ajaxFail);return false},getMoreResults:function(){this.curPage+=1;var url=Globals.path+"/Browse/AJAX",params={method:"getMoreBrowseResults",textId:this.curSubCategory||this.curCategory,pageToLoad:this.curPage,browseMode:this.browseMode},divClass=this.browseModeClasses[this.browseMode];$.getJSON(url,params,function(data){if(data.success==false){VuFind.showMessage("Error loading browse information","Sorry, we were not able to find titles for that category")}else{var newDiv=$('<div class="'+divClass+' row" />').hide().append(data.records);$("."+divClass).filter(":last").after(newDiv).after("<hr>");newDiv.fadeIn("slow");if(data.lastPage){$("#more-browse-results").hide()}}}).fail(VuFind.ajaxFail);return false}}}(VuFind.Browse||{});
VuFind.DPLA=function(){return{getDPLAResults:function(searchTerm){var url=Globals.path+"/Search/AJAX",params={method:"getDplaResults",searchTerm:searchTerm};$.getJSON(url,params,function(data){var searchResults=data.formattedResults;if(searchResults&&searchResults.length>0){$("#dplaSearchResultsPlaceholder").html(searchResults)}})}}}(VuFind.DPLA||{});
VuFind.EContent=function(){return{submitHelpForm:function(){$.post(Globals.path+"/Help/eContentSupport",$("#eContentSupport").serialize(),function(data){VuFind.showMessage(data.title,data.message)},"json").fail(function(){VuFind.ajaxFail()});return false}}}(VuFind.EContent);
VuFind.GroupedWork=function(){return{hasTableOfContentsInRecord:false,clearUserRating:function(groupedWorkId){var url=Globals.path+"/GroupedWork/"+groupedWorkId+"/AJAX?method=clearUserRating";$.getJSON(url,function(data){if(data.result==true){$(".rate"+groupedWorkId).find(".ui-rater-starsOn").width(0);$("#myRating"+groupedWorkId).hide();VuFind.showMessage("Success",data.message,true)}else{VuFind.showMessage("Sorry",data.message)}});return false},clearNotInterested:function(notInterestedId){var url=Globals.path+"/GroupedWork/"+notInterestedId+"/AJAX?method=clearNotInterested";$.getJSON(url,function(data){if(data.result==false){VuFind.showMessage("Sorry","There was an error updating the title.")}else{$("#notInterested"+notInterestedId).hide()}})},deleteReview:function(id,reviewId){if(confirm("Are you sure you want to delete this review?")){var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=deleteUserReview";$.getJSON(url,function(data){if(data.result==true){$("#review_"+reviewId).hide();VuFind.showMessage("Success",data.message,true)}else{VuFind.showMessage("Sorry",data.message)}})}return false},forceRegrouping:function(id){var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=forceRegrouping";return this.basicShowMessageReloadOnSuccess(url)},forceReindex:function(id){var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=forceReindex";return this.basicShowMessageReloadOnSuccess(url)},reloadCover:function(id){var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=reloadCover";return this.basicShowMessageReloadOnSuccess(url)},reloadIslandora:function(id){var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=reloadIslandora";return this.basicShowMessageReloadOnSuccess(url)},basicShowMessageReloadOnSuccess:function(url){$.getJSON(url,function(data){if(data.success){VuFind.showMessage("Success",data.message,true,true)}else{VuFind.showMessage("Error",data.message)}});return false},getGoDeeperData:function(id,dataType){var placeholder;if(dataType=="excerpt"){placeholder=$("#excerptPlaceholder")}else if(dataType=="avSummary"){placeholder=$("#avSummaryPlaceholder")}else if(dataType=="tableOfContents"){placeholder=$("#tableOfContentsPlaceholder")}else if(dataType=="authornotes"){placeholder=$("#authornotesPlaceholder")}if(placeholder.hasClass("loaded"))return;placeholder.show();var url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"GetGoDeeperData",dataType:dataType};$.getJSON(url,params,function(data){placeholder.html(data.formattedData).addClass("loaded")})},getGoodReadsComments:function(isbn){$("#goodReadsPlaceHolder").replaceWith("<iframe id='goodreads_iframe' class='goodReadsIFrame' src='https://www.goodreads.com/api/reviews_widget_iframe?did=DEVELOPER_ID&format=html&isbn="+isbn+"&links=660&review_back=fff&stars=000&text=000' width='100%' height='400px' frameborder='0'></iframe>")},loadEnrichmentInfo:function(id,forceReload){var url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"getEnrichmentInfo"};if(forceReload!=undefined){params["reload"]=true}$.getJSON(url,params,function(data){try{var seriesData=data.seriesInfo;if(seriesData&&seriesData.titles.length>0){seriesScroller=new TitleScroller("titleScrollerSeries","Series","seriesList");$("#seriesInfo").show();seriesScroller.loadTitlesFromJsonData(seriesData);$("#seriesPanel").show()}else{$("#seriesPanel").hide()}var similarTitleData=data.similarTitles;if(similarTitleData&&similarTitleData.titles.length>0){morelikethisScroller=new TitleScroller("titleScrollerMoreLikeThis","MoreLikeThis","morelikethisList");$("#moreLikeThisInfo").show();morelikethisScroller.loadTitlesFromJsonData(similarTitleData)}var showGoDeeperData=data.showGoDeeper;if(showGoDeeperData){var goDeeperOptions=data.goDeeperOptions;for(var option in goDeeperOptions){if(option=="excerpt"){$("#excerptPanel").show()}else if(option=="avSummary"){$("#avSummaryPlaceholder,#tableOfContentsPlaceholder,#tableOfContentsPanel").show()}else if(option=="tableOfContents"){$("#tableOfContentsPlaceholder,#tableOfContentsPanel").show()}else if(option=="authorNotes"){$("#authornotesPlaceholder,#authornotesPanel").show()}}}if(VuFind.GroupedWork.hasTableOfContentsInRecord){$("#tableofcontentstab_label,#tableOfContentsPlaceholder,#tableOfContentsPanel").show()}var relatedContentData=data.relatedContent;if(relatedContentData&&relatedContentData.length>0){$("#relatedContentPlaceholder").html(relatedContentData)}var similarTitlesNovelist=data.similarTitlesNovelist;if(similarTitlesNovelist&&similarTitlesNovelist.length>0){$("#novelisttitlesPlaceholder").html(similarTitlesNovelist);$("#novelisttab_label,#similarTitlesPanel").show()}var similarAuthorsNovelist=data.similarAuthorsNovelist;if(similarAuthorsNovelist&&similarAuthorsNovelist.length>0){$("#novelistauthorsPlaceholder").html(similarAuthorsNovelist);$("#novelisttab_label,#similarAuthorsPanel").show()}var similarSeriesNovelist=data.similarSeriesNovelist;if(similarSeriesNovelist&&similarSeriesNovelist.length>0){$("#novelistseriesPlaceholder").html(similarSeriesNovelist);$("#novelisttab_label,#similarSeriesPanel").show()}$(".ajax-carousel","#explore-more-body").parents(".jcarousel-wrapper").show().prev(".sectionHeader").show();VuFind.initCarousels(".ajax-carousel")}catch(e){alert("error loading enrichment: "+e)}})},loadReviewInfo:function(id){var url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method=getReviewInfo";$.getJSON(url,function(data){if(data.numSyndicatedReviews==0){$("#syndicatedReviewsPanel").hide()}else{var syndicatedReviewsData=data.syndicatedReviewsHtml;if(syndicatedReviewsData&&syndicatedReviewsData.length>0){$("#syndicatedReviewPlaceholder").html(syndicatedReviewsData)}}if(data.numEditorialReviews==0){$("#editorialReviewsPanel").hide()}else{var editorialReviewsData=data.editorialReviewsHtml;if(editorialReviewsData&&editorialReviewsData.length>0){$("#editorialReviewPlaceholder").html(editorialReviewsData)}}if(data.numCustomerReviews==0){$("#borrowerReviewsPanel").hide()}else{var customerReviewsData=data.customerReviewsHtml;if(customerReviewsData&&customerReviewsData.length>0){$("#customerReviewPlaceholder").html(customerReviewsData)}}})},markNotInterested:function(recordId){if(Globals.loggedIn){var url=Globals.path+"/GroupedWork/"+recordId+"/AJAX?method=markNotInterested";$.getJSON(url,function(data){if(data.result==true){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Sorry",data.message)}});return false}else{return VuFind.Account.ajaxLogin(null,function(){markNotInterested(source,recordId)},false)}},reloadEnrichment:function(id){VuFind.GroupedWork.loadEnrichmentInfo(id,true)},removeTag:function(id,tag){if(confirm('Are you sure you want to remove the tag "'+tag+'" from this title?')){var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=removeTag";url+="&tag="+encodeURIComponent(tag);$.getJSON(url,function(data){if(data.result==true){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Sorry",data.message)}});return false}return false},saveReview:function(id){if(!Globals.loggedIn){VuFind.Account.ajaxLogin(null,function(){this.saveReview(id)})}else{var comment=$("#comment"+id).val(),rating=$("#rating"+id).val(),url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"saveReview",comment:comment,rating:rating};$.getJSON(url,params,function(data){if(data.success){if(data.newReview){$("#customerReviewPlaceholder").append(data.reviewHtml)}else{$("#review_"+data.reviewId).replaceWith(data.reviewHtml)}VuFind.closeLightbox()}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)}return false},saveTag:function(id){var tag=$("#tags_to_apply").val(),url=Globals.path+"/GroupedWork/"+id+"/AJAX",params={method:"saveTag",tag:tag};$("#saveToList-button").prop("disabled",true);$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Success",data.message,1)}else{VuFind.showMessage("Error adding tags","There was an unexpected error adding tags to this title.<br>"+data.message)}}).fail(VuFind.ajaxFail);return false},saveToList:function(id){if(Globals.loggedIn){var listId=$("#addToList-list").val(),notes=$("#addToList-notes").val(),url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"saveToList",notes:notes,listId:listId};$.getJSON(url,params,function(data){if(data.success){VuFind.showMessage("Added Successfully",data.message,2e3)}else{VuFind.showMessage("Error",data.message)}})}return false},sendEmail:function(id){if(Globals.loggedIn){var from=$("#from").val(),to=$("#to").val(),message=$("#message").val(),related_record=$("#related_record").val(),url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"sendEmail",from:from,to:to,message:message,related_record:related_record};$.getJSON(url,params,function(data){if(data.result){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)}return false},sendSMS:function(id){if(Globals.loggedIn){var phoneNumber=$("#sms_phone_number").val(),provider=$("#provider").val(),related_record=$("#related_record").val(),url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"sendSMS",provider:provider,sms_phone_number:phoneNumber,related_record:related_record};$.getJSON(url,params,function(data){if(data.result){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Error",data.message)}}).fail(VuFind.ajaxFail)}return false},showEmailForm:function(trigger,id){if(Globals.loggedIn){VuFind.loadingMessage();$.getJSON(Globals.path+"/GroupedWork/"+id+"/AJAX?method=getEmailForm",function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin($(trigger),function(){return VuFind.GroupedWork.showEmailForm(trigger,id)},false)}return false},showGroupedWorkInfo:function(id,browseCategoryId){var url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method=getWorkInfo";if(browseCategoryId!=undefined){url+="&browseCategoryId="+browseCategoryId}VuFind.loadingMessage();$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail);return false},showReviewForm:function(trigger,id){if(Globals.loggedIn){VuFind.loadingMessage();$.getJSON(Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method=getReviewForm",function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin($(trigger),function(){return VuFind.GroupedWork.showReviewForm(trigger,id)},false)}return false},showSaveToListForm:function(trigger,id){if(Globals.loggedIn){VuFind.loadingMessage();var url=Globals.path+"/GroupedWork/"+id+"/AJAX?method=getSaveToListForm";$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin($(trigger),function(){VuFind.GroupedWork.showSaveToListForm(trigger,id)})}return false},showSmsForm:function(trigger,id){if(Globals.loggedIn){VuFind.loadingMessage();$.getJSON(Globals.path+"/GroupedWork/"+id+"/AJAX?method=getSMSForm",function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin($(trigger),function(){return VuFind.GroupedWork.showSmsForm(trigger,id)},false)}return false},showTagForm:function(trigger,id,source){if(Globals.loggedIn){$.getJSON(Globals.path+"/GroupedWork/"+id+"/AJAX?method=getAddTagForm",function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)})}else{VuFind.Account.ajaxLogin($(trigger),function(){VuFind.GroupedWork.showTagForm(trigger,id,source)},false)}return false}}}(VuFind.GroupedWork||{});
VuFind.Lists=function(){return{addToHomePage:function(listId){VuFind.Account.ajaxLightbox(Globals.path+"/MyAccount/AJAX?method=getAddBrowseCategoryFromListForm&listId="+listId,true);return false},editListAction:function(){$("#listDescription,#listTitle,#FavEdit").hide();$("#listEditControls,#FavSave").show();return false},submitListForm:function(action){$("#myListActionHead").val(action);$("#myListFormHead").submit();return false},makeListPublicAction:function(){return this.submitListForm("makePublic")},makeListPrivateAction:function(){return this.submitListForm("makePrivate")},deleteListAction:function(){if(confirm("Are you sure you want to delete this list?")){this.submitListForm("deleteList")}return false},updateListAction:function(){return this.submitListForm("saveList")},deleteAllListItemsAction:function(){if(confirm("Are you sure you want to delete all titles from this list?  This cannot be undone.")){this.submitListForm("deleteAll")}return false},emailListAction:function(listId){var urlToDisplay=Globals.path+"/MyAccount/AJAX";VuFind.loadingMessage();$.getJSON(urlToDisplay,{method:"getEmailMyListForm",listId:listId},function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)});return false},SendMyListEmail:function(){var url=Globals.path+"/MyAccount/AJAX";$.getJSON(url,{listId:$('#emailListForm input[name="listId"]').val(),to:$('#emailListForm input[name="to"]').val(),from:$('#emailListForm input[name="from"]').val(),message:$('#emailListForm textarea[name="message"]').val(),method:"sendMyListEmail"},function(data){if(data.result){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Error",data.message)}})},citeListAction:function(id){return VuFind.Account.ajaxLightbox(Globals.path+"/MyAccount/AJAX?method=getCitationFormatsForm&listId="+id,false)},processCiteListForm:function(){$("#citeListForm").submit()},batchAddToListAction:function(id){return VuFind.Account.ajaxLightbox(Globals.path+"/MyAccount/AJAX/?method=getBulkAddToListForm&listId="+id)},processBulkAddForm:function(){$("#bulkAddToList").submit()},changeList:function(){var availableLists=$("#availableLists");window.location=Globals.path+"/MyAccount/MyList/"+availableLists.val()},printListAction:function(){window.print();return false},importListsFromClassic:function(){if(confirm("This will import any lists you had defined in the old catalog.  This may take several minutes depending on the size of your lists. Are you sure you want to continue?")){window.location=Globals.path+"/MyAccount/ImportListsFromClassic"}return false}}}(VuFind.Lists||{});
VuFind.ListWidgets=function(){return{createWidgetFromList:function(listId){VuFind.Account.ajaxLightbox(Globals.path+"/Admin/AJAX?method=getAddToWidgetForm&source=list&id="+listId,true);return false},createWidgetFromSearch:function(searchId){VuFind.Account.ajaxLightbox(Globals.path+"/Admin/AJAX?method=getAddToWidgetForm&source=search&id="+searchId,true);return false}}}(VuFind.ListWidgets||{});
VuFind.MaterialsRequest=function(){return{getWorldCatIdentifiers:function(){var title=$("#title").val();var author=$("#author").val();var format=$("#format").val();if(title==""&&author==""){alert("Please enter a title and author before checking for an ISBN and OCLC Number")}else{var requestUrl=Globals.path+"/MaterialsRequest/AJAX?method=GetWorldCatIdentifiers&title="+encodeURIComponent(title)+"&author="+encodeURIComponent(author)+"&format="+encodeURIComponent(format);$.getJSON(requestUrl,function(data){if(data.success==true){var suggestedIdentifiers=$("#suggestedIdentifiers");suggestedIdentifiers.html(data.formattedSuggestions);suggestedIdentifiers.slideDown()}else{alert(data.error)}})}return false},cancelMaterialsRequest:function(id){if(confirm("Are you sure you want to cancel this request?")){var url=Globals.path+"/MaterialsRequest/AJAX?method=CancelRequest&id="+id;$.getJSON(url,function(data){if(data.success){alert("Your request was cancelled successfully.");window.location.reload()}else{alert(data.error)}});return false}else{return false}},showMaterialsRequestDetails:function(id,staffView){return VuFind.Account.ajaxLightbox(Globals.path+"/MaterialsRequest/AJAX?method=MaterialsRequestDetails&id="+id+"&staffView="+staffView,true)},updateMaterialsRequest:function(id){return VuFind.Account.ajaxLightbox(Globals.path+"/MaterialsRequest/AJAX?method=UpdateMaterialsRequest&id="+id,true)},exportSelectedRequests:function(){var selectedRequests=this.getSelectedRequests(true);if(selectedRequests.length==0){return false}$("#updateRequests").submit();return true},updateSelectedRequests:function(){var newStatus=$("#newStatus").val();if(newStatus=="unselected"){alert("Please select a status to update the requests to.");return false}var selectedRequests=this.getSelectedRequests(false);if(selectedRequests.length!=0){$("#updateRequests").submit()}return false},assignSelectedRequests:function(){var newAssignee=$("#newAssignee").val();if(newAssignee=="unselected"){alert("Please select a user to assign the requests to.");return false}var selectedRequests=this.getSelectedRequests(false);if(selectedRequests.length!=0){$("#updateRequests").submit()}return false},getSelectedRequests:function(promptToSelectAll){var selectedRequests=$("input.select:checked").map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&");if(selectedRequests.length==0){if(promptToSelectAll){var ret=confirm("You have not selected any requests, process all requests?");if(ret==true){selectedRequests=$("input.select").map(function(){return $(this).attr("name")+"=on"}).get().join("&");$(".select").attr("checked","checked")}}else{alert("Please select one or more requests to update")}}return selectedRequests},setIsbnAndOclcNumber:function(title,author,isbn,oclcNumber){$("#title").val(title);$("#author").val(author);$("#isbn").val(isbn);$("#oclcNumber").val(oclcNumber);$("#suggestedIdentifiers").slideUp()},setFieldVisibility:function(){$(".formatSpecificField").hide();var selectedFormat=$("#format").find("option:selected").val(),hasSpecialFields=typeof VuFind.MaterialsRequest.specialFields!="undefined";$(".specialFormatField").hide();$(".specialFormatHideField").show();this.updateHoldOptions();if(hasSpecialFields){if(VuFind.MaterialsRequest.specialFields[selectedFormat]){VuFind.MaterialsRequest.specialFields[selectedFormat].forEach(function(specifiedOption){switch(specifiedOption){case"Abridged/Unabridged":$(".abridgedField").show();$(".abridgedHideField").hide();break;case"Article Field":$(".articleField").show();$(".articleHideField").hide();break;case"Eaudio format":$(".eaudioField").show();$(".eaudioHideField").hide();break;case"Ebook format":$(".ebookField").show();$(".ebookHideField").hide();break;case"Season":$(".seasonField").show();$(".seasonHideField").hide();break}})}}if(VuFind.MaterialsRequest.authorLabels){if(VuFind.MaterialsRequest.authorLabels[selectedFormat]){$("#authorFieldLabel").html(VuFind.MaterialsRequest.authorLabels[selectedFormat]+": ")}}if(hasSpecialFields&&VuFind.MaterialsRequest.specialFields[selectedFormat]&&VuFind.MaterialsRequest.specialFields[selectedFormat].indexOf("Article Field")>-1){$("#magazineTitle,#acceptCopyrightYes").addClass("required");$("#acceptCopyrightYes").addClass("required");$("#copyright").show();$("#supplementalDetails").hide();$("#titleLabel").html("Article Title <span class='requiredIndicator'>*</span>")}else{$("#magazineTitle,#acceptCopyrightYes").removeClass("required");$("#copyright").hide();$("#supplementalDetails").show();$("#titleLabel").html("Title <span class='requiredIndicator'>*</span>")}},updateHoldOptions:function(){var placeHold=$("input[name=placeHoldWhenAvailable]:checked").val()==1||$("input[name=illItem]:checked").val()==1;if(placeHold){$("#pickupLocationField").show();if($("#pickupLocation").find("option:selected").val()=="bookmobile"){$("#bookmobileStopField").show()}else{$("#bookmobileStopField").hide()}}else{$("#bookmobileStopField").hide();$("#pickupLocationField").hide()}}}}(VuFind.MaterialsRequest||{});
VuFind.Menu=function(){$(function(){VuFind.Menu.AllSideBarSelectors=VuFind.Menu.SearchBoxSelectors+","+VuFind.Menu.SideBarSearchSelectors+","+VuFind.Menu.SideBarAccountSelectors+","+VuFind.Menu.SideBarMenuSelectors+","+VuFind.Menu.ExploreMoreSelectors;VuFind.Menu.stickyMenu("#horizontal-menu-bar-container","sticky-menu-bar");VuFind.Menu.stickyMenu("#vertical-menu-bar","sticky-sidebar");var mobileMode=false;if($("#horizontal-menu-bar-container").is(":visible")){VuFind.Menu.hideAllFast();mobileMode=true}$(window).resize(function(){if(mobileMode){if(!$("#horizontal-menu-bar-container").is(":visible")){mobileMode=false;if($("#vertical-menu-bar").length){$("#horizontal-search-box").show();$(".menu-bar-option").removeClass("menu-icon-selected");VuFind.Menu.hideAllFast();if($("#mobile-menu-search-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){VuFind.Menu.Mobile.resetRefineSearch();VuFind.Menu.SideBar.showSearch(".menu-bar-option:nth-child(1)>a")}else if($("#mobile-menu-account-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){VuFind.Menu.SideBar.showAccount(".menu-bar-option:nth-child(2)>a")}else if($("#mobile-menu-menu-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){VuFind.Menu.SideBar.showMenu(".menu-bar-option:nth-child(3)>a")}else if($("#mobile-menu-explore-more-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){VuFind.Menu.SideBar.showExploreMore(".menu-bar-option:nth-child(4)>a")}else{if($(VuFind.Menu.AllSideBarSelectors).filter(":visible").length==0){VuFind.Menu.collapseSideBar()}}}else{$(VuFind.Menu.AllSideBarSelectors).show()}}}else{if($("#horizontal-menu-bar-container").is(":visible")){mobileMode=true;$(".menu-icon-selected","#horizontal-menu-bar-container").removeClass("menu-icon-selected");VuFind.Menu.hideAllFast();if($(".menu-bar-option:nth-child(1)","#vertical-menu-bar").is(".menu-icon-selected")){VuFind.Menu.Mobile.showSearch("#mobile-menu-search-icon")}else if($(".menu-bar-option:nth-child(2)","#vertical-menu-bar").is(".menu-icon-selected")){VuFind.Menu.Mobile.showAccount("#mobile-menu-account-icon")}else if($(".menu-bar-option:nth-child(3)","#vertical-menu-bar").is(".menu-icon-selected")){VuFind.Menu.Mobile.showMenu("#mobile-menu-menu-icon")}else if($(".menu-bar-option:nth-child(4)","#vertical-menu-bar").is(".menu-icon-selected")){VuFind.Menu.Mobile.showExploreMore("#mobile-menu-explore-more-icon")}}}})});var reloadRelatedTitles=function(){if($(VuFind.Menu.ExploreMoreSelectors).is(":visible")){$(".jcarousel").jcarousel("reload")}};return{SearchBoxSelectors:"#home-page-search",SideBarSearchSelectors:"#narrow-search-label,#facet-accordion,#results-sort-label,#results-sort-label+div.row,#remove-search-label,#remove-search-label+.applied-filters,#similar-authors",SideBarAccountSelectors:"#home-page-login,#home-account-links",SideBarMenuSelectors:"#home-page-login,#home-page-library-section",ExploreMoreSelectors:"#explore-more-header,#explore-more-body",AllSideBarSelectors:"",stickyMenu:function(menuContainerSelector,stickyMenuClass){var menu=$(menuContainerSelector),viewportHeight=$(window).height(),switchPosition,switchPositionAdjustment=$("#masquerade-header").height();$(window).resize(function(){viewportHeight=$(this).height()}).scroll(function(){if(menu.is(":visible")&&viewportHeight<$("#main-content-with-sidebar").height()){if(typeof switchPosition=="undefined"){switchPosition=menu.offset().top-switchPositionAdjustment}var fixedOffset=menu.offset().top,notFixedScrolledPosition=$(this).scrollTop();if(menu.is("."+stickyMenuClass)&&fixedOffset<=switchPosition){menu.removeClass(stickyMenuClass)}if(!menu.is("."+stickyMenuClass)&&notFixedScrolledPosition>=switchPosition){menu.addClass(stickyMenuClass);if(switchPositionAdjustment){menu.css("top",switchPositionAdjustment)}}}}).scroll()},hideAllFast:function(){return $(VuFind.Menu.AllSideBarSelectors).filter(":visible").hide()},collapseSideBar:function(){$("#side-bar,#vertical-menu-bar-container").addClass("collapsedSidebar");$("#main-content-with-sidebar").addClass("mainContentWhenSiderbarCollapsed");$("#main-content-with-sidebar .jcarousel").jcarousel("reload")},openSideBar:function(){$("#main-content-with-sidebar").removeClass("mainContentWhenSiderbarCollapsed");$("#side-bar,#vertical-menu-bar-container").removeClass("collapsedSidebar");$("#main-content-with-sidebar .jcarousel").jcarousel("reload")},reloadRelatedTitles:function(){if($(VuFind.Menu.ExploreMoreSelectors).is(":visible")){$(".jcarousel").jcarousel("reload")}},SideBar:{hideAll:function(){return $(VuFind.Menu.AllSideBarSelectors).filter(":visible").animate({width:"toggle"},350)},showMenuSection:function(sectionSelector,clickedElement,afterAnimationAction){$.when(this.hideAll()).done(function(){var elem=$(clickedElement),parent=elem.parent(".menu-bar-option");if(parent.length>0){if(parent.is(".menu-icon-selected")){parent.removeClass("menu-icon-selected")}else{$(".menu-bar-option").removeClass("menu-icon-selected");parent.addClass("menu-icon-selected");VuFind.Menu.openSideBar();$.when($(sectionSelector).animate({width:"toggle"},350)).done(afterAnimationAction)}}}).done(function(){if($(VuFind.Menu.AllSideBarSelectors).filter(":visible").length==0){VuFind.Menu.collapseSideBar()}})},showSearch:function(clickedElement){if($("#horizontal-search-box").is(":visible")){this.showMenuSection(VuFind.Menu.SideBarSearchSelectors,clickedElement)}else{this.showMenuSection("#home-page-search,"+VuFind.Menu.SideBarSearchSelectors,clickedElement)}},showMenu:function(clickedElement){this.showMenuSection(VuFind.Menu.SideBarMenuSelectors,clickedElement)},showAccount:function(clickedElement){this.showMenuSection(VuFind.Menu.SideBarAccountSelectors,clickedElement)},showExploreMore:function(clickedElement){this.showMenuSection(VuFind.Menu.ExploreMoreSelectors,clickedElement,reloadRelatedTitles)}},Mobile:{hideAll:function(){return $(VuFind.Menu.AllSideBarSelectors).filter(":visible").slideUp()},showMenuSection:function(sectionSelector,clickedElement){return $.when(this.hideAll()).done(function(){var elem=$(clickedElement);VuFind.Menu.openSideBar();if(elem.is(".menu-icon-selected")){elem.removeClass("menu-icon-selected");$("#mobileHeader").show();$(sectionSelector).slideUp()}else{$(".menu-icon-selected","#horizontal-menu-bar-container").removeClass("menu-icon-selected");elem.addClass("menu-icon-selected");$("#mobileHeader").hide();$(sectionSelector).slideDown()}})},showSearch:function(clickedElement){this.showMenuSection("#home-page-search",clickedElement);this.resetRefineSearch()},showMenu:function(clickedElement){this.showMenuSection(VuFind.Menu.SideBarMenuSelectors,clickedElement)},showAccount:function(clickedElement){this.showMenuSection(VuFind.Menu.SideBarAccountSelectors,clickedElement);$("#myAccountPanel").filter(":not(.in)").collapse("show")},showExploreMore:function(clickedElement){this.showMenuSection(VuFind.Menu.ExploreMoreSelectors,clickedElement).done(reloadRelatedTitles)},showSearchFacets:function(){if(!$("#mobile-menu-search-icon").is(".menu-icon-selected")){if($("#horizontal-search-box").is(":visible")){this.showSearch("#mobile-menu-search-icon")}else{$("#mobile-menu-search-icon").addClass("menu-icon-selected")}}var btn=$("#refineSearchButton"),text=btn.text();if(text=="Refine Search"){$(VuFind.Menu.SideBarSearchSelectors).slideDown();btn.text("Hide Refine Search")}if(text=="Hide Refine Search"){$(VuFind.Menu.SideBarSearchSelectors).slideUp();btn.text("Refine Search")}},resetRefineSearch:function(){$(VuFind.Menu.SideBarSearchSelectors).hide();$("#refineSearchButton").text("Refine Search")}}}}(VuFind.Menu||{});
VuFind.Hoopla=function(){return{checkOutHooplaTitle:function(hooplaId,patronId){if(Globals.loggedIn){if(typeof patronId==="undefined"){patronId=$("#patronId","#pickupLocationOptions").val()}var url=Globals.path+"/Hoopla/"+hooplaId+"/AJAX",params={method:"checkOutHooplaTitle",patronId:patronId};if($("#stopHooplaConfirmation").prop("checked")){params["stopHooplaConfirmation"]=true}$.getJSON(url,params,function(data){if(data.success){VuFind.showMessageWithButtons(data.title,data.message,data.buttons)}else{VuFind.showMessage("Checking Out Title",data.message)}}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Hoopla.checkOutHooplaTitle(hooplaId,patronId)},false)}return false},getHooplaCheckOutPrompt:function(hooplaId){if(Globals.loggedIn){var url=Globals.path+"/Hoopla/"+hooplaId+"/AJAX?method=getHooplaCheckOutPrompt";$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Hoopla.getHooplaCheckOutPrompt(hooplaId)},false)}return false},returnHooplaTitle:function(patronId,hooplaId){if(Globals.loggedIn){if(confirm("Are you sure you want to return this title?")){VuFind.showMessage("Returning Title","Returning your title in Hoopla.");var url=Globals.path+"/Hoopla/"+hooplaId+"/AJAX",params={method:"returnHooplaTitle",patronId:patronId};$.getJSON(url,params,function(data){VuFind.showMessage(data.success?"Success":"Error",data.message,data.success,data.success)}).fail(VuFind.ajaxFail)}}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Hoopla.returnHooplaTitle(patronId,hooplaId)},false)}return false}}}(VuFind.Hoopla||{});
VuFind.OverDrive=function(){return{cancelOverDriveHold:function(patronId,overdriveId){if(confirm("Are you sure you want to cancel this hold?")){var ajaxUrl=Globals.path+"/OverDrive/AJAX?method=CancelOverDriveHold&patronId="+patronId+"&overDriveId="+overdriveId;$.ajax({url:ajaxUrl,cache:false,success:function(data){if(data.success){VuFind.showMessage("Hold Cancelled",data.message,true);$("#overDriveHold_"+overdriveId).hide()}else{VuFind.showMessage("Error Cancelling Hold",data.message,false)}},dataType:"json",async:false,error:function(){VuFind.showMessage("Error Cancelling Hold","An error occurred processing your request in OverDrive.  Please try again in a few minutes.",false)}})}return false},getOverDriveCheckoutPrompts:function(overDriveId){var url=Globals.path+"/OverDrive/"+overDriveId+"/AJAX?method=GetOverDriveCheckoutPrompts";var result=true;$.ajax({url:url,cache:false,success:function(data){result=data;if(data.promptNeeded){VuFind.showMessageWithButtons(data.promptTitle,data.prompts,data.buttons)}},dataType:"json",async:false,error:function(){alert("An error occurred processing your request in OverDrive.  Please try again in a few minutes.");VuFind.closeLightbox()}});return result},checkOutOverDriveTitle:function(overDriveId){if(Globals.loggedIn){var promptInfo=VuFind.OverDrive.getOverDriveCheckoutPrompts(overDriveId,"hold");if(!promptInfo.promptNeeded){VuFind.OverDrive.doOverDriveCheckout(promptInfo.patronId,overDriveId)}}else{VuFind.Account.ajaxLogin(null,function(){VuFind.OverDrive.checkOutOverDriveTitle(overDriveId)})}return false},processOverDriveCheckoutPrompts:function(){var overdriveCheckoutPromptsForm=$("#overdriveCheckoutPromptsForm");var patronId=$("#patronId").val();var overdriveId=overdriveCheckoutPromptsForm.find("input[name=overdriveId]").val();VuFind.OverDrive.doOverDriveCheckout(patronId,overdriveId)},doOverDriveCheckout:function(patronId,overdriveId){if(Globals.loggedIn){var ajaxUrl=Globals.path+"/OverDrive/AJAX?method=CheckoutOverDriveItem&patronId="+patronId+"&overDriveId="+overdriveId;$.ajax({url:ajaxUrl,cache:false,success:function(data){if(data.success==true){VuFind.showMessageWithButtons("Title Checked Out Successfully",data.message,data.buttons)}else{if(data.noCopies==true){VuFind.closeLightbox();ret=confirm(data.message);if(ret==true){VuFind.OverDrive.placeOverDriveHold(overdriveId,null)}}else{VuFind.showMessage("Error Checking Out Title",data.message,false)}}},dataType:"json",async:false,error:function(){alert("An error occurred processing your request in OverDrive.  Please try again in a few minutes.");hideLightbox()}})}else{VuFind.Account.ajaxLogin(null,function(){VuFind.OverDrive.checkoutOverDriveItem(overdriveId)},false)}return false},doOverDriveHold:function(patronId,overDriveId,overdriveEmail,promptForOverdriveEmail){var url=Globals.path+"/OverDrive/AJAX?method=PlaceOverDriveHold&patronId="+patronId+"&overDriveId="+overDriveId+"&overdriveEmail="+overdriveEmail+"&promptForOverdriveEmail="+promptForOverdriveEmail;$.ajax({url:url,cache:false,success:function(data){if(data.availableForCheckout){VuFind.OverDrive.checkoutOverDriveItemOneClick(overdriveId)}else{VuFind.showMessage("Placed Hold",data.message,true)}},dataType:"json",async:false,error:function(){VuFind.showMessage("Error Placing Hold","An error occurred processing your request in OverDrive.  Please try again in a few minutes.",false)}})},followOverDriveDownloadLink:function(patronId,overDriveId,formatId){var ajaxUrl=Globals.path+"/OverDrive/AJAX?method=GetDownloadLink&patronId="+patronId+"&overDriveId="+overDriveId+"&formatId="+formatId;$.ajax({url:ajaxUrl,cache:false,success:function(data){if(data.success){var win=window.open(data.downloadUrl,"_blank");win.focus()}else{alert(data.message)}},dataType:"json",async:false,error:function(){alert("An error occurred processing your request in OverDrive.  Please try again in a few minutes.");hideLightbox()}})},forceUpdateFromAPI:function(overDriveId){var url=Globals.path+"/OverDrive/"+overDriveId+"/AJAX?method=forceUpdateFromAPI";$.getJSON(url,function(data){VuFind.showMessage("Success",data.message,true,true);setTimeout("VuFind.closeLightbox();",3e3)});return false},getOverDriveHoldPrompts:function(overDriveId){var url=Globals.path+"/OverDrive/"+overDriveId+"/AJAX?method=GetOverDriveHoldPrompts";var result=true;$.ajax({url:url,cache:false,success:function(data){result=data;if(data.promptNeeded){VuFind.showMessageWithButtons(data.promptTitle,data.prompts,data.buttons)}},dataType:"json",async:false,error:function(){alert("An error occurred processing your request in OverDrive.  Please try again in a few minutes.");VuFind.closeLightbox()}});return result},placeOverDriveHold:function(overDriveId){if(Globals.loggedIn){var promptInfo=VuFind.OverDrive.getOverDriveHoldPrompts(overDriveId,"hold");if(!promptInfo.promptNeeded){VuFind.OverDrive.doOverDriveHold(promptInfo.patronId,overDriveId,promptInfo.overdriveEmail,promptInfo.promptForOverdriveEmail)}}else{VuFind.Account.ajaxLogin(null,function(){VuFind.OverDrive.placeOverDriveHold(overDriveId)})}return false},processOverDriveHoldPrompts:function(){var overdriveHoldPromptsForm=$("#overdriveHoldPromptsForm");var patronId=$("#patronId").val();var overdriveId=overdriveHoldPromptsForm.find("input[name=overdriveId]").val();var promptForOverdriveEmail;if(overdriveHoldPromptsForm.find("input[name=promptForOverdriveEmail]").is(":checked")){promptForOverdriveEmail=0}else{promptForOverdriveEmail=1}var overdriveEmail=overdriveHoldPromptsForm.find("input[name=overdriveEmail]").val();VuFind.OverDrive.doOverDriveHold(patronId,overdriveId,overdriveEmail,promptForOverdriveEmail)},returnOverDriveTitle:function(patronId,overDriveId,transactionId){if(confirm("Are you sure you want to return this title?")){VuFind.showMessage("Returning Title","Returning your title in OverDrive.  This may take a minute.");var ajaxUrl=Globals.path+"/OverDrive/AJAX?method=ReturnOverDriveItem&patronId="+patronId+"&overDriveId="+overDriveId+"&transactionId="+transactionId;$.ajax({url:ajaxUrl,cache:false,success:function(data){VuFind.showMessage("Title Returned",data.message);if(data.success){setTimeout(function(){VuFind.closeLightbox();window.location.href=window.location.href},3e3)}},dataType:"json",async:false,error:function(){VuFind.showMessage("Error Returning Title","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")}})}return false},selectOverDriveDownloadFormat:function(patronId,overDriveId){var selectedOption=$("#downloadFormat_"+overDriveId+" option:selected");var selectedFormatId=selectedOption.val();var selectedFormatText=selectedOption.text();if(selectedFormatId==-1){alert("Please select a format to download.")}else{if(confirm("Are you sure you want to download the "+selectedFormatText+" format? You cannot change format after downloading.")){var ajaxUrl=Globals.path+"/OverDrive/AJAX?method=SelectOverDriveDownloadFormat&patronId="+patronId+"&overDriveId="+overDriveId+"&formatId="+selectedFormatId;$.ajax({url:ajaxUrl,cache:false,success:function(data){if(data.success){window.location.href=data.downloadUrl}else{VuFind.showMessage("Error Selecting Format",data.message)}},dataType:"json",async:false,error:function(){VuFind.showMessage("Error Selecting Format","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")}})}}return false}}}(VuFind.OverDrive||{});
VuFind.Prospector=function(){return{getProspectorResults:function(prospectorNumTitlesToLoad,prospectorSavedSearchId){var url=Globals.path+"/Search/AJAX",params={method:"getProspectorResults",prospectorNumTitlesToLoad:prospectorNumTitlesToLoad,prospectorSavedSearchId:prospectorSavedSearchId};$.get(url,params,function(data){$("#prospectorSearchResultsPlaceholder").html(data)})},loadRelatedProspectorTitles:function(id){var url=Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"getProspectorInfo"};$.getJSON(url,params,function(data){if(data.numTitles===0){$("#prospectorPanel").hide()}else{$("#inProspectorPlaceholder").html(data.formattedData)}})},removeBlankThumbnail:function(imgElem,elemToHide,isForceRemove){var $img=$(imgElem);if($img.height()==1&&$img.width()==1||isForceRemove){$(elemToHide).remove()}}}}(VuFind.Prospector||{});
VuFind.Ratings=function(){$(function(){VuFind.Ratings.initializeRaters()});return{initializeRaters:function(){$(".rater").each(function(){var ratingElement=$(this),userRating=ratingElement.data("user_rating"),id=ratingElement.data("id"),options={id:id,rating:parseFloat(userRating>0?userRating:ratingElement.data("average_rating")),url:Globals.path+"/GroupedWork/"+encodeURIComponent(id)+"/AJAX"};ratingElement.rater(options)})},doRatingReview:function(id){$.getJSON(Globals.path+"/GroupedWork/"+id+"/AJAX?method=getPromptforReviewForm",function(data){if(data.prompt)VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons);if(data.error)VuFind.showMessage("Error",data.message)}).fail(VuFind.ajaxFail)},doNoRatingReviews:function(){$.getJSON(Globals.path+"/GroupedWork/AJAX?method=setNoMoreReviews",function(data){if(data.success)VuFind.showMessage("Success","You will no longer be asked to give a review.",true);else VuFind.showMessage("Error","Failed to save your setting.")}).fail(VuFind.ajaxFail)}}}(VuFind.Ratings);$.fn.rater=function(options){var opts=$.extend({},$.fn.rater.defaults,options);return this.each(function(){var $this=$(this),$on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");if(opts.size==undefined)opts.size=$off.height();if(opts.rating==undefined){opts.rating=$on.width()/$off.width()}else{$on.width($off.width()*(opts.rating/opts.ratings.length))}if(opts.id==undefined)opts.id=$this.attr("id");var initialRating=opts.rating;if(!$this.hasClass("ui-rater-bindings-done")){$this.addClass("ui-rater-bindings-done");$off.mousemove(function(e){var left=e.clientX-$off.offset().left,width=$off.width()-($off.width()-left);width=Math.min(Math.ceil(width/(opts.size/opts.step))*opts.size/opts.step,opts.size*opts.ratings.length);$on.width(width);var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$this.attr("title",'Click to Rate "'+r+' stars"')}).hover(function(e){$on.addClass("ui-rater-starsHover")},function(e){$on.removeClass("ui-rater-starsHover");$on.width(initialRating*opts.size)}).click(function(e){var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$.fn.rater.rate($this,opts,r)}).css("cursor","pointer");$on.css("cursor","pointer")}})};$.fn.rater.defaults={url:location.href,ratings:["Hated It","Didn't Like It","Liked It","Really Liked It","Loved It"],step:1};$.fn.rater.rate=function($this,opts,rating){if(Globals.loggedIn){var $on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");$off.fadeTo(600,.4,function(){$.getJSON(opts.url,{method:"RateTitle",id:opts.id,rating:rating},function(data){if(data.error){VuFind.showMessage("Error",data.error);$off.fadeTo(500,1).mouseleave()}if(data.rating){opts.rating=data.rating;$off.fadeTo(600,.1,function(){$on.removeClass("ui-rater-starsHover").width(opts.rating*opts.size).addClass("userRated");$off.fadeTo(500,1);$this.attr("title","Your rating: "+rating.toFixed(1));if($this.data("show_review")==true){VuFind.Ratings.doRatingReview(opts.id)}})}}).fail(function(){VuFind.ajaxFail();$off.fadeTo(500,1).mouseleave()})})}else{VuFind.Account.ajaxLogin(null,function(){$.fn.rater.rate($this,opts,rating)},true)}};
VuFind.Account.ReadingHistory=function(){return{deletedMarkedAction:function(){if(confirm("The marked items will be irreversibly deleted from your reading history.  Proceed?")){$("#readingHistoryAction").val("deleteMarked");$("#readingListForm").submit()}return false},deleteAllAction:function(){if(confirm("Your entire reading history will be irreversibly deleted.  Proceed?")){$("#readingHistoryAction").val("deleteAll");$("#readingListForm").submit()}return false},optOutAction:function(){if(confirm("Opting out of Reading History will also delete your entire reading history irreversibly.  Proceed?")){$("#readingHistoryAction").val("optOut");$("#readingListForm").submit()}return false},optInAction:function(){$("#readingHistoryAction").val("optIn");$("#readingListForm").submit();return false},exportListAction:function(){$("#readingHistoryAction").val("exportToExcel");$("#readingListForm").submit();return false}}}(VuFind.Account.ReadingHistory||{});
VuFind.Record=function(){return{showPlaceHold:function(module,id){if(Globals.loggedIn){var source;var volume=null;if(id.indexOf(":")>0){var idParts=id.split(":");source=idParts[0];id=idParts[1];if(idParts.length>2){volume=idParts[2]}}else{source="ils"}var url=Globals.path+"/"+module+"/"+id+"/AJAX?method=getPlaceHoldForm&recordSource="+source;if(volume!=null){url+="&volume="+volume}$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Record.showPlaceHold(module,id)},false)}return false},showPlaceHoldEditions:function(module,id){if(Globals.loggedIn){var source;var volume=null;if(id.indexOf(":")>0){var idParts=id.split(":");source=idParts[0];id=idParts[1];if(idParts.length>2){volume=idParts[2]}}else{source="ils"}var url=Globals.path+"/"+module+"/"+id+"/AJAX?method=getPlaceHoldEditionsForm&recordSource="+source;if(volume!=null){url+="&volume="+volume}$.getJSON(url,function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Record.showPlaceHoldEditions(module,id)},false)}return false},showBookMaterial:function(module,id){if(Globals.loggedIn){VuFind.loadingMessage();if(id.indexOf(":")>0){var idParts=id.split(":",2);id=idParts[1]}$.getJSON(Globals.path+"/"+module+"/"+id+"/AJAX?method=getBookMaterialForm",function(data){VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(VuFind.ajaxFail)}else{VuFind.Account.ajaxLogin(null,function(){VuFind.Record.showBookMaterial(id)},false)}return false},submitBookMaterialForm:function(){var params=$("#bookMaterialForm").serialize();var module=$("#module").val();VuFind.showMessage("Scheduling","Processing, please wait.");$.getJSON(Globals.path+"/"+module+"/AJAX",params+"&method=bookMaterial",function(data){if(data.modalBody)VuFind.showMessageWithButtons(data.title,data.modalBody,data.modalButtons);if(data.success)VuFind.showMessage("Success",data.message);else if(data.message)VuFind.showMessage("Error",data.message)}).fail(VuFind.ajaxFail)},submitHoldForm:function(){var id=$("#id").val(),autoLogOut=$("#autologout").prop("checked"),selectedItem=$("#selectedItem"),module=$("#module").val(),volume=$("#volume"),params={method:"placeHold",campus:$("#campus").val(),selectedUser:$("#user").val(),canceldate:$("#canceldate").val(),recordSource:$("#recordSource").val(),account:$("#account").val()};if(autoLogOut){params["autologout"]=true}if(selectedItem.length>0){params["selectedItem"]=selectedItem.val()}if(volume.length>0){params["volume"]=volume.val()}if(params["campus"]=="undefined"){alert("Please select a location to pick up your hold when it is ready.");return false}$.getJSON(Globals.path+"/"+module+"/"+id+"/AJAX",params,function(data){if(data.success){if(data.needsItemLevelHold){$(".modal-body").html(data.message)}else{VuFind.showMessage("Hold Placed Successfully",data.message,false,autoLogOut)}}else{VuFind.showMessage("Hold Failed",data.message,false,autoLogOut)}}).fail(VuFind.ajaxFail)},reloadCover:function(module,id){var url=Globals.path+"/"+module+"/"+id+"/AJAX?method=reloadCover";$.getJSON(url,function(data){VuFind.showMessage("Success",data.message,true,true)}).fail(VuFind.ajaxFail);return false},forceReExtract:function(module,id){var url=Globals.path+"/"+module+"/"+id+"/AJAX?method=forceReExtract";$.getJSON(url,function(data){VuFind.showMessage(data.success?"Success":"Error",data.message,data.success,data.success)}).fail(VuFind.ajaxFail);return false},moreContributors:function(){document.getElementById("showAdditionalContributorsLink").style.display="none";document.getElementById("additionalContributors").style.display="block"},lessContributors:function(){document.getElementById("showAdditionalContributorsLink").style.display="block";document.getElementById("additionalContributors").style.display="none"}}}(VuFind.Record||{});
VuFind.Responsive=function(){$(function(){$("#lookfor","#home-page-search").on("keyup",function(event){$(this).height(0);if(this.scrollHeight<32){$(this).height(18)}else{$(this).height(this.scrollHeight)}}).keyup();$("#lookfor").on("keydown",function(event){if(event.which==13||event.which==10){event.preventDefault();event.stopPropagation();$("#searchForm").submit();return false}}).on("keypress",function(event){if(event.which==13||event.which==10){event.preventDefault();event.stopPropagation();return false}})});try{var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(mql){VuFind.Responsive.isPrint=mql.matches})}catch(err){}window.onbeforeprint=function(){VuFind.Responsive.isPrint=true};return{originalSidebarHeight:-1,adjustLayout:function(){var resolutionX=document.documentElement.clientWidth;if(resolutionX>=768&&!VuFind.Responsive.isPrint){var mainContentElement=$("#main-content-with-sidebar");var sidebarContentElem=$("#sidebar-content");if(VuFind.Responsive.originalSidebarHeight==-1){VuFind.Responsive.originalSidebarHeight=sidebarContentElem.height()}var heightToTest=sidebarContentElem.height();var maxHeight=Math.max(mainContentElement.height()+15,heightToTest);if(mainContentElement.height()+15!=maxHeight){mainContentElement.height(maxHeight)}if(sidebarContentElem.height()!=maxHeight){sidebarContentElem.height(maxHeight)}}}}}(VuFind.Responsive||{});
VuFind.ResultsList=function(){return{statusList:[],seriesList:[],addIdToSeriesList:function(isbn){this.seriesList[this.seriesList.length]=isbn},addIdToStatusList:function(id,type,useUnscopedHoldingsSummary){if(type==undefined){type="VuFind"}var idVal=[];idVal["id"]=id;idVal["useUnscopedHoldingsSummary"]=useUnscopedHoldingsSummary;idVal["type"]=type;this.statusList[this.statusList.length]=idVal},initializeDescriptions:function(){$(".descriptionTrigger").each(function(){var descElement=$(this),descriptionContentClass=descElement.data("content_class");options={html:true,trigger:"hover",title:"Description",content:VuFind.ResultsList.loadDescription(descriptionContentClass)};descElement.popover(options)})},lessFacets:function(name){$("#more"+name+",#narrowGroupHidden_"+name).toggle()},moreFacets:function(name){$("#more"+name+",#narrowGroupHidden_"+name).toggle()},loadDescription:function(descriptionContentClass){var contentHolder=$(descriptionContentClass);return contentHolder[0].innerHTML},moreFacetPopup:function(title,name){VuFind.showMessage(title,$("#moreFacetPopup_"+name).html())},toggleRelatedManifestations:function(manifestationId){$("#relatedRecordPopup_"+manifestationId).toggleClass("hidden");var manifestationToggle=$("#manifestation-toggle-"+manifestationId);manifestationToggle.toggleClass("collapsed");if(manifestationToggle.hasClass("collapsed")){manifestationToggle.html("+")}else{manifestationToggle.html("-")}return false}}}(VuFind.ResultsList||{});
VuFind.Searches=function(){$(function(){VuFind.Searches.enableSearchTypes();VuFind.Searches.initAutoComplete();if(!Globals.opac&&!Globals.loggedIn&&VuFind.hasLocalStorage()&&$('input[name="showCovers"]').length==0){var showCovers=window.localStorage.getItem("showCovers")||false;if(showCovers.length>0){$("<input>").attr({type:"hidden",name:"showCovers",value:showCovers}).appendTo("#searchForm")}}});return{searchGroups:[],curPage:1,displayMode:"list",displayModeClasses:{covers:"home-page-browse-thumbnails",list:""},getCombinedResults:function(fullId,shortId,source,searchTerm,searchType,numberOfResults){var url=Globals.path+"/Union/AJAX",params={method:"getCombinedResults",source:source,numberOfResults:numberOfResults,id:fullId,searchTerm:searchTerm,searchType:searchType,showCovers:$("#hideCovers").is(":checked")?"on":"off"};$.getJSON(url,params,function(data){if(data.success==false){VuFind.showMessage("Error loading results",data.error)}else{$("#combined-results-section-results-"+shortId).html(data.results)}}).fail(VuFind.ajaxFail);return false},combinedResultsDefinedOrder:[],reorderCombinedResults:function(){if($("#combined-results-column-0").is(":visible")){if($(".combined-results-column-0","#combined-results-column-0").length==0){$(".combined-results-column-0").detach().appendTo("#combined-results-column-0");$(".combined-results-column-1").detach().appendTo("#combined-results-column-1")}}else{if($(".combined-results-section","#combined-results-all-column").length==0){$.each(VuFind.Searches.combinedResultsDefinedOrder,function(i,id){el=$(id).parents(".combined-results-section").detach().appendTo("#combined-results-all-column")})}}return false},getPreferredDisplayMode:function(){if(!Globals.opac&&VuFind.hasLocalStorage()){temp=window.localStorage.getItem("searchResultsDisplayMode");if(VuFind.Searches.displayModeClasses.hasOwnProperty(temp)){VuFind.Searches.displayMode=temp;$('input[name="view"]',"#searchForm").val(VuFind.Searches.displayMode)}}},toggleDisplayMode:function(selectedMode){var mode=this.displayModeClasses.hasOwnProperty(selectedMode)?selectedMode:this.displayMode,searchBoxView=$('input[name="view"]',"#searchForm"),paramString=VuFind.replaceQueryParam("page","",VuFind.replaceQueryParam("view",mode));this.displayMode=mode;this.curPage=1;if(searchBoxView)searchBoxView.val(this.displayMode);if(!Globals.opac&&VuFind.hasLocalStorage()){window.localStorage.setItem("searchResultsDisplayMode",this.displayMode)}if(mode=="list")$("#hideSearchCoversSwitch").show();else $("#hideSearchCoversSwitch").hide();location.replace(location.pathname+paramString)},getMoreResults:function(){var url=Globals.path+"/Search/AJAX",params=VuFind.replaceQueryParam("page",this.curPage+1)+"&method=getMoreSearchResults",divClass=this.displayModeClasses[this.displayMode];params=VuFind.replaceQueryParam("view",this.displayMode,params);if(params.search(/[?;&]replacementTerm=/)!=-1){var searchTerm=location.search.split("replacementTerm=")[1].split("&")[0];params=VuFind.replaceQueryParam("lookfor",searchTerm,params)}$.getJSON(url+params,function(data){if(data.success==false){VuFind.showMessage("Error loading search information","Sorry, we were not able to retrieve additional results.")}else{var newDiv=$(data.records).hide();$("."+divClass).filter(":last").after(newDiv);newDiv.fadeIn("slow");if(data.lastPage)$("#more-browse-results").hide();else VuFind.Searches.curPage++}}).fail(VuFind.ajaxFail);return false},initAutoComplete:function(){try{$("#lookfor").autocomplete({source:function(request,response){var url=Globals.path+"/Search/AJAX",params={method:"GetAutoSuggestList",searchTerm:$("#lookfor").val()};$.getJSON(url,params,function(data){response(data)})},position:{my:"left top",at:"left bottom",of:"#lookfor",collision:"none"},minLength:4,delay:600})}catch(e){alert("error during autocomplete setup"+e)}},sendEmail:function(){if(Globals.loggedIn){var from=$("#from").val();var to=$("#to").val();var message=$("#message").val();var related_record=$("#related_record").val();var sourceUrl=window.location.href;var url=Globals.path+"/Search/AJAX";$.getJSON(url,{method:"sendEmail",from:from,to:to,message:message,sourceUrl:sourceUrl},function(data){if(data.result){VuFind.showMessage("Success",data.message)}else{VuFind.showMessage("Error",data.message)}})}return false},enableSearchTypes:function(){var searchTypeElement=$("#searchSource");var catalogType="catalog";if(searchTypeElement){var selectedSearchType=$(searchTypeElement.find(":selected"));if(selectedSearchType){catalogType=selectedSearchType.data("catalog_type")}}if(catalogType=="islandora"){$(".islandoraType").show();$(".catalogType,.genealogyType,.ebscoType").hide()}else if(catalogType=="genealogy"){$(".genealogyType").show();$(".catalogType,.islandoraType,.ebscoType").hide()}else if(catalogType=="ebsco"){$(".ebscoType").show();$(".catalogType,.islandoraType,.genealogyType").hide()}else{$(".catalogType").show();$(".genealogyType,.islandoraType,.ebscoType").hide()}},lastSpellingTimer:undefined,getSpellingSuggestion:function(query,process,isAdvanced){if(VuFind.Searches.lastSpellingTimer!=undefined){clearTimeout(VuFind.Searches.lastSpellingTimer);VuFind.Searches.lastSpellingTimer=undefined}var url=Globals.path+"/Search/AJAX?method=GetAutoSuggestList&searchTerm="+query;if(isAdvanced){}VuFind.Searches.lastSpellingTimer=setTimeout(function(){$.get(url,function(data){process(data)},"json")},500)},processSearchForm:function(){var searchSource=$("#searchSource");if(searchSource.val()=="existing"){$(".existingFilter").prop("checked",true);var originalSearchSource=$("#existing_search_option").data("original_type");searchSource.val(originalSearchSource)}},resetSearchType:function(){if($("#lookfor").val()==""){$("#searchSource").val($("#default_search_type").val())}return true},updateSearchTypes:function(catalogType,searchType,searchFormId){if(catalogType=="catalog"){$("#basicType").val(searchType);$("#genealogyType").remove();$("#islandoraType").remove();$("#ebscoType").remove()}else if(catalogType=="archive"){$("#islandoraType").val(searchType);$("#genealogyType").remove();$("#ebscoType").remove();$("#basicType").remove()}else if(catalogType=="ebsco"){$("#ebscoType").val(searchType);$("#genealogyType").remove();$("#islandoraType").remove();$("#basicType").remove()}else{$("#genealogyType").val(searchType);$("#basicType").remove();$("#islandoraType").remove();$("#ebscoType").remove()}$(searchFormId).submit();return false},filterAll:function(){$(".existingFilter").prop("checked",true)},loadExploreMoreBar:function(section,searchTerm){var url=Globals.path+"/Search/AJAX";var params="method=loadExploreMoreBar&section="+encodeURIComponent(section);params+="&searchTerm="+encodeURIComponent(searchTerm);var fullUrl=url+"?"+params;$.getJSON(fullUrl,function(data){if(data.success==true){$("#explore-more-bar-placeholder").html(data.exploreMoreBar);VuFind.initCarousels()}})}}}(VuFind.Searches||{});
function TitleScroller(scrollerId,scrollerShortName,container,autoScroll,style){this.scrollerTitles=[];this.currentScrollerIndex=0;this.numScrollerTitles=0;this.scrollerId=scrollerId;this.scrollerShortName=scrollerShortName;this.container=container;this.scrollInterval=0;this.swipeInterval=5;this.autoScroll=typeof autoScroll=="undefined"?false:autoScroll;this.style=typeof style=="undefined"?"horizontal":style}TitleScroller.prototype.loadTitlesFrom=function(jsonUrl){jsonUrl=decodeURIComponent(jsonUrl);var scroller=this,scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody");scrollerBody.hide();$("#titleScrollerSelectedTitle"+this.scrollerShortName+",#titleScrollerSelectedAuthor"+this.scrollerShortName).html("");$(".scrollerLoadingContainer").show();$.getJSON(jsonUrl,function(data){scroller.loadTitlesFromJsonData(data)}).error(function(){scrollerBody.html("Unable to load titles. Please try again later.").show();$(".scrollerLoadingContainer").hide()})};TitleScroller.prototype.loadTitlesFromJsonData=function(data){var scroller=this,scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody");try{if(data.error)throw{description:data.error};if(data.titles.length==0){scrollerBody.html("No titles were found for this list. Please try again later.");$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerLoadingContainer").hide();scrollerBody.show()}else{scroller.scrollerTitles=[];var i=0;$.each(data.titles,function(key,val){scroller.scrollerTitles[i++]=val});if(scroller.container&&data.titles.length>0){$("#"+scroller.container).fadeIn()}scroller.numScrollerTitles=data.titles.length;if(this.style=="horizontal"||this.style=="vertical"){scroller.currentScrollerIndex=data.currentIndex}else{scroller.currentScrollerIndex=0}TitleScroller.prototype.updateScroller.call(scroller)}}catch(err){if(scrollerBody!=null){scrollerBody.html("Error loading titles from data : '"+err.description+"' Please try again later.").show();$(".scrollerLoadingContainer").hide()}}};TitleScroller.prototype.updateScroller=function(){var scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody");try{var scrollerBodyContents="",curScroller=this;if(this.style=="horizontal"){for(var i in this.scrollerTitles){scrollerBodyContents+=this.scrollerTitles[i]["formattedTitle"]}scrollerBody.html(scrollerBodyContents).width(this.scrollerTitles.length*300).waitForImages(function(){TitleScroller.prototype.finishLoadingScroller.call(curScroller)})}else if(this.style=="vertical"){for(var j in this.scrollerTitles){scrollerBodyContents+=this.scrollerTitles[j]["formattedTitle"]}scrollerBody.html(scrollerBodyContents).height(this.scrollerTitles.length*131).waitForImages(function(){TitleScroller.prototype.finishLoadingScroller.call(curScroller)})}else if(this.style=="text-list"){for(var i in this.scrollerTitles){scrollerBodyContents+=this.scrollerTitles[i]["formattedTextOnlyTitle"]}scrollerBody.html(scrollerBodyContents).height(this.scrollerTitles.length*40);TitleScroller.prototype.finishLoadingScroller.call(curScroller)}else{this.currentScrollerIndex=0;scrollerBody.html(this.scrollerTitles[this.currentScrollerIndex]["formattedTitle"]);TitleScroller.prototype.finishLoadingScroller.call(this)}}catch(err){alert("error in updateScroller for scroller "+this.scrollerId+" "+err.description);scrollerBody.html("Error loading titles from data: '"+err+"' Please try again later.").show();$(".scrollerLoadingContainer").hide()}};TitleScroller.prototype.finishLoadingScroller=function(){$(".scrollerLoadingContainer").hide();$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody").show();TitleScroller.prototype.activateCurrentTitle.call(this);var curScroller=this;$(".scrollerTitle").bind("mouseover",{scroller:curScroller},function(){curScroller.hovered=true}).bind("mouseout",{scroller:curScroller},function(){curScroller.hovered=false});curScroller.hovered=false;if(this.autoScroll&&this.scrollInterval==0){this.scrollInterval=setInterval(function(){if(!curScroller.hovered){curScroller.scrollToRight()}},5e3)}};TitleScroller.prototype.scrollToRight=function(){this.currentScrollerIndex++;if(this.currentScrollerIndex>this.numScrollerTitles-1)this.currentScrollerIndex=0;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.scrollToLeft=function(){this.currentScrollerIndex--;if(this.currentScrollerIndex<0)this.currentScrollerIndex=this.numScrollerTitles-1;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeToRight=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex-=customSwipeInterval;if(this.currentScrollerIndex<0)this.currentScrollerIndex=this.numScrollerTitles-1;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeToLeft=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex+=customSwipeInterval;if(this.currentScrollerIndex>this.numScrollerTitles-1)this.currentScrollerIndex=0;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeUp=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex-=customSwipeInterval;if(this.currentScrollerIndex<0)this.currentScrollerIndex=this.numScrollerTitles-1;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeDown=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex+=customSwipeInterval;if(this.currentScrollerIndex>this.numScrollerTitles-1)this.currentScrollerIndex=0;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.activateCurrentTitle=function(){if(this.numScrollerTitles==0){return}var scrollerTitles=this.scrollerTitles,scrollerShortName=this.scrollerShortName,currentScrollerIndex=this.currentScrollerIndex,scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody"),scrollerTitleId="#scrollerTitle"+this.scrollerShortName+currentScrollerIndex;$("#tooltip").hide();if(this.style=="horizontal"){$("#titleScrollerSelectedTitle"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["title"]);$("#titleScrollerSelectedAuthor"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["author"]);if($(scrollerTitleId).length!=0){var widthItemsLeft=$(scrollerTitleId).position().left,widthCurrent=$(scrollerTitleId).width(),containerWidth=$("#"+this.scrollerId+" .scrollerBodyContainer").width(),leftPosition=-(widthItemsLeft+widthCurrent/2-containerWidth/2);scrollerBody.animate({left:leftPosition+"px"},400,function(){for(var i in scrollerTitles){var scrollerTitleId2="#scrollerTitle"+scrollerShortName+i;$(scrollerTitleId2).removeClass("selected")}$(scrollerTitleId).addClass("selected")})}}else if(this.style=="vertical"){$("#titleScrollerSelectedTitle"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["title"]);$("#titleScrollerSelectedAuthor"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["author"]);if($(scrollerTitleId).length!=0){var relativeTopOfElement=$(scrollerTitleId).position().top,topPosition=25-relativeTopOfElement;scrollerBody.animate({top:topPosition+"px"},400,function(){for(var i in scrollerTitles){var scrollerTitleId2="#scrollerTitle"+scrollerShortName+i;$(scrollerTitleId2).removeClass("selected")}$(scrollerTitleId).addClass("selected")})}}else if(this.style=="text-list"){}else{$("#titleScrollerSelectedTitle"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["title"]);$("#titleScrollerSelectedAuthor"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["author"]);scrollerBody.left="0px";scrollerBody.html(this.scrollerTitles[currentScrollerIndex]["formattedTitle"])}};(function($){$.fn.waitForImages=function(finishedCallback,eachCallback){eachCallback=eachCallback||function(){};if(!$.isFunction(finishedCallback)||!$.isFunction(eachCallback)){throw{name:"invalid_callback",message:"An invalid callback was supplied."}}var objs=$(this),allImgs=objs.find("img"),allImgsLength=allImgs.length,allImgsLoaded=0;if(allImgsLength==0){finishedCallback.call(this)}else{setTimeout(function(){finishedCallback.call(this)},1e4)}return objs.each(function(){var obj=$(this),imgs=obj.find("img");if(imgs.length==0){return}imgs.each(function(){var image=new Image,imgElement=this;image.onload=function(){allImgsLoaded++;eachCallback.call(imgElement,allImgsLoaded,allImgsLength);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0])}return false};image.onabort=function(){allImgsLoaded++;eachCallback.call(imgElement,allImgsLoaded,allImgsLength);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0])}return false};image.onerror=function(){allImgsLoaded++;eachCallback.call(imgElement,allImgsLoaded,allImgsLength);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0])}return false};image.src=this.src})})}})(jQuery);
VuFind.Wikipedia=function(){return{getWikipediaArticle:function(articleName){var url=Globals.path+"/Author/AJAX?method=getWikipediaData&articleName="+articleName;$.getJSON(url,function(data){if(data.success)$("#wikipedia_placeholder").html(data.formatted_article).fadeIn()})}}}(VuFind.Wikipedia);
