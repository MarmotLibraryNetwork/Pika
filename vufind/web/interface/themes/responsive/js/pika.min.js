/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.5.1",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(D).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,j=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ae(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,Ce)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=Te.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click",Ce),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){S.event.remove(this,e,n,t)})}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function Pe(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&De.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Pe(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Le)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,He),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(je,""),u,l))}return n}function Re(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Oe(o[r],a[r]);else Oe(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},We=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Fe=new RegExp(ne.join("|"),"i");function Be(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ie(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Me.test(a)&&Fe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=3<parseInt(r.height),re.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ze=E.createElement("div").style,Ue={};function Xe(e){var t=S.cssProps[e]||Ue[e];return t||(e in ze?e:Ue[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=_e.length;while(n--)if((e=_e[n]+t)in ze)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Ie(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ge.test(t),l=e.style;if(u||(t=Xe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ge.test(t)||(t=Xe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ve.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):We(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Ie(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",y.checkOn=""!==rt.value,y.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",y.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(P)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))});if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))});if(!arguments.length)return this.attr("class","");if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=mt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=yt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+vt(yt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:vt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Dt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)Dt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)Dt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var jt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Bt(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Bt(Rt,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ot.test(v.type),f=v.url.replace(qt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(jt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Et.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+It+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Bt(Mt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();y.cors=!!zt&&"withCredentials"in zt,y.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(y.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t)return t=Be(e,n),Me.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});



(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}})(function($){$.ui=$.ui||{};var version=$.ui.version="1.12.1";var widgetUuid=0;var widgetSlice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove")}}catch(e){}}orig(elems)}}($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype;var proxiedPrototype={};var namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}if($.isArray(prototype)){prototype=$.extend.apply(null,[{}].concat(prototype))}$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element)}if(arguments.length){this._createWidget(options,element)}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base;basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return}proxiedPrototype[prop]=function(){function _super(){return base.prototype[prop].apply(this,arguments)}function _superApply(args){return base.prototype[prop].apply(this,args)}return function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue}}()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else{base._childConstructors.push(constructor)}$.widget.bridge(name,constructor);return constructor};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value)}else{target[key]=value}}}}return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string";var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall){if(!this.length&&options==="instance"){returnValue=undefined}else{this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false}if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'")}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance")}methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false}})}}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args))}this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init()}}else{$.data(this,fullName,new object(options,this))}})}return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy()}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0){return $.widget.extend({},this.options)}if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key]}curOption[key]=value}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key]}options[key]=value}}this._setOptions(options);return this},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key])}return this},_setOption:function(key,value){if(key==="classes"){this._setOptionClasses(value)}this.options[key]=value;if(key==="disabled"){this._setOptionDisabled(value)}return this},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||!currentElements.length){continue}elements=$(currentElements.get());this._removeClass(currentElements,classKey);elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}))}},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value);if(value){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add){current=$($.unique(current.get().concat(options.element.get())))}else{current=$(current.not(options.element).get())}that.classesElementLookup[classes[i]]=current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]]){full.push(options.classes[classes[i]])}}}this._on(options.element,{remove:"_untrackClassesElement"});if(options.keys){processClassString(options.keys.match(/\S+/g)||[],true)}if(options.extra){processClassString(options.extra.match(/\S+/g)||[])}return full.join(" ")},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1){that.classesElementLookup[key]=$(value.not(event.target).get())}})},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,false)},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,true)},_toggleClass:function(element,keys,extra,add){add=typeof add==="boolean"?add:extra;var shift=typeof element==="string"||element===null,options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),add);return this},_on:function(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return}return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++}var match=event.match(/^([\w:-]*)\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector){delegateElement.on(eventName,selector,handlerProxy)}else{element.on(eventName,handlerProxy)}})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.off(eventName).off(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover")},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus")},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop]}}}this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options}}var hasOptions;var effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options}}hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay)}if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options)}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback)}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0])}next()})}}});var widget=$.widget;(function(){var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}}if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}}if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}}return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth}var w1,w2,div=$("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth}div.remove();return cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||overflowX==="auto"&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY==="scroll"||overflowY==="auto"&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments)}options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top"}targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]}pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]});if(collision.length===1){collision[1]=collision[0]}if(options.at[0]==="right"){basePosition.left+=targetWidth}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2}if(options.at[1]==="bottom"){basePosition.top+=targetHeight}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2}atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth}else if(options.my[0]==="center"){position.left-=elemWidth/2}if(options.my[1]==="bottom"){position.top-=elemHeight}else if(options.my[1]==="center"){position.top-=elemHeight/2}position.left+=myOffset[0];position.top+=myOffset[1];collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center"}if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle"}if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal"}else{feedback.important="vertical"}options.using.call(this,props,feedback)}}elem.offset($.extend(position,{using:using}))})};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else if(overRight>0&&overLeft<=0){position.left=withinOffset}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth}else{position.left=withinOffset}}}else if(overLeft>0){position.left+=overLeft}else if(overRight>0){position.left-=overRight}else{position.left=max(position.left-collisionPosLeft,position.left)}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else if(overBottom>0&&overTop<=0){position.top=withinOffset}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight}else{position.top=withinOffset}}}else if(overTop>0){position.top+=overTop}else if(overBottom>0){position.top-=overBottom}else{position.top=max(position.top-collisionPosTop,position.top)}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments)}}}})();var position=$.ui.position;var data=$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])}});var disableSelection=$.fn.extend({disableSelection:function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(eventType+".ui-disableSelection",function(event){event.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});$.ui.focusable=function(element,hasTabindex){var map,mapName,img,focusableIfVisible,fieldset,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false}img=$("img[usemap='#"+mapName+"']");return img.length>0&&img.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(nodeName)){focusableIfVisible=!element.disabled;if(focusableIfVisible){fieldset=$(element).closest("fieldset")[0];if(fieldset){focusableIfVisible=!fieldset.disabled}}}else if("a"===nodeName){focusableIfVisible=element.href||hasTabindex}else{focusableIfVisible=hasTabindex}return focusableIfVisible&&$(element).is(":visible")&&visible($(element))};function visible(element){var visibility=element.css("visibility");while(visibility==="inherit"){element=element.parent();visibility=element.css("visibility")}return visibility!=="hidden"}$.extend($.expr[":"],{focusable:function(element){return $.ui.focusable(element,$.attr(element,"tabindex")!=null)}});var focusable=$.ui.focusable;var form=$.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):$(this[0].form)};var formResetMixin=$.ui.formResetMixin={_formResetHandler:function(){var form=$(this);setTimeout(function(){var instances=form.data("ui-form-reset-instances");$.each(instances,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return}var instances=this.form.data("ui-form-reset-instances")||[];if(!instances.length){this.form.on("reset.ui-form-reset",this._formResetHandler)}instances.push(this);this.form.data("ui-form-reset-instances",instances)},_unbindFormResetHandler:function(){if(!this.form.length){return}var instances=this.form.data("ui-form-reset-instances");instances.splice($.inArray(this,instances),1);if(instances.length){this.form.data("ui-form-reset-instances",instances)}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if($.fn.jquery.substring(0,3)==="1.7"){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0}if(margin){size-=parseFloat($.css(elem,"margin"+this))||0}});return size}$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this)}return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size)}return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px")})}});$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}var keycode=$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var escapeSelector=$.ui.escapeSelector=function(){var selectorEscape=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(selector){return selector.replace(selectorEscape,"\\$1")}}();var labels=$.fn.labels=function(){var ancestor,selector,id,labels,ancestors;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels)}labels=this.eq(0).parents("label");id=this.attr("id");if(id){ancestor=this.eq(0).parents().last();ancestors=ancestor.add(ancestor.length?ancestor.siblings():this.siblings());selector="label[for='"+$.ui.escapeSelector(id)+"']";labels=labels.add(ancestors.find(selector).addBack(selector))}return this.pushStack(labels)};var scrollParent=$.fn.scrollParent=function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false}return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent};var tabbable=$.extend($.expr[":"],{tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),hasTabindex=tabIndex!=null;return(!hasTabindex||tabIndex>=0)&&$.ui.focusable(element,hasTabindex)}});var uniqueId=$.fn.extend({uniqueId:function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++uuid}})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id")}})}});var ie=$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var mouseHandled=false;$(document).on("mouseup",function(){mouseHandled=false});var widgetsMouse=$.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.on("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).on("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(event){if(mouseHandled){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(event);this._mouseDownEvent=event;var that=this,btnIsLeft=event.which===1,elIsCancel=typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false;if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(event)!==false;if(!this._mouseStarted){event.preventDefault();return true}}if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(event){return that._mouseMove(event)};this._mouseUpDelegate=function(event){return that._mouseUp(event)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event)}else if(!event.which){if(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(event)}}}if(event.which||event.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault()}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==false;this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)}return!this._mouseStarted},_mouseUp:function(event){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(event)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;mouseHandled=false;event.preventDefault()},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var plugin=$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return}if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return}for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args)}}}};var safeActiveElement=$.ui.safeActiveElement=function(document){var activeElement;try{activeElement=document.activeElement}catch(error){activeElement=document.body}if(!activeElement){activeElement=document.body}if(!activeElement.nodeName){activeElement=document.body}return activeElement};var safeBlur=$.ui.safeBlur=function(element){if(element&&element.nodeName.toLowerCase()!=="body"){$(element).trigger("blur")}};$.widget("ui.draggable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(event);if(!this.handle){return false}this._blurActiveElement(event);this._blockFrames(o.iframeFix===true?"iframe":o.iframeFix);return true},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(event){var activeElement=$.ui.safeActiveElement(this.document[0]),target=$(event.target);if(target.closest(activeElement).length){return}$.ui.safeBlur(activeElement)},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this._setContainment();if(this._trigger("start",event)===false){this._clear();return false}this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event)}return true},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top}},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp(new $.Event("mouseup",event));return false}this.position=ui.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event)}return false},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event)}if(this.dropped){dropped=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!dropped||this.options.revert==="valid"&&dropped||this.options.revert===true||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear()}})}else{if(this._trigger("stop",event)!==false){this._clear()}}return false},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event)}if(this.handleElement.is(event.target)){this.element.trigger("focus")}return $.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new $.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):o.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!helper.parents("body").length){helper.appendTo(o.appendTo==="parent"?this.element[0].parentNode:o.appendTo)}if(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative()}if(helper[0]!==this.element[0]&&!/(fixed|absolute)/.test(helper.css("position"))){helper.css("position","absolute")}return helper},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ")}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0}}if("left"in obj){this.offset.click.left=obj.left+this.margins.left}if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left}if("top"in obj){this.offset.click.top=obj.top+this.margins.top}if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top}},_isRootNode:function(element){return/(html|body)/i.test(element.tagName)||element===this.document[0]},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0}}return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return}if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment.constructor===Array){this.containment=o.containment;return}if(o.containment==="parent"){o.containment=this.helper[0].parentNode}c=$(o.containment);ce=c[0];if(!ce){return}isUserScrollable=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=c},_convertPositionTo:function(d,pos){if(!pos){pos=this.position}var mod=d==="absolute"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition==="fixed"?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top)*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition==="fixed"?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)*mod}},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else{containment=this.containment}if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left}if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top}if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left}if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top}}if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3]?top:top-this.offset.click.top>=containment[1]?top-o.grid[1]:top+o.grid[1]:top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2]?left:left-this.offset.click.left>=containment[0]?left-o.grid[0]:left+o.grid[0]:left}if(o.axis==="y"){pageX=this.originalPageX}if(o.axis==="x"){pageY=this.originalPageY}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo("absolute");ui.offset=this.positionAbs}return $.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger("activate",event,uiSortable)}})},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper}else{sortable.cancelHelperRemoval=true;sortable._trigger("deactivate",event,uiSortable)}})},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false}return innermostIntersecting})}if(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0]};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-sortable.offset.parent.top;draggable._trigger("toSortable",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions()});draggable.currentItem=draggable.element;sortable.fromOutside=draggable}if(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger("out",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove()}ui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger("fromSortable",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions()})}}})}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;if(t.css("cursor")){o._cursor=t.css("cursor")}t.css("cursor",o.cursor)},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$("body").css("cursor",o._cursor)}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("opacity")){o._opacity=t.css("opacity")}t.css("opacity",o.opacity)},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css("opacity",o._opacity)}}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false)}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset()}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if(i.overflowOffset.top+scrollParent.offsetHeight-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed}}if(!o.axis||o.axis!=="y"){if(i.overflowOffset.left+scrollParent.offsetWidth-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed)}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)}}if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed)}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)}}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event)}}});$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})}})},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}))}inst.snapElements[i].snapping=false;continue}if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top}if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top}if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left}if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left}}first=ts||bs||ls||rs;if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top}if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top}if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left}if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left}}if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}))}inst.snapElements[i].snapping=ts||bs||ls||rs||first}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(!group.length){return}min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i)});this.css("zIndex",min+group.length)}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("zIndex")){o._zIndex=t.css("zIndex")}t.css("zIndex",o.zIndex)},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex)}}});var widgetsDraggable=$.ui.draggable;$.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)};this.proportions=function(){if(arguments.length){proportions=arguments[0]}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(o.scope);o.addClasses&&this._addClass("ui-droppable")},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[];$.ui.ddmanager.droppables[scope].push(this)},_splice:function(drop){var i=0;for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1)}}},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop)},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value)}}else if(key==="scope"){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this._addToManager(value)}this._super(key,value)},_activate:function(event){var draggable=$.ui.ddmanager.current;this._addActiveClass();if(draggable){this._trigger("activate",event,this.ui(draggable))}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass();if(draggable){this._trigger("deactivate",event,this.ui(draggable))}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this._addHoverClass();this._trigger("over",event,this.ui(draggable))}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this._removeHoverClass();this._trigger("out",event,this.ui(draggable))}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)){childrenIntersection=true;return false}});if(childrenIntersection){return false}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",event,this.ui(draggable));return this.element}return false},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var intersect=$.ui.intersect=function(){function isOverAxis(x,reference,size){return x>=reference&&x<reference+size}return function(draggable,droppable,toleranceMode,event){if(!droppable.offset){return false}var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);default:return false}}}();$.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element)){continue}for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop}}m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue}if(type==="mousedown"){m[i]._activate.call(m[i],event)}m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight})}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&intersect(draggable,this,this.options.tolerance,event)){dropped=this._drop.call(this,event)||dropped}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this.isout=true;this.isover=false;this._deactivate.call(this,event)}});return dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").on("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}})},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var parentInstance,scope,parent,intersects=intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?"isout":intersects&&!this.isover?"isover":null;if(!c){return}if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope});if(parent.length){parentInstance=$(parent[0]).droppable("instance");parentInstance.greedyChild=c==="isover"}}if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event)}this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event)}})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").off("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event)}}};if($.uiBackCompat!==false){$.widget("ui.droppable",$.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}var widgetsDroppable=$.ui.droppable;$.widget("ui.resizable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseFloat(value)||0},_isNumber:function(value){return!isNaN(parseFloat(value))},_hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false}var scroll=a&&a==="left"?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true}el[scroll]=1;has=el[scroll]>0;el[scroll]=0;return has},_create:function(){var margins,o=this.options,that=this;this._addClass("ui-resizable");$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;margins={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(margins);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(margins);this._proportionallyResize()}this._setupHandles();if(o.autoHide){$(this.element).on("mouseenter",function(){if(o.disabled){return}that._removeClass("ui-resizable-autohide");that._handles.show()}).on("mouseleave",function(){if(o.disabled){return}if(!that.resizing){that._addClass("ui-resizable-autohide");that._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove()}this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this},_setOption:function(key,value){this._super(key,value);switch(key){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var o=this.options,handle,i,n,hname,axis,that=this;this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div>");this._addClass(axis,"ui-resizable-handle "+hname);axis.css({zIndex:o.zIndex});this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis)}}this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show()}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{mousedown:that._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize()}this._handles=this._handles.add(this.handles[i])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}that.axis=axis&&axis[1]?axis[1]:"se"}});if(o.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true}}return!this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css("left"));curtop=this._num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);this._addClass("ui-resizable-resizing");this._propagate("start",event);return true},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false}data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event)}data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger("resize",event,this.ui());this._applyChanges()}return false},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&/textarea/i.test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth};left=parseFloat(that.element.css("left"))+(that.position.left-that.originalPosition.left)||null;top=parseFloat(that.element.css("top"))+(that.position.top-that.originalPosition.top)||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}))}that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize()}}$("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){props.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){props.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){props.height=this.size.height+"px"}this.helper.css(props);return props},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth}if(pMinHeight>b.minHeight){b.minHeight=pMinHeight}if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth}if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight}}this._vBoundaries=b},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left}if(this._isNumber(data.top)){this.position.top=data.top}if(this._isNumber(data.height)){this.size.height=data.height}if(this._isNumber(data.width)){this.size.width=data.width}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=data.height*this.aspectRatio}else if(this._isNumber(data.width)){data.height=data.width/this.aspectRatio}if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null}if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width)}return data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=this._isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=this._isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=this._isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth}if(isminh){data.height=o.minHeight}if(ismaxw){data.width=o.maxWidth}if(ismaxh){data.height=o.maxHeight}if(isminw&&cw){data.left=dw-o.minWidth}if(ismaxw&&cw){data.left=dw-o.maxWidth}if(isminh&&ch){data.top=dh-o.minHeight}if(ismaxh&&ch){data.top=dh-o.maxHeight}if(!data.width&&!data.height&&!data.left&&data.top){data.top=null}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null}return data},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];for(;i<4;i++){widths[i]=parseFloat(borders[i])||0;widths[i]+=parseFloat(paddings[i])||0}return{height:widths[0]+widths[2],width:widths[1]+widths[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel)}prel.css({height:element.height()-this.outerDimensions.height||0,width:element.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);n!=="resize"&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseFloat(that.element.css("left"))+(that.position.left-that.originalPosition.left)||null,top=parseFloat(that.element.css("top"))+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseFloat(that.element.css("width")),height:parseFloat(that.element.css("height")),top:parseFloat(that.element.css("top")),left:parseFloat(that.element.css("left"))};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height})}that._updateCache(data);that._propagate("resize",event)}})}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(!ce){return}that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name))});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=that._hasScroll(ce,"left")?ce.scrollWidth:cw;height=that._hasScroll(ce)?ce.scrollHeight:ch;that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&/static/.test(ce.css("position"))){cop=co}if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left);if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false}that.position.left=o.helper?co.left:0}if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false}that.position.top=that._helper?co.top:0}isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top}woset=Math.abs(that.sizeDiff.width+(that._helper?that.offset.left-cop.left:that.offset.left-co.left));hoset=Math.abs(that.sizeDiff.height+(that._helper?that.offset.top-cop.top:that.offset.top-co.top));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false}}if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false}}if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height}},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&/relative/.test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}if(that._helper&&!o.animate&&/static/.test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css("left")),top:parseFloat(el.css("top"))})})},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null}});el.css(style)})},stop:function(){$(this).removeData("ui-resizable-alsoresize")}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0});that._addClass(that.ghost,"ui-resizable-ghost");if($.uiBackCompat!==false&&typeof that.options.ghost==="string"){that.ghost.addClass(this.options.ghost)}that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).resizable("instance");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})}},stop:function(){var that=$(this).resizable("instance");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0))}}});$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid;if(isMinWidth){newWidth+=gridX}if(isMinHeight){newHeight+=gridY}if(isMaxWidth){newWidth-=gridX}if(isMaxHeight){newHeight-=gridY}if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this)}if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight}if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth}}}});var widgetsResizable=$.ui.resizable;var widgetsSelectable=$.widget("ui.selectable",$.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var that=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){that.elementPos=$(that.element[0]).offset();that.selectees=$(that.options.filter,that.element[0]);that._addClass(that.selectees,"ui-selectee");that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),pos={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=$("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];this.elementPos=$(this.element[0]).offset();if(this.options.disabled){return}this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({left:event.pageX,top:event.pageY,width:0,height:0});if(options.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element})}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected");that._removeClass(selectee.$element,doSelect?"ui-unselecting":"ui-selected")._addClass(selectee.$element,doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element})}else{that._trigger("unselecting",event,{unselecting:selectee.element})}return false}})},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return}var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp}if(y1>y2){tmp=y2;y2=y1;y1=tmp}this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false,offset={};if(!selectee||selectee.element===that.element[0]){return}offset.left=selectee.left+that.elementPos.left;offset.right=selectee.right+that.elementPos.left;offset.top=selectee.top+that.elementPos.top;offset.bottom=selectee.bottom+that.elementPos.top;if(options.tolerance==="touch"){hit=!(offset.left>x2||offset.right<x1||offset.top>y2||offset.bottom<y1)}else if(options.tolerance==="fit"){hit=offset.left>x1&&offset.right<x2&&offset.top>y1&&offset.bottom<y2}if(hit){if(selectee.selected){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false}if(selectee.unselecting){that._removeClass(selectee.$element,"ui-unselecting");selectee.unselecting=false}if(!selectee.selecting){that._addClass(selectee.$element,"ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element})}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){that._removeClass(selectee.$element,"ui-selecting");selectee.selecting=false;that._addClass(selectee.$element,"ui-selected");selectee.selected=true}else{that._removeClass(selectee.$element,"ui-selecting");selectee.selecting=false;if(selectee.startselected){that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true}that._trigger("unselecting",event,{unselecting:selectee.element})}}if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element})}}}});return false},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element})});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-selecting")._addClass(selectee.$element,"ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element})});this._trigger("stop",event);this.helper.remove();return false}});var widgetsSortable=$.widget("ui.sortable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return x>=reference&&x<reference+size},_isFloating:function(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var that=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target)}if(!currentItem){return false}if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true}});if(!validHandle){return false}}this.currentItem=currentItem;this._removeCurrentsFromItems();return true},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this))}}if($.ui.ddmanager){$.ui.ddmanager.current=this}if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(event);return true},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(event.pageY-this.document.scrollTop()<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed)}else if(this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)}if(event.pageX-this.document.scrollLeft()<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed)}else if(this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed)}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue}if(item.instance!==this.currentContainer){continue}if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item)}else{break}this._trigger("change",event,this._uiHash());break}}this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event)}this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(event,noPropagation){if(!event){return}if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event)}if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else{this._clear(event,noPropagation)}return false},cancel:function(){if(this.dragging){this._mouseUp(new $.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem)}else{$(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[\-=_](.+)/);if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}});if(!str.length&&o.key){str.push(o.key+"=")}return str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")});return ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=this.options.axis==="x"||y1+dyClick>t&&y1+dyClick<b,isOverElementWidth=this.options.axis==="y"||x1+dxClick>l&&x1+dxClick<r,isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]){return isOverElement}else{return l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b}},_intersectsWithPointer:function(item){var verticalDirection,horizontalDirection,isOverElementHeight=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth;if(!isOverElement){return false}verticalDirection=this._getDragVerticalDirection();horizontalDirection=this._getDragHorizontalDirection();return this.floating?horizontalDirection==="right"||verticalDirection==="down"?2:1:verticalDirection&&(verticalDirection==="down"?2:1)},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return horizontalDirection==="right"&&isOverRightHalf||horizontalDirection==="left"&&!isOverRightHalf}else{return verticalDirection&&(verticalDirection==="down"&&isOverBottomHalf||verticalDirection==="up"&&!isOverBottomHalf)}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left")},refresh:function(event){this._refreshItems(event);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}}}}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function addItems(){items.push(this)}for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems)}return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false}}return true})},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst)}}}}for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}}},refreshPositions:function(fast){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue}t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight()}p=t.offset();item.left=p.left;item.top=p.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]);that._addClass(element,"ui-sortable-placeholder",className||that.currentItem[0].className)._removeClass(element,"ui-sortable-helper");if(nodeName==="tbody"){that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element))}else if(nodeName==="tr"){that._createTrPlaceholder(that.currentItem,element)}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"))}if(!className){element.css("visibility","hidden")}return element},update:function(container,p){if(className&&!o.forcePlaceholderSize){return}if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10))}if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10))}}}}that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder)},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr)})},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue}innermostContainer=this.containers[i];innermostIndex=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!innermostContainer){return}if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}}else{dist=1e4;itemWithLeastDistance=null;floating=innermostContainer.floating||this._isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";axis=floating?"pageX":"pageY";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue}if(this.items[j].item[0]===this.currentItem[0]){continue}cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(event[axis]-cur>this.items[j][sizeProperty]/2){nearBottom=true}if(Math.abs(event[axis]-cur)<dist){dist=Math.abs(event[axis]-cur);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down"}}if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[innermostIndex]){if(!this.currentContainer.containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash());this.currentContainer.containerCache.over=1}return}itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):o.helper==="clone"?this.currentItem.clone():this.currentItem;if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0])}if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width())}if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height())}return helper},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ")}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0}}if("left"in obj){this.offset.click.left=obj.left+this.margins.left}if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left}if("top"in obj){this.offset.click.top=obj.top+this.margins.top}if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie){po={top:0,left:0}}return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode}if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=$(ce).css("overflow")!=="hidden";this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position}var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left}if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top}if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left}if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top}}if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3]?top:top-this.offset.click.top>=this.containment[1]?top-o.grid[1]:top+o.grid[1]:top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2]?left:left-this.offset.click.left>=this.containment[0]?left-o.grid[0]:left+o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh)}})},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())})}if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())});delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer));delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer))}}function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!noPropagation){this._trigger("beforeStop",event,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event)}this._trigger("stop",event,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}});var widgetsMenu=$.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(event){event.preventDefault()},"click .ui-menu-item":function(event){var target=$(event.target);var active=$($.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true}if(target.has(".ui-menu").length){this.expand(event)}else if(!this.element.is(":focus")&&active.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return}var actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget);if(actualTarget[0]!==target[0]){return}this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(event,target)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item)}},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));if(notContained){this.collapseAll(event)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event)}this.mouseHandled=false}})},_destroy:function(){var items=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),submenus=items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled "+"tabIndex").removeUniqueId().show();submenus.children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-caret")){elem.remove()}})},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event)}break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";skip=false;character=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode);clearTimeout(this.filterTimer);if(character===prev){skip=true}else{character=prev+character}match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character)}if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else{delete this.previousFilter}}if(preventDefault){event.preventDefault()}},_activate:function(event){if(this.active&&!this.active.is(".ui-state-disabled")){if(this.active.children("[aria-haspopup='true']").length){this.expand(event)}else{this.select(event)}}},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("<span>").data("ui-menu-submenu-caret",true);that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon);item.attr("aria-haspopup","true").prepend(submenuCaret);menu.attr("aria-labelledby",item.attr("id"))});this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front");menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){that._addClass(item,"ui-menu-divider","ui-widget-content")}});newItems=items.not(".ui-menu-item, .ui-menu-divider");newWrappers=newItems.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(newItems,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper");items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){if(key==="icons"){var icons=this.element.find(".ui-menu-icon");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu)}this._super(key,value)},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",String(value));this._toggleClass(null,"ui-state-disabled",!!value)},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children(".ui-menu-item-wrapper");this._addClass(focused,null,"ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"))}activeParent=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(activeParent,null,"ui-state-active");if(event&&event.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}nested=item.children(".ui-menu");if(nested.length&&event&&/^mouse/.test(event.type)){this._startOpening(nested)}this.activeMenu=item.parent();this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset)}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight)}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer)}if(!this.active){return}this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",event,{item:this.active});this.active=null},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(submenu)},this.delay)},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element}this._close(currentMenu);this.blur(event);this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element}startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text())},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem)}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem)})}},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{next=this.active[direction+"All"](".ui-menu-item").eq(0)}}if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]()}this.focus(event,next)},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isLastItem()){return}if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0});this.focus(event,item)}else{this.focus(event,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isFirstItem()){return}if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0});this.focus(event,item)}else{this.focus(event,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true)}this._trigger("select",event,ui)},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()))})}});$.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element);this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return}suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event)}break;case keyCode.TAB:if(this.menu.active){this.menu.select(event)}break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term)}this.close(event);event.preventDefault()}break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault()}return}if(suppressKeyPressRepeat){return}var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return}this._searchTimeout(event)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(event);this._change(event)}});this._initSource();this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus")}})},menufocus:function(event,ui){var label,item;if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)});return}}item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value)}}label=ui.item.attr("aria-label")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$("<div>").text(label).appendTo(this.liveRegion)}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item})}if(false!==this._trigger("select",event,{item:item})){this._value(item.value)}this.term=this._value();this.close(event);this.selectedItem=item}});this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource()}if(key==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(key==="disabled"&&value&&this.xhr){this.xhr.abort()}},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target)},_closeOnClickOutside:function(event){if(!this._isEventTargetInWidget(event)){this.close()}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)}if(!element||!element[0]){element=this.element.closest(".ui-front, dialog")}if(!element.length){element=this.document[0].body}return element},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort()}that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}}else{this.source=this.options.source}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||equalValues&&!menuVisible&&!modifierKey){this.selectedItem=null;this.search(null,event)}},this.options.delay)},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event)}if(this._trigger("search",event)===false){return}return this._search(value)},_search:function(value){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content)}this.pending--;if(!this.pending){this._removeClass("ui-autocomplete-loading")}},this)},__response:function(content){if(content){content=this._normalize(content)}this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open")}else{this._close()}},close:function(event){this.cancelSearch=true;this._close(event)},_close:function(event){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event)}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem})}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items}return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item}}return $.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").append($("<div>").text(item.label)).appendTo(ul)},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return}if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine){this._value(this.term)}this.menu.blur();return}this.menu[direction](event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault()}},_isContentEditable:function(element){if(!element.length){return false}var editable=element.prop("contentEditable");if(editable==="inherit"){return this._isContentEditable(element.parent())}return editable==="true"}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(content&&content.length){message=this.options.messages.results(content.length)}else{message=this.options.messages.noResults}this.liveRegion.children().hide();$("<div>").text(message).appendTo(this.liveRegion)}});var widgetsAutocomplete=$.ui.autocomplete});
if(typeof jQuery==="undefined"){throw new Error("Bootstrap requires jQuery")}+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}}$.fn.emulateTransitionEnd=function(duration){var called=false,$el=this;$(this).one($.support.transition.end,function(){called=true});var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd()})}(jQuery);+function($){"use strict";var dismiss='[data-dismiss="alert"]';var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector);if(e)e.preventDefault();if(!$parent.length){$parent=$this.hasClass("alert")?$this:$this.parent()}$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.trigger("closed.bs.alert").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement()};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.alert");if(!data)$this.data("bs.alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})};$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery);+function($){"use strict";var Button=function(element,options){this.$element=$(element);this.options=$.extend({},Button.DEFAULTS,options)};Button.DEFAULTS={loadingText:"loading..."};Button.prototype.setState=function(state){var d="disabled";var $el=this.$element;var val=$el.is("input")?"val":"html";var data=$el.data();state=state+"Text";if(!data.resetText)$el.data("resetText",$el[val]());$el[val](data[state]||this.options[state]);setTimeout(function(){state=="loadingText"?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)};Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons"]');var changed=true;if($parent.length){var $input=this.$element.find("input");if($input.prop("type")==="radio"){if($input.prop("checked")&&this.$element.hasClass("active"))changed=false;else $parent.find(".active").removeClass("active")}if(changed)$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}if(changed)this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.button");var options=typeof option=="object"&&option;if(!data)$this.data("bs.button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})};$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var $btn=$(e.target);if(!$btn.hasClass("btn"))$btn=$btn.closest(".btn");$btn.button("toggle");e.preventDefault()})}(jQuery);+function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:true};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getActiveIndex();if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition.end){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||$active[type]();var isCycling=this.interval;var direction=type=="next"?"left":"right";var fallback=type=="next"?"first":"last";var that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}this.sliding=true;isCycling&&this.pause();var e=$.Event("slide.bs.carousel",{relatedTarget:$next[0],direction:direction});if($next.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid.bs.carousel",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})}if($.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(e);if(e.isDefaultPrevented())return;$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(e);if(e.isDefaultPrevented())return;$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger("slid.bs.carousel")}isCycling&&this.cycle();return this};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("bs.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})};$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var $this=$(this),href;var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;$target.carousel(options);if(slideIndex=$this.attr("data-slide-to")){$target.data("bs.carousel").to(slideIndex)}e.preventDefault()});$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(jQuery);+function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.transitioning=null;if(this.options.parent)this.$parent=$(this.options.parent);if(this.options.toggle)this.toggle()};Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide");hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("in")[dimension]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)};Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.collapse");var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})};$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var $this=$(this),href;var target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");var $target=$(target);var data=$target.data("bs.collapse");var option=data?"toggle":$this.data();var parent=$this.attr("data-parent");var $parent=parent&&$(parent);if(!data||!data.transitioning){if($parent)$parent.find('[data-toggle=collapse][data-parent="'+parent+'"]').not($this).addClass("collapsed");$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")}$target.collapse(option)})}(jQuery);+function($){"use strict";var backdrop=".dropdown-backdrop";var toggle="[data-toggle=dropdown]";var Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length){$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus)}$parent.trigger(e=$.Event("show.bs.dropdown"));if(e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown.bs.dropdown");$this.focus()}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).focus();return $this.click()}var $items=$("[role=menu] li:not(.divider):visible a",$parent);if(!$items.length)return;var index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).focus()};function clearMenus(){$(backdrop).remove();$(toggle).each(function(e){var $parent=getParent($(this));if(!$parent.hasClass("open"))return;$parent.trigger(e=$.Event("hide.bs.dropdown"));if(e.isDefaultPrevented())return;$parent.removeClass("open").trigger("hidden.bs.dropdown")})}function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.dropdown");if(!data)$this.data("bs.dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+", [role=menu]",Dropdown.prototype.keydown)}(jQuery);+function($){"use strict";var Modal=function(element,options){this.options=options;this.$element=$(element);this.$backdrop=this.isShown=null;if(this.options.remote)this.$element.load(this.options.remote)};Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this[!this.isShown?"show":"hide"](_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.escape();this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this));this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(document.body)}that.$element.show();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();$(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.focus()}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.removeBackdrop();that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(callback){callback()}};var old=$.fn.modal;$.fn.modal=function(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modal",data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})};$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault();$target.modal(option,this).one("hide",function(){$this.is(":visible")&&$this.focus()})});$(document).on("show.bs.modal",".modal",function(){$(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$(document.body).removeClass("modal-open")})}(jQuery);+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focus";var eventOut=trigger=="hover"?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);if(e.isDefaultPrevented())return;var $tip=this.tip();this.setContent();if(this.options.animation)$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent();var orgPlacement=placement;var docScroll=document.documentElement.scrollTop||document.body.scrollTop;var parentWidth=this.options.container=="body"?window.innerWidth:$parent.outerWidth();var parentHeight=this.options.container=="body"?window.innerHeight:$parent.outerHeight();var parentLeft=this.options.container=="body"?0:$parent.offset().left;placement=placement=="bottom"&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":placement=="top"&&pos.top-docScroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentWidth?"left":placement=="left"&&pos.left-actualWidth<parentLeft?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);this.$element.trigger("shown.bs."+this.type)}};Tooltip.prototype.applyPlacement=function(offset,placement){var replace;var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top=offset.top+marginTop;offset.left=offset.left+marginLeft;$tip.offset(offset).addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){replace=true;offset.top=offset.top+height-actualHeight}if(/bottom|top/.test(placement)){var delta=0;if(offset.left<0){delta=offset.left*-2;offset.left=0;$tip.offset(offset);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight}this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else{this.replaceArrow(actualHeight-height,actualHeight,"top")}if(replace)$tip.offset(offset)};Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")};Tooltip.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(){var that=this;var $tip=this.tip();var e=$.Event("hide.bs."+this.type);function complete(){if(that.hoverState!="in")$tip.detach()}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete();this.$element.trigger("hidden.bs."+this.type);return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)};Tooltip.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data)$this.data("bs.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery);+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content")[this.options.html?"html":"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};Popover.prototype.tip=function(){if(!this.$tip)this.$tip=$(this.options.template);return this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data)$this.data("bs.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})};$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery);+function($){"use strict";function ScrollSpy(element,options){var href;var process=$.proxy(this.process,this);this.$element=$(element).is("body")?$(window):$(element);this.$body=$("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",process);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=$([]);this.targets=$([]);this.activeTarget=null;this.refresh();this.process()}ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.refresh=function(){var offsetMethod=this.$element[0]==window?"offset":"position";this.offsets=$([]);this.targets=$([]);var self=this;var $targets=this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#\w/.test(href)&&$(href);return $href&&$href.length&&[[$href[offsetMethod]().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]);self.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var maxScroll=scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;$(this.selector).parents(".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate.bs.scrollspy")};var old=$.fn.scrollspy;$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})};$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(jQuery);+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.data("target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0];var e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var $target=$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active");var transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next();$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tab");
if(!data)$this.data("bs.tab",data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();$(this).tab("show")})}(jQuery);+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$window=$(window).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=this.unpin=null;this.checkPosition()};Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var scrollHeight=$(document).height();var scrollTop=this.$window.scrollTop();var position=this.$element.offset();var offset=this.options.offset;var offsetTop=offset.top;var offsetBottom=offset.bottom;if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top();if(typeof offsetBottom=="function")offsetBottom=offset.bottom();var affix=this.unpin!=null&&scrollTop+this.unpin<=position.top?false:offsetBottom!=null&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":offsetTop!=null&&scrollTop<=offsetTop?"top":false;if(this.affixed===affix)return;if(this.unpin)this.$element.css("top","");this.affixed=affix;this.unpin=affix=="bottom"?position.top-scrollTop:null;this.$element.removeClass(Affix.RESET).addClass("affix"+(affix?"-"+affix:""));if(affix=="bottom"){this.$element.offset({top:document.body.offsetHeight-offsetBottom-this.$element.height()})}};var old=$.fn.affix;$.fn.affix=function(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})};$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||{};if(data.offsetBottom)data.offset.bottom=data.offsetBottom;if(data.offsetTop)data.offset.top=data.offsetTop;$spy.affix(data)})})}(jQuery);
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}})(function($,undefined){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date;return UTCDate(today.getFullYear(),today.getMonth(),today.getDate())}function isUTCEquals(date1,date2){return date1.getUTCFullYear()===date2.getUTCFullYear()&&date1.getUTCMonth()===date2.getUTCMonth()&&date1.getUTCDate()===date2.getUTCDate()}function alias(method,deprecationMsg){return function(){if(deprecationMsg!==undefined){$.fn.datepicker.deprecated(deprecationMsg)}return this[method].apply(this,arguments)}}function isValidDate(d){return d&&!isNaN(d.getTime())}var DateArray=function(){var extras={get:function(i){return this.slice(i)[0]},contains:function(d){var val=d&&d.valueOf();for(var i=0,l=this.length;i<l;i++)if(0<=this[i].valueOf()-val&&this[i].valueOf()-val<1e3*60*60*24)return i;return-1},remove:function(i){this.splice(i,1)},replace:function(new_array){if(!new_array)return;if(!$.isArray(new_array))new_array=[new_array];this.clear();this.push.apply(this,new_array)},clear:function(){this.length=0},copy:function(){var a=new DateArray;a.replace(this);return a}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,extras);return a}}();var Datepicker=function(element,options){$.data(element,"datepicker",this);this._events=[];this._secondaryEvents=[];this._process_options(options);this.dates=new DateArray;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=$(element);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"):false;if(this.component&&this.component.length===0)this.component=false;this.isInline=!this.component&&this.element.is("div");this.picker=$(DPGlobal.template);if(this._check_template(this.o.templates.leftArrow)){this.picker.find(".prev").html(this.o.templates.leftArrow)}if(this._check_template(this.o.templates.rightArrow)){this.picker.find(".next").html(this.o.templates.rightArrow)}this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl")}if(this.o.calendarWeeks){this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(i,val){return Number(val)+1})}this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled});this._allow_update=false;this.setViewMode(this.o.startView);this._allow_update=true;this.fillDow();this.fillMonths();this.update();if(this.isInline){this.show()}};Datepicker.prototype={constructor:Datepicker,_resolveViewName:function(view){$.each(DPGlobal.viewModes,function(i,viewMode){if(view===i||$.inArray(view,viewMode.names)!==-1){view=i;return false}});return view},_resolveDaysOfWeek:function(daysOfWeek){if(!$.isArray(daysOfWeek))daysOfWeek=daysOfWeek.split(/[,\s]*/);return $.map(daysOfWeek,Number)},_check_template:function(tmp){try{if(tmp===undefined||tmp===""){return false}if((tmp.match(/[<>]/g)||[]).length<=0){return true}var jDom=$(tmp);return jDom.length>0}catch(ex){return false}},_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o);var lang=o.language;if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang])lang=defaults.language}o.language=lang;o.startView=this._resolveViewName(o.startView);o.minViewMode=this._resolveViewName(o.minViewMode);o.maxViewMode=this._resolveViewName(o.maxViewMode);o.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,o.startView));if(o.multidate!==true){o.multidate=Number(o.multidate)||false;if(o.multidate!==false)o.multidate=Math.max(0,o.multidate)}o.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=(o.weekStart+6)%7;var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity){if(!!o.startDate){if(o.startDate instanceof Date)o.startDate=this._local_to_utc(this._zero_time(o.startDate));else o.startDate=DPGlobal.parseDate(o.startDate,format,o.language,o.assumeNearbyYear)}else{o.startDate=-Infinity}}if(o.endDate!==Infinity){if(!!o.endDate){if(o.endDate instanceof Date)o.endDate=this._local_to_utc(this._zero_time(o.endDate));else o.endDate=DPGlobal.parseDate(o.endDate,format,o.language,o.assumeNearbyYear)}else{o.endDate=Infinity}}o.daysOfWeekDisabled=this._resolveDaysOfWeek(o.daysOfWeekDisabled||[]);o.daysOfWeekHighlighted=this._resolveDaysOfWeek(o.daysOfWeekHighlighted||[]);o.datesDisabled=o.datesDisabled||[];if(!$.isArray(o.datesDisabled)){o.datesDisabled=o.datesDisabled.split(",")}o.datesDisabled=$.map(o.datesDisabled,function(d){return DPGlobal.parseDate(d,format,o.language,o.assumeNearbyYear)});var plc=String(o.orientation).toLowerCase().split(/\s+/g),_plc=o.orientation.toLowerCase();plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word)});o.orientation={x:"auto",y:"auto"};if(!_plc||_plc==="auto");else if(plc.length===1){switch(plc[0]){case"top":case"bottom":o.orientation.y=plc[0];break;case"left":case"right":o.orientation.x=plc[0];break}}else{_plc=$.grep(plc,function(word){return/^left|right$/.test(word)});o.orientation.x=_plc[0]||"auto";_plc=$.grep(plc,function(word){return/^top|bottom$/.test(word)});o.orientation.y=_plc[0]||"auto"}if(o.defaultViewDate instanceof Date||typeof o.defaultViewDate==="string"){o.defaultViewDate=DPGlobal.parseDate(o.defaultViewDate,format,o.language,o.assumeNearbyYear)}else if(o.defaultViewDate){var year=o.defaultViewDate.year||(new Date).getFullYear();var month=o.defaultViewDate.month||0;var day=o.defaultViewDate.day||1;o.defaultViewDate=UTCDate(year,month,day)}else{o.defaultViewDate=UTCToday()}},_applyEvents:function(evs){for(var i=0,el,ch,ev;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]}el.on(ev,ch)}},_unapplyEvents:function(evs){for(var i=0,el,ev,ch;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]}el.off(ev,ch)}},_buildEvents:function(){var events={keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this),paste:$.proxy(this.paste,this)};if(this.o.showOnFocus===true){events.focus=$.proxy(this.show,this)}if(this.isInput){this._events=[[this.element,events]]}else if(this.component&&this.inputField.length){this._events=[[this.inputField,events],[this.component,{click:$.proxy(this.show,this)}]]}else{this._events=[[this.element,{click:$.proxy(this.show,this),keydown:$.proxy(this.keydown,this)}]]}this._events.push([this.element,"*",{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]);if(this.o.immediateUpdates){this._events.push([this.element,{"changeYear changeMonth":$.proxy(function(e){this.update(e.date)},this)}])}this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[this.picker,".prev, .next",{click:$.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:$.proxy(this.dayCellClick,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{"mousedown touchstart":$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1),local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,viewMode:this.viewMode,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){if(arguments.length===0){ix=this.dates.length-1;format=this.o.format}else if(typeof ix==="string"){format=ix;ix=this.dates.length-1}format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(){if(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===false)return;if(!this.isInline)this.picker.appendTo(this.o.container);this.place();this.picker.show();this._attachSecondaryEvents();this._trigger("show");if((window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard){$(this.element).blur()}return this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.setViewMode(this.o.startView);if(this.o.forceParse&&this.inputField.val())this.setValue();this._trigger("hide");return this},destroy:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}return this},paste:function(e){var dateString;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&$.inArray("text/plain",e.originalEvent.clipboardData.types)!==-1){dateString=e.originalEvent.clipboardData.getData("text/plain")}else if(window.clipboardData){dateString=window.clipboardData.getData("Text")}else{return}this.setDate(dateString);this.update();e.preventDefault()},_utc_to_local:function(utc){if(!utc){return utc}var local=new Date(utc.getTime()+utc.getTimezoneOffset()*6e4);if(local.getTimezoneOffset()!==utc.getTimezoneOffset()){local=new Date(utc.getTime()+local.getTimezoneOffset()*6e4)}return local},_local_to_utc:function(local){return local&&new Date(local.getTime()-local.getTimezoneOffset()*6e4)},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate())},_zero_utc_time:function(utc){return utc&&UTCDate(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate())},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var selected_date=this.dates.get(-1);if(selected_date!==undefined){return new Date(selected_date)}else{return null}},clearDates:function(){this.inputField.val("");this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,args);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.setDates.apply(this,$.map(args,this._utc_to_local));return this},setDate:alias("setDates"),setUTCDate:alias("setUTCDates"),remove:alias("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var formatted=this.getFormattedDate();this.inputField.val(formatted);return this},getFormattedDate:function(format){if(format===undefined)format=this.o.format;var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(startDate){this._process_options({startDate:startDate});this.update();this.updateNavArrows();return this},getEndDate:function(){return this.o.endDate},setEndDate:function(endDate){this._process_options({endDate:endDate});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled});this.update();return this},setDaysOfWeekHighlighted:function(daysOfWeekHighlighted){this._process_options({daysOfWeekHighlighted:daysOfWeekHighlighted});this.update();return this},setDatesDisabled:function(datesDisabled){this._process_options({datesDisabled:datesDisabled});this.update();return this},place:function(){if(this.isInline)return this;var calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,container=$(this.o.container),windowWidth=container.width(),scrollTop=this.o.container==="body"?$(document).scrollTop():container.scrollTop(),appendOffset=container.offset();var parentsZindex=[0];this.element.parents().each(function(){var itemZIndex=$(this).css("z-index");if(itemZIndex!=="auto"&&Number(itemZIndex)!==0)parentsZindex.push(Number(itemZIndex))});var zIndex=Math.max.apply(Math,parentsZindex)+this.o.zIndexOffset;var offset=this.component?this.component.parent().offset():this.element.offset();var height=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var width=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var left=offset.left-appendOffset.left;var top=offset.top-appendOffset.top;if(this.o.container!=="body"){top+=scrollTop}this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom "+"datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right")left-=calendarWidth-width}else{if(offset.left<0){this.picker.addClass("datepicker-orient-left");left-=offset.left-visualPadding}else if(left+calendarWidth>windowWidth){this.picker.addClass("datepicker-orient-right");left+=width-calendarWidth}else{if(this.o.rtl){this.picker.addClass("datepicker-orient-right")}else{this.picker.addClass("datepicker-orient-left")}}}var yorient=this.o.orientation.y,top_overflow;if(yorient==="auto"){top_overflow=-scrollTop+top-calendarHeight;yorient=top_overflow<0?"bottom":"top"}this.picker.addClass("datepicker-orient-"+yorient);if(yorient==="top")top-=calendarHeight+parseInt(this.picker.css("padding-top"));else top+=height;if(this.o.rtl){var right=windowWidth-(left+width);this.picker.css({top:top,right:right,zIndex:zIndex})}else{this.picker.css({top:top,left:left,zIndex:zIndex})}return this},_allow_update:true,update:function(){if(!this._allow_update)return this;var oldDates=this.dates.copy(),dates=[],fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,date){if(date instanceof Date)date=this._local_to_utc(date);dates.push(date)},this));fromArgs=true}else{dates=this.isInput?this.element.val():this.element.data("date")||this.inputField.val();if(dates&&this.o.multidate)dates=dates.split(this.o.multidateSeparator);else dates=[dates];delete this.element.data().date}dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language,this.o.assumeNearbyYear)},this));dates=$.grep(dates,$.proxy(function(date){return!this.dateWithinRange(date)||!date},this),true);this.dates.replace(dates);if(this.o.updateViewDate){if(this.dates.length)this.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDate);else this.viewDate=this.o.defaultViewDate}if(fromArgs){this.setValue();this.element.change()}else if(this.dates.length){if(String(oldDates)!==String(this.dates)&&fromArgs){this._trigger("changeDate");this.element.change()}}if(!this.dates.length&&oldDates.length){this._trigger("clearDate");this.element.change()}this.fill();return this},fillDow:function(){if(this.o.showWeekDays){var dowCnt=this.o.weekStart,html="<tr>";if(this.o.calendarWeeks){html+='<th class="cw">&#160;</th>'}while(dowCnt<this.o.weekStart+7){html+='<th class="dow';if($.inArray(dowCnt,this.o.daysOfWeekDisabled)!==-1)html+=" disabled";html+='">'+dates[this.o.language].daysMin[dowCnt++%7]+"</th>"}html+="</tr>";this.picker.find(".datepicker-days thead").append(html)}},fillMonths:function(){var localDate=this._utc_to_local(this.viewDate);var html="";var focused;for(var i=0;i<12;i++){focused=localDate&&localDate.getMonth()===i?" focused":"";html+='<span class="month'+focused+'">'+dates[this.o.language].monthsShort[i]+"</span>"}this.picker.find(".datepicker-months td").html(html)},setRange:function(range){if(!range||!range.length)delete this.range;else this.range=$.map(range,function(d){return d.valueOf()});this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=UTCToday();if(date.getUTCFullYear()<year||date.getUTCFullYear()===year&&date.getUTCMonth()<month){cls.push("old")}else if(date.getUTCFullYear()>year||date.getUTCFullYear()===year&&date.getUTCMonth()>month){cls.push("new")}if(this.focusDate&&date.valueOf()===this.focusDate.valueOf())cls.push("focused");if(this.o.todayHighlight&&isUTCEquals(date,today)){cls.push("today")}if(this.dates.contains(date)!==-1)cls.push("active");if(!this.dateWithinRange(date)){cls.push("disabled")}if(this.dateIsDisabled(date)){cls.push("disabled","disabled-date")}if($.inArray(date.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1){cls.push("highlighted")}if(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1]){cls.push("range")}if($.inArray(date.valueOf(),this.range)!==-1){cls.push("selected")}if(date.valueOf()===this.range[0]){cls.push("range-start")}if(date.valueOf()===this.range[this.range.length-1]){cls.push("range-end")}}return cls},_fill_yearsView:function(selector,cssClass,factor,year,startYear,endYear,beforeFn){var html="";var step=factor/10;var view=this.picker.find(selector);var startVal=Math.floor(year/factor)*factor;var endVal=startVal+step*9;var focusedVal=Math.floor(this.viewDate.getFullYear()/step)*step;var selected=$.map(this.dates,function(d){return Math.floor(d.getUTCFullYear()/step)*step});var classes,tooltip,before;for(var currVal=startVal-step;currVal<=endVal+step;currVal+=step){classes=[cssClass];tooltip=null;if(currVal===startVal-step){classes.push("old")}else if(currVal===endVal+step){classes.push("new")}if($.inArray(currVal,selected)!==-1){classes.push("active")}if(currVal<startYear||currVal>endYear){classes.push("disabled")}if(currVal===focusedVal){classes.push("focused")}if(beforeFn!==$.noop){before=beforeFn(new Date(currVal,0,1));if(before===undefined){before={}}else if(typeof before==="boolean"){before={enabled:before}}else if(typeof before==="string"){before={classes:before}}if(before.enabled===false){classes.push("disabled")}if(before.classes){classes=classes.concat(before.classes.split(/\s+/))}if(before.tooltip){tooltip=before.tooltip}}html+='<span class="'+classes.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+currVal+"</span>"}view.find(".datepicker-switch").text(startVal+"-"+endVal);view.find("td").html(html)},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,todaytxt=dates[this.o.language].today||dates["en"].today||"",cleartxt=dates[this.o.language].clear||dates["en"].clear||"",titleFormat=dates[this.o.language].titleFormat||dates["en"].titleFormat,todayDate=UTCToday(),titleBtnVisible=(this.o.todayBtn===true||this.o.todayBtn==="linked")&&todayDate>=this.o.startDate&&todayDate<=this.o.endDate&&!this.weekOfDateIsDisabled(todayDate),tooltip,before;if(isNaN(year)||isNaN(month))return;this.picker.find(".datepicker-days .datepicker-switch").text(DPGlobal.formatDate(d,titleFormat,this.o.language));this.picker.find("tfoot .today").text(todaytxt).css("display",titleBtnVisible?"table-cell":"none");this.picker.find("tfoot .clear").text(cleartxt).css("display",this.o.clearBtn===true?"table-cell":"none");this.picker.find("thead .datepicker-title").text(this.o.title).css("display",typeof this.o.title==="string"&&this.o.title!==""?"table-cell":"none");this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month,0),day=prevMonth.getUTCDate();prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);if(prevMonth.getUTCFullYear()<100){nextMonth.setUTCFullYear(prevMonth.getUTCFullYear())}nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var weekDay,clsName;while(prevMonth.valueOf()<nextMonth){weekDay=prevMonth.getUTCDay();if(weekDay===this.o.weekStart){html.push("<tr>");if(this.o.calendarWeeks){var ws=new Date(+prevMonth+(this.o.weekStart-weekDay-7)%7*864e5),th=new Date(Number(ws)+(7+4-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+"</td>")}}clsName=this.getClassNames(prevMonth);clsName.push("day");var content=prevMonth.getUTCDate();if(this.o.beforeShowDay!==$.noop){before=this.o.beforeShowDay(this._utc_to_local(prevMonth));if(before===undefined)before={};else if(typeof before==="boolean")before={enabled:before};else if(typeof before==="string")before={classes:before};if(before.enabled===false)clsName.push("disabled");if(before.classes)clsName=clsName.concat(before.classes.split(/\s+/));if(before.tooltip)tooltip=before.tooltip;if(before.content)content=before.content}if($.isFunction($.uniqueSort)){clsName=$.uniqueSort(clsName)}else{clsName=$.unique(clsName)}html.push('<td class="'+clsName.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+' data-date="'+prevMonth.getTime().toString()+'">'+content+"</td>");tooltip=null;if(weekDay===this.o.weekEnd){html.push("</tr>")}prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(html.join(""));var monthsTitle=dates[this.o.language].monthsTitle||dates["en"].monthsTitle||"Months";var months=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?monthsTitle:year).end().find("tbody span").removeClass("active");$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)months.eq(d.getUTCMonth()).addClass("active")});if(year<startYear||year>endYear){months.addClass("disabled")}if(year===startYear){months.slice(0,startMonth).addClass("disabled")}if(year===endYear){months.slice(endMonth+1).addClass("disabled")}if(this.o.beforeShowMonth!==$.noop){var that=this;$.each(months,function(i,month){var moDate=new Date(year,i,1);var before=that.o.beforeShowMonth(moDate);if(before===undefined)before={};else if(typeof before==="boolean")before={enabled:before};else if(typeof before==="string")before={classes:before};if(before.enabled===false&&!$(month).hasClass("disabled"))$(month).addClass("disabled");if(before.classes)$(month).addClass(before.classes);if(before.tooltip)$(month).prop("title",before.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,year,startYear,endYear,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,year,startYear,endYear,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,year,startYear,endYear,this.o.beforeShowCentury)},updateNavArrows:function(){if(!this._allow_update)return;var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,prevIsDisabled,nextIsDisabled,factor=1;switch(this.viewMode){case 4:factor*=10;case 3:factor*=10;case 2:factor*=10;case 1:prevIsDisabled=Math.floor(year/factor)*factor<=startYear;nextIsDisabled=Math.floor(year/factor)*factor+factor>endYear;break;case 0:prevIsDisabled=year<=startYear&&month<=startMonth;nextIsDisabled=year>=endYear&&month>=endMonth;break}this.picker.find(".prev").toggleClass("disabled",prevIsDisabled);this.picker.find(".next").toggleClass("disabled",nextIsDisabled)},click:function(e){e.preventDefault();e.stopPropagation();var target,dir,day,year,month;target=$(e.target);if(target.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode){this.setViewMode(this.viewMode+1)}if(target.hasClass("today")&&!target.hasClass("day")){this.setViewMode(0);this._setDate(UTCToday(),this.o.todayBtn==="linked"?null:"view")}if(target.hasClass("clear")){this.clearDates()}if(!target.hasClass("disabled")){if(target.hasClass("month")||target.hasClass("year")||target.hasClass("decade")||target.hasClass("century")){this.viewDate.setUTCDate(1);day=1;if(this.viewMode===1){month=target.parent().find("span").index(target);year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month)}else{month=0;year=Number(target.text());this.viewDate.setUTCFullYear(year)}this._trigger(DPGlobal.viewModes[this.viewMode-1].e,this.viewDate);if(this.viewMode===this.o.minViewMode){this._setDate(UTCDate(year,month,day))}else{this.setViewMode(this.viewMode-1);this.fill()}}}if(this.picker.is(":visible")&&this._focused_from){this._focused_from.focus()}delete this._focused_from},dayCellClick:function(e){var $target=$(e.currentTarget);var timestamp=$target.data("date");var date=new Date(timestamp);if(this.o.updateViewDate){if(date.getUTCFullYear()!==this.viewDate.getUTCFullYear()){this._trigger("changeYear",this.viewDate)}if(date.getUTCMonth()!==this.viewDate.getUTCMonth()){this._trigger("changeMonth",this.viewDate)}}this._setDate(date)},navArrowsClick:function(e){var $target=$(e.currentTarget);var dir=$target.hasClass("prev")?-1:1;if(this.viewMode!==0){dir*=DPGlobal.viewModes[this.viewMode].navStep*12}this.viewDate=this.moveMonth(this.viewDate,dir);this._trigger(DPGlobal.viewModes[this.viewMode].e,this.viewDate);this.fill()},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(!date){this.dates.clear()}if(ix!==-1){if(this.o.multidate===true||this.o.multidate>1||this.o.toggleActive){this.dates.remove(ix)}}else if(this.o.multidate===false){this.dates.clear();this.dates.push(date)}else{this.dates.push(date)}if(typeof this.o.multidate==="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(date,which){if(!which||which==="date")this._toggle_multidate(date&&new Date(date));if(!which&&this.o.updateViewDate||which==="view")this.viewDate=date&&new Date(date);this.fill();this.setValue();if(!which||which!=="view"){this._trigger("changeDate")}this.inputField.trigger("change");if(this.o.autoclose&&(!which||which==="date")){this.hide()}},moveDay:function(date,dir){var newDate=new Date(date);newDate.setUTCDate(date.getUTCDate()+dir);return newDate},moveWeek:function(date,dir){return this.moveDay(date,dir*7)},moveMonth:function(date,dir){if(!isValidDate(date))return this.o.defaultViewDate;if(!dir)return date;var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag===1){test=dir===-1?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month};new_month=month+dir;new_date.setUTCMonth(new_month);new_month=(new_month+12)%12}else{for(var i=0;i<mag;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!==new_date.getUTCMonth()}}while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},moveAvailableDate:function(date,dir,fn){do{date=this[fn](date,dir);if(!this.dateWithinRange(date))return false;fn="moveDay"}while(this.dateIsDisabled(date));return date},weekOfDateIsDisabled:function(date){return $.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(date){return this.weekOfDateIsDisabled(date)||$.grep(this.o.datesDisabled,function(d){return isUTCEquals(date,d)}).length>0},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible")){if(e.keyCode===40||e.keyCode===27){this.show();e.stopPropagation()}return}var dateChanged=false,dir,newViewDate,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide();e.preventDefault();e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;dir=e.keyCode===37||e.keyCode===38?-1:1;if(this.viewMode===0){if(e.ctrlKey){newViewDate=this.moveAvailableDate(focusDate,dir,"moveYear");if(newViewDate)this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){newViewDate=this.moveAvailableDate(focusDate,dir,"moveMonth");if(newViewDate)this._trigger("changeMonth",this.viewDate)}else if(e.keyCode===37||e.keyCode===39){newViewDate=this.moveAvailableDate(focusDate,dir,"moveDay")}else if(!this.weekOfDateIsDisabled(focusDate)){newViewDate=this.moveAvailableDate(focusDate,dir,"moveWeek")}}else if(this.viewMode===1){if(e.keyCode===38||e.keyCode===40){dir=dir*4}newViewDate=this.moveAvailableDate(focusDate,dir,"moveMonth")}else if(this.viewMode===2){if(e.keyCode===38||e.keyCode===40){dir=dir*4}newViewDate=this.moveAvailableDate(focusDate,dir,"moveYear")}if(newViewDate){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 13:if(!this.o.forceParse)break;focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;if(this.o.keyboardNavigation){this._toggle_multidate(focusDate);dateChanged=true}this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){e.preventDefault();e.stopPropagation();if(this.o.autoclose)this.hide()}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(dateChanged){if(this.dates.length)this._trigger("changeDate");else this._trigger("clearDate");this.inputField.trigger("change")}},setViewMode:function(viewMode){this.viewMode=viewMode;this.picker.children("div").hide().filter(".datepicker-"+DPGlobal.viewModes[this.viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date(this.viewDate))}};var DateRangePicker=function(element,options){$.data(element,"datepicker",this);this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i});delete options.inputs;this.keepEmptyValues=options.keepEmptyValues;delete options.keepEmptyValues;datepickerPlugin.call($(this.inputs),options).on("changeDate",$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $.data(i,"datepicker")});this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()});this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},clearDates:function(){$.each(this.pickers,function(i,p){p.clearDates()})},dateUpdated:function(e){if(this.updating)return;this.updating=true;var dp=$.data(e.target,"datepicker");if(dp===undefined){return}var new_date=dp.getUTCDate(),keep_empty_values=this.keepEmptyValues,i=$.inArray(e.target,this.inputs),j=i-1,k=i+1,l=this.inputs.length;if(i===-1)return;$.each(this.pickers,function(i,p){if(!p.getUTCDate()&&(p===dp||!keep_empty_values))p.setUTCDate(new_date)});if(new_date<this.dates[j]){while(j>=0&&new_date<this.dates[j]){this.pickers[j--].setUTCDate(new_date)}}else if(new_date>this.dates[k]){while(k<l&&new_date>this.dates[k]){this.pickers[k++].setUTCDate(new_date)}}this.updateDates();delete this.updating},destroy:function(){$.map(this.pickers,function(p){p.destroy()});$(this.inputs).off("changeDate",this.dateUpdated);delete this.element.data().datepicker},remove:alias("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};function opts_from_el(el,prefix){var data=$(el).data(),out={},inkey,replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])");prefix=new RegExp("^"+prefix.toLowerCase());function re_lower(_,a){return a.toLowerCase()}for(var key in data)if(prefix.test(key)){inkey=key.replace(replace,re_lower);out[inkey]=data[key]}return out}function opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang])return}var d=dates[lang];$.each(locale_opts,function(i,k){if(k in d)out[k]=d[k]});return out}var old=$.fn.datepicker;var datepickerPlugin=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data("datepicker"),options=typeof option==="object"&&option;if(!data){var elopts=opts_from_el(this,"date"),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.hasClass("input-daterange")||opts.inputs){$.extend(opts,{inputs:opts.inputs||$this.find("input").toArray()});data=new DateRangePicker(this,opts)}else{data=new Datepicker(this,opts)}$this.data("datepicker",data)}if(typeof option==="string"&&typeof data[option]==="function"){internal_return=data[option].apply(data,args)}});if(internal_return===undefined||internal_return instanceof Datepicker||internal_return instanceof DateRangePicker)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");else return internal_return};$.fn.datepicker=datepickerPlugin;var defaults=$.fn.datepicker.defaults={assumeNearbyYear:false,autoclose:false,beforeShowDay:$.noop,beforeShowMonth:$.noop,beforeShowYear:$.noop,beforeShowDecade:$.noop,beforeShowCentury:$.noop,calendarWeeks:false,clearBtn:false,toggleActive:false,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keepEmptyValues:false,keyboardNavigation:true,language:"en",minViewMode:0,maxViewMode:4,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,updateViewDate:true,weekStart:0,disableTouchKeyboard:false,enableOnReadonly:true,showOnFocus:true,zIndexOffset:10,container:"body",immediateUpdates:false,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:true};var locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};var DPGlobal={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(format){if(typeof format.toValue==="function"&&typeof format.toDisplay==="function")return format;var separators=format.replace(this.validParts,"\0").split("\0"),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0){throw new Error("Invalid date format.")}return{separators:separators,parts:parts}},parseDate:function(date,format,language,assumeNearby){if(!date)return undefined;if(date instanceof Date)return date;if(typeof format==="string")format=DPGlobal.parseFormat(format);if(format.toValue)return format.toValue(date,format,language);var fn_map={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},dateAliases={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},parts,part,dir,i,fn;if(date in dateAliases){date=dateAliases[date]}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(date)){parts=date.match(/([\-+]\d+)([dmwy])/gi);date=new Date;for(i=0;i<parts.length;i++){part=parts[i].match(/([\-+]\d+)([dmwy])/i);dir=Number(part[1]);fn=fn_map[part[2].toLowerCase()];date=Datepicker.prototype[fn](date,dir)}return Datepicker.prototype._zero_utc_time(date)}parts=date&&date.match(this.nonpunctuation)||[];function applyNearbyYear(year,threshold){if(threshold===true)threshold=10;if(year<100){year+=2e3;if(year>(new Date).getFullYear()+threshold){year-=100}}return year}var parsed={},setters_order=["yyyy","yy","M","MM","m","mm","d","dd"],setters_map={yyyy:function(d,v){return d.setUTCFullYear(assumeNearby?applyNearbyYear(v,assumeNearby):v)},m:function(d,v){if(isNaN(d))return d;v-=1;while(v<0)v+=12;v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}},val,filtered;setters_map["yy"]=setters_map["yyyy"];setters_map["M"]=setters_map["MM"]=setters_map["mm"]=setters_map["m"];setters_map["dd"]=setters_map["d"];date=UTCToday();var fparts=format.parts.slice();if(parts.length!==fparts.length){fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray()}function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()===p.toLowerCase()}if(parts.length===fparts.length){var cnt;for(i=0,cnt=fparts.length;i<cnt;i++){val=parseInt(parts[i],10);part=fparts[i];if(isNaN(val)){switch(part){case"MM":filtered=$(dates[language].months).filter(match_part);val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(match_part);val=$.inArray(filtered[0],dates[language].monthsShort)+1;break}}parsed[part]=val}var _date,s;for(i=0;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){_date=new Date(date);setters_map[s](_date,parsed[s]);if(!isNaN(_date))date=_date}}}return date},formatDate:function(date,format,language){if(!date)return"";if(typeof format==="string")format=DPGlobal.parseFormat(format);if(format.toDisplay)return format.toDisplay(date,format,language);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m;date=[];var seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<=cnt;i++){if(seps.length)date.push(seps.shift());date.push(val[format.parts[i]])}return date.join("")},headTemplate:"<thead>"+"<tr>"+'<th colspan="7" class="datepicker-title"></th>'+"</tr>"+"<tr>"+'<th class="prev">'+defaults.templates.leftArrow+"</th>"+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">'+defaults.templates.rightArrow+"</th>"+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:"<tfoot>"+"<tr>"+'<th colspan="7" class="today"></th>'+"</tr>"+"<tr>"+'<th colspan="7" class="clear"></th>'+"</tr>"+"</tfoot>"};DPGlobal.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class="table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-decades">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-centuries">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+"</div>";$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this};$.fn.datepicker.version="1.9.0";$.fn.datepicker.deprecated=function(msg){var console=window.console;if(console&&console.warn){console.warn("DEPRECATED: "+msg)}};$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var $this=$(this);if($this.data("datepicker"))return;e.preventDefault();datepickerPlugin.call($this,"show")});$(function(){datepickerPlugin.call($('[data-provide="datepicker-inline"]'))})});
(function(global,factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports!=="undefined"){factory(require("jquery"))}else{var mod={exports:{}};factory(global.jquery);global.bootstrapSwitch=mod.exports}})(this,function(_jquery){"use strict";var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var $=_jquery2.default||window.jQuery||window.$;function getClasses(options,id){var state=options.state,size=options.size,disabled=options.disabled,readonly=options.readonly,indeterminate=options.indeterminate,inverse=options.inverse;return[state?"on":"off",size,disabled?"disabled":undefined,readonly?"readonly":undefined,indeterminate?"indeterminate":undefined,inverse?"inverse":undefined,id?"id-"+id:undefined].filter(function(v){return v==null})}function prvgetElementOptions(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}function prvwidth(){var _this=this;var $handles=this.$on.add(this.$off).add(this.$label).css("width","");var handleWidth=this.options.handleWidth==="auto"?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;$handles.width(handleWidth);this.$label.width(function(index,width){if(_this.options.labelWidth!=="auto"){return _this.options.labelWidth}if(width<handleWidth){return handleWidth}return width});this.privateHandleWidth=this.$on.outerWidth();this.privateLabelWidth=this.$label.outerWidth();this.$container.width(this.privateHandleWidth*2+this.privateLabelWidth);return this.$wrapper.width(this.privateHandleWidth+this.privateLabelWidth)}function prvcontainerPosition(){var _this2=this;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.ope;this.$container.css("margin-left",function(){var values=[0,"-"+_this2.privateHandleWidth+"px"];if(_this2.options.indeterminate){return"-"+_this2.privateHandleWidth/2+"px"}if(state){if(_this2.options.inverse){return values[1]}return values[0]}if(_this2.options.inverse){return values[0]}return values[1]})}function prvgetClass(name){return this.options.baseClass+"-"+name}function prvinit(){var _this3=this;var init=function init(){_this3.setPrevOptions();prvwidth.call(_this3);prvcontainerPosition.call(_this3);setTimeout(function(){return _this3.options.animate&&_this3.$wrapper.addClass(prvgetClass.call(_this3,"animate"))},50)};if(this.$wrapper.is(":visible")){init();return}var initInterval=window.setInterval(function(){return _this3.$wrapper.is(":visible")&&(init()||true)&&window.clearInterval(initInterval)},50)}function prvelementHandlers(){var _this4=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":function setPreviousOptionsBootstrapSwitch(){return _this4.setPrevOptions()},"previousState.bootstrapSwitch":function previousStateBootstrapSwitch(){_this4.options=_this4.prevOptions;if(_this4.options.indeterminate){_this4.$wrapper.addClass(prvgetClass.call(_this4,"indeterminate"))}_this4.$element.prop("checked",_this4.options.state).trigger("change.bootstrapSwitch",true)},"change.bootstrapSwitch":function changeBootstrapSwitch(event,skip){event.preventDefault();event.stopImmediatePropagation();var state=_this4.$element.is(":checked");prvcontainerPosition.call(_this4,state);if(state===_this4.options.state){return}_this4.options.state=state;_this4.$wrapper.toggleClass(prvgetClass.call(_this4,"off")).toggleClass(prvgetClass.call(_this4,"on"));if(!skip){if(_this4.$element.is(":radio")){$('[name="'+_this4.$element.attr("name")+'"]').not(_this4.$element).prop("checked",false).trigger("change.bootstrapSwitch",true)}_this4.$element.trigger("switchChange.bootstrapSwitch",[state])}},"focus.bootstrapSwitch":function focusBootstrapSwitch(event){event.preventDefault();_this4.$wrapper.addClass(prvgetClass.call(_this4,"focused"))},"blur.bootstrapSwitch":function blurBootstrapSwitch(event){event.preventDefault();_this4.$wrapper.removeClass(prvgetClass.call(_this4,"focused"))},"keydown.bootstrapSwitch":function keydownBootstrapSwitch(event){if(!event.which||_this4.options.disabled||_this4.options.readonly){return}if(event.which===37||event.which===39){event.preventDefault();event.stopImmediatePropagation();_this4.state(event.which===39)}}})}function prvhandleHandlers(){var _this5=this;this.$on.on("click.bootstrapSwitch",function(event){event.preventDefault();event.stopPropagation();_this5.state(false);return _this5.$element.trigger("focus.bootstrapSwitch")});return this.$off.on("click.bootstrapSwitch",function(event){event.preventDefault();event.stopPropagation();_this5.state(true);return _this5.$element.trigger("focus.bootstrapSwitch")})}function prvlabelHandlers(){var _this6=this;var dragStart=void 0;var dragEnd=void 0;var handlers={click:function click(event){event.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function mousedownBootstrapSwitchTouchstartBootstrapSwitch(event){if(dragStart||_this6.options.disabled||_this6.options.readonly){return}event.preventDefault();event.stopPropagation();dragStart=(event.pageX||event.originalEvent.touches[0].pageX)-parseInt(_this6.$container.css("margin-left"),10);if(_this6.options.animate){_this6.$wrapper.removeClass(prvgetClass.call(_this6,"animate"))}_this6.$element.trigger("focus.bootstrapSwitch")},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function mousemoveBootstrapSwitchTouchmoveBootstrapSwitch(event){if(dragStart==null){return}var difference=(event.pageX||event.originalEvent.touches[0].pageX)-dragStart;event.preventDefault();if(difference<-_this6.privateHandleWidth||difference>0){return}dragEnd=difference;_this6.$container.css("margin-left",dragEnd+"px")},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function mouseupBootstrapSwitchTouchendBootstrapSwitch(event){if(!dragStart){return}event.preventDefault();if(_this6.options.animate){_this6.$wrapper.addClass(prvgetClass.call(_this6,"animate"))}if(dragEnd){var state=dragEnd>-(_this6.privateHandleWidth/2);dragEnd=false;_this6.state(_this6.options.inverse?!state:state)}else{_this6.state(!_this6.options.state)}dragStart=false},"mouseleave.bootstrapSwitch":function mouseleaveBootstrapSwitch(){_this6.$label.trigger("mouseup.bootstrapSwitch")}};this.$label.on(handlers)}function prvexternalLabelHandler(){var _this7=this;var $externalLabel=this.$element.closest("label");$externalLabel.on("click",function(event){event.preventDefault();event.stopImmediatePropagation();if(event.target===$externalLabel[0]){_this7.toggleState()}})}function prvformHandler(){function isBootstrapSwitch(){return $(this).data("bootstrap-switch")}function performReset(){return $(this).bootstrapSwitch("state",this.checked)}var $form=this.$element.closest("form");if($form.data("bootstrap-switch")){return}$form.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){$form.find("input").filter(isBootstrapSwitch).each(performReset)},1)}).data("bootstrap-switch",true)}function prvgetClasses(classes){var _this8=this;if(!$.isArray(classes)){return[prvgetClass.call(this,classes)]}return classes.map(function(v){return prvgetClass.call(_this8,v)})}var BootstrapSwitch=function(){function BootstrapSwitch(element){var _this9=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,BootstrapSwitch);this.$element=$(element);this.options=$.extend({},$.fn.bootstrapSwitch.defaults,prvgetElementOptions.call(this),options);this.prevOptions={};this.$wrapper=$("<div>",{class:function _class(){return getClasses(_this9.options,_this9.$element.attr("id")).map(function(v){return prvgetClass.call(_this9,v)}).concat([_this9.options.baseClass],prvgetClasses.call(_this9,_this9.options.wrapperClass)).join(" ")}});this.$container=$("<div>",{class:prvgetClass.call(this,"container")});this.$on=$("<span>",{html:this.options.onText,class:prvgetClass.call(this,"handle-on")+" "+prvgetClass.call(this,this.options.onColor)});this.$off=$("<span>",{html:this.options.offText,class:prvgetClass.call(this,"handle-off")+" "+prvgetClass.call(this,this.options.offColor)});this.$label=$("<span>",{html:this.options.labelText,class:prvgetClass.call(this,"label")});this.$element.on("init.bootstrapSwitch",function(){return _this9.options.onInit(element)});this.$element.on("switchChange.bootstrapSwitch",function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var changeState=_this9.options.onSwitchChange.apply(element,args);if(changeState===false){if(_this9.$element.is(":radio")){$('[name="'+_this9.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",true)}else{_this9.$element.trigger("previousState.bootstrapSwitch",true)}}});this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);if(this.options.indeterminate){this.$element.prop("indeterminate",true)}prvinit.call(this);prvelementHandlers.call(this);prvhandleHandlers.call(this);prvlabelHandlers.call(this);prvformHandler.call(this);prvexternalLabelHandler.call(this);this.$element.trigger("init.bootstrapSwitch",this.options.state)}_createClass(BootstrapSwitch,[{key:"setPrevOptions",value:function setPrevOptions(){this.prevOptions=_extends({},this.options)}},{key:"state",value:function state(value,skip){if(typeof value==="undefined"){return this.options.state}if(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")){return this.$element}if(this.$element.is(":radio")){$('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch")}else{this.$element.trigger("setPreviousOptions.bootstrapSwitch")}if(this.options.indeterminate){this.indeterminate(false)}this.$element.prop("checked",Boolean(value)).trigger("change.bootstrapSwitch",skip);return this.$element}},{key:"toggleState",value:function toggleState(skip){if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.indeterminate){this.indeterminate(false);return this.state(true)}return this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",skip)}},{key:"size",value:function size(value){if(typeof value==="undefined"){return this.options.size}if(this.options.size!=null){this.$wrapper.removeClass(prvgetClass.call(this,this.options.size))}if(value){this.$wrapper.addClass(prvgetClass.call(this,value))}prvwidth.call(this);prvcontainerPosition.call(this);this.options.size=value;return this.$element}},{key:"animate",value:function animate(value){if(typeof value==="undefined"){return this.options.animate}if(this.options.animate===Boolean(value)){return this.$element}return this.toggleAnimate()}},{key:"toggleAnimate",value:function toggleAnimate(){this.options.animate=!this.options.animate;this.$wrapper.toggleClass(prvgetClass.call(this,"animate"));return this.$element}},{key:"disabled",value:function disabled(value){if(typeof value==="undefined"){return this.options.disabled}if(this.options.disabled===Boolean(value)){return this.$element}return this.toggleDisabled()}},{key:"toggleDisabled",value:function toggleDisabled(){this.options.disabled=!this.options.disabled;this.$element.prop("disabled",this.options.disabled);this.$wrapper.toggleClass(prvgetClass.call(this,"disabled"));return this.$element}},{key:"readonly",value:function readonly(value){if(typeof value==="undefined"){return this.options.readonly}if(this.options.readonly===Boolean(value)){return this.$element}return this.toggleReadonly()}},{key:"toggleReadonly",value:function toggleReadonly(){this.options.readonly=!this.options.readonly;this.$element.prop("readonly",this.options.readonly);this.$wrapper.toggleClass(prvgetClass.call(this,"readonly"));return this.$element}},{key:"indeterminate",value:function indeterminate(value){if(typeof value==="undefined"){return this.options.indeterminate}if(this.options.indeterminate===Boolean(value)){return this.$element}return this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function toggleIndeterminate(){this.options.indeterminate=!this.options.indeterminate;this.$element.prop("indeterminate",this.options.indeterminate);this.$wrapper.toggleClass(prvgetClass.call(this,"indeterminate"));prvcontainerPosition.call(this);return this.$element}},{key:"inverse",value:function inverse(value){if(typeof value==="undefined"){return this.options.inverse}if(this.options.inverse===Boolean(value)){return this.$element}return this.toggleInverse()}},{key:"toggleInverse",value:function toggleInverse(){this.$wrapper.toggleClass(prvgetClass.call(this,"inverse"));var $on=this.$on.clone(true);var $off=this.$off.clone(true);this.$on.replaceWith($off);this.$off.replaceWith($on);this.$on=$off;this.$off=$on;this.options.inverse=!this.options.inverse;return this.$element}},{key:"onColor",value:function onColor(value){if(typeof value==="undefined"){return this.options.onColor}if(this.options.onColor){this.$on.removeClass(prvgetClass.call(this,this.options.onColor))}this.$on.addClass(prvgetClass.call(this,value));this.options.onColor=value;return this.$element}},{key:"offColor",value:function offColor(value){if(typeof value==="undefined"){return this.options.offColor}if(this.options.offColor){this.$off.removeClass(prvgetClass.call(this,this.options.offColor))}this.$off.addClass(prvgetClass.call(this,value));this.options.offColor=value;return this.$element}},{key:"onText",value:function onText(value){if(typeof value==="undefined"){return this.options.onText}this.$on.html(value);prvwidth.call(this);prvcontainerPosition.call(this);this.options.onText=value;return this.$element}},{key:"offText",value:function offText(value){if(typeof value==="undefined"){return this.options.offText}this.$off.html(value);prvwidth.call(this);prvcontainerPosition.call(this);this.options.offText=value;return this.$element}},{key:"labelText",value:function labelText(value){if(typeof value==="undefined"){return this.options.labelText}this.$label.html(value);prvwidth.call(this);this.options.labelText=value;return this.$element}},{key:"handleWidth",value:function handleWidth(value){if(typeof value==="undefined"){return this.options.handleWidth}this.options.handleWidth=value;prvwidth.call(this);prvcontainerPosition.call(this);return this.$element}},{key:"labelWidth",value:function labelWidth(value){if(typeof value==="undefined"){return this.options.labelWidth}this.options.labelWidth=value;prvwidth.call(this);prvcontainerPosition.call(this);return this.$element}},{key:"baseClass",value:function baseClass(){return this.options.baseClass}},{key:"wrapperClass",value:function wrapperClass(value){if(typeof value==="undefined"){return this.options.wrapperClass}var wrapperClass=value||$.fn.bootstrapSwitch.defaults.wrapperClass;this.$wrapper.removeClass(prvgetClasses.call(this,this.options.wrapperClass).join(" "));this.$wrapper.addClass(prvgetClasses.call(this,wrapperClass).join(" "));this.options.wrapperClass=wrapperClass;return this.$element}},{key:"radioAllOff",value:function radioAllOff(value){if(typeof value==="undefined"){return this.options.radioAllOff}var val=Boolean(value);if(this.options.radioAllOff===val){return this.$element}this.options.radioAllOff=val;return this.$element}},{key:"onInit",value:function onInit(value){if(typeof value==="undefined"){return this.options.onInit}this.options.onInit=value||$.fn.bootstrapSwitch.defaults.onInit;return this.$element}},{key:"onSwitchChange",value:function onSwitchChange(value){if(typeof value==="undefined"){return this.options.onSwitchChange}this.options.onSwitchChange=value||$.fn.bootstrapSwitch.defaults.onSwitchChange;return this.$element}},{key:"destroy",value:function destroy(){var $form=this.$element.closest("form");if($form.length){$form.off("reset.bootstrapSwitch").removeData("bootstrap-switch")}this.$container.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element}}]);return BootstrapSwitch}();function bootstrapSwitch(option){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2]}function reducer(ret,next){var $this=$(next);var existingData=$this.data("bootstrap-switch");var data=existingData||new BootstrapSwitch(next,option);if(!existingData){$this.data("bootstrap-switch",data)}if(typeof option==="string"){return data[option].apply(data,args)}return ret}return Array.prototype.reduce.call(this,reducer,this)}$.fn.bootstrapSwitch=bootstrapSwitch;$.fn.bootstrapSwitch.Constructor=BootstrapSwitch;$.fn.bootstrapSwitch.defaults={state:true,size:null,animate:true,disabled:false,readonly:false,indeterminate:false,inverse:false,radioAllOff:false,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function onInit(){},onSwitchChange:function onSwitchChange(){}}});
(function($){"use strict";var jCarousel=$.jCarousel={};jCarousel.version="0.3.9";var rRelativeTarget=/^([+\-]=)?(.+)$/;jCarousel.parseTarget=function(target){var relative=false,parts=typeof target!=="object"?rRelativeTarget.exec(target):null;if(parts){target=parseInt(parts[2],10)||0;if(parts[1]){relative=true;if(parts[1]==="-="){target*=-1}}}else if(typeof target!=="object"){target=parseInt(target,10)||0}return{target:target,relative:relative}};jCarousel.detectCarousel=function(element){var carousel;while(element.length>0){carousel=element.filter("[data-jcarousel]");if(carousel.length>0){return carousel}carousel=element.find("[data-jcarousel]");if(carousel.length>0){return carousel}element=element.parent()}return null};jCarousel.base=function(pluginName){return{version:jCarousel.version,_options:{},_element:null,_carousel:null,_init:$.noop,_create:$.noop,_destroy:$.noop,_reload:$.noop,create:function(){this._element.attr("data-"+pluginName.toLowerCase(),true).data(pluginName,this);if(false===this._trigger("create")){return this}this._create();this._trigger("createend");return this},destroy:function(){if(false===this._trigger("destroy")){return this}this._destroy();this._trigger("destroyend");this._element.removeData(pluginName).removeAttr("data-"+pluginName.toLowerCase());return this},reload:function(options){if(false===this._trigger("reload")){return this}if(options){this.options(options)}this._reload();this._trigger("reloadend");return this},element:function(){return this._element},options:function(key,value){if(arguments.length===0){return $.extend({},this._options)}if(typeof key==="string"){if(typeof value==="undefined"){return typeof this._options[key]==="undefined"?null:this._options[key]}this._options[key]=value}else{this._options=$.extend({},this._options,key)}return this},carousel:function(){if(!this._carousel){this._carousel=jCarousel.detectCarousel(this.options("carousel")||this._element);if(!this._carousel){$.error('Could not detect carousel for plugin "'+pluginName+'"')}}return this._carousel},_trigger:function(type,element,data){var event,defaultPrevented=false;data=[this].concat(data||[]);(element||this._element).each(function(){event=$.Event((pluginName+":"+type).toLowerCase());$(this).trigger(event,data);if(event.isDefaultPrevented()){defaultPrevented=true}});return!defaultPrevented}}};jCarousel.plugin=function(pluginName,pluginPrototype){var Plugin=$[pluginName]=function(element,options){this._element=$(element);this.options(options);this._init();this.create()};Plugin.fn=Plugin.prototype=$.extend({},jCarousel.base(pluginName),pluginPrototype);$.fn[pluginName]=function(options){var args=Array.prototype.slice.call(arguments,1),returnValue=this;if(typeof options==="string"){this.each(function(){var instance=$(this).data(pluginName);if(!instance){return $.error("Cannot call methods on "+pluginName+" prior to initialization; "+'attempted to call method "'+options+'"')}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error('No such method "'+options+'" for '+pluginName+" instance")}var methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&typeof methodValue!=="undefined"){returnValue=methodValue;return false}})}else{this.each(function(){var instance=$(this).data(pluginName);if(instance instanceof Plugin){instance.reload(options)}else{new Plugin(this,options)}})}return returnValue};return Plugin}})(jQuery);(function($,window){"use strict";var $window=$(window);var toFloat=function(val){return parseFloat(val)||0};$.jCarousel.plugin("jcarousel",{animating:false,tail:0,inTail:false,resizeState:null,resizeTimer:null,lt:null,vertical:false,rtl:false,circular:false,underflow:false,relative:false,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:false,wrap:null,vertical:null,rtl:null,center:false},_list:null,_items:null,_target:$(),_first:$(),_last:$(),_visible:$(),_fullyvisible:$(),_init:function(){var self=this;self.resizeState=$window.width()+"x"+$window.height();this.onWindowResize=function(){if(self.resizeTimer){clearTimeout(self.resizeTimer)}self.resizeTimer=setTimeout(function(){var currentResizeState=$window.width()+"x"+$window.height();if(currentResizeState===self.resizeState){return}self.resizeState=currentResizeState;self.reload()},100)};return this},_create:function(){this._reload();$window.on("resize.jcarousel",this.onWindowResize)},_destroy:function(){$window.off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical");if(this.vertical==null){this.vertical=toFloat(this.list().height())>toFloat(this.list().width())}this.rtl=this.options("rtl");if(this.rtl==null){this.rtl=function(element){if((""+element.attr("dir")).toLowerCase()==="rtl"){return true}var found=false;element.parents("[dir]").each(function(){if(/rtl/i.test($(this).attr("dir"))){found=true;return false}});return found}(this._element)}this.lt=this.vertical?"top":"left";this.relative=this.list().css("position")==="relative";this._list=null;this._items=null;var item=this.index(this._target)>=0?this._target:this.closest();this.circular=this.options("wrap")==="circular";this.underflow=false;var props={left:0,top:0};if(item.length>0){this._prepare(item);this.list().find("[data-jcarousel-clone]").remove();this._items=null;this.underflow=this._fullyvisible.length>=this.items().length;this.circular=this.circular&&!this.underflow;props[this.lt]=this._position(item)+"px"}this.move(props);return this},list:function(){if(this._list===null){var option=this.options("list");this._list=$.isFunction(option)?option.call(this):this._element.find(option)}return this._list},items:function(){if(this._items===null){var option=this.options("items");this._items=($.isFunction(option)?option.call(this):this.list().find(option)).not("[data-jcarousel-clone]")}return this._items},index:function(item){return this.items().index(item)},closest:function(){var self=this,pos=this.list().position()[this.lt],closest=$(),stop=false,lrb=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right",width;if(this.rtl&&this.relative&&!this.vertical){pos+=toFloat(this.list().width())-this.clipping()}this.items().each(function(){closest=$(this);if(stop){return false}var dim=self.dimension(closest);pos+=dim;if(pos>=0){width=dim-toFloat(closest.css("margin-"+lrb));if(Math.abs(pos)-dim+width/2<=0){stop=true}else{return false}}});return closest},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(false===this._trigger("hasnext")){return true}var wrap=this.options("wrap"),end=this.items().length-1,check=this.options("center")?this._target:this._last;return end>=0&&!this.underflow&&(wrap&&wrap!=="first"||this.index(check)<end||this.tail&&!this.inTail)?true:false},hasPrev:function(){if(false===this._trigger("hasprev")){return true}var wrap=this.options("wrap");return this.items().length>0&&!this.underflow&&(wrap&&wrap!=="last"||this.index(this._first)>0||this.tail&&this.inTail)?true:false},clipping:function(){return toFloat(this._element["inner"+(this.vertical?"Height":"Width")]())},dimension:function(element){return toFloat(element["outer"+(this.vertical?"Height":"Width")](true))},scroll:function(target,animate,callback){if(this.animating){return this}if(false===this._trigger("scroll",null,[target,animate])){return this}if($.isFunction(animate)){callback=animate;animate=true}var parsed=$.jCarousel.parseTarget(target);if(parsed.relative){var end=this.items().length-1,scroll=Math.abs(parsed.target),wrap=this.options("wrap"),current,first,index,start,curr,isVisible,props,i;if(parsed.target>0){var last=this.index(this._last);if(last>=end&&this.tail){if(!this.inTail){this._scrollTail(animate,callback)}else{if(wrap==="both"||wrap==="last"){this._scroll(0,animate,callback)}else{if($.isFunction(callback)){callback.call(this,false)}}}}else{current=this.index(this._target);if(this.underflow&&current===end&&(wrap==="circular"||wrap==="both"||wrap==="last")||!this.underflow&&last===end&&(wrap==="both"||wrap==="last")){this._scroll(0,animate,callback)}else{index=current+scroll;if(this.circular&&index>end){i=end;curr=this.items().get(-1);while(i++<index){curr=this.items().eq(0);isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr("data-jcarousel-clone",true))}this.list().append(curr);if(!isVisible){props={};props[this.lt]=this.dimension(curr);this.moveBy(props)}this._items=null}this._scroll(curr,animate,callback)}else{this._scroll(Math.min(index,end),animate,callback)}}}}else{if(this.inTail){this._scroll(Math.max(this.index(this._first)-scroll+1,0),animate,callback)}else{first=this.index(this._first);current=this.index(this._target);start=this.underflow?current:first;index=start-scroll;if(start<=0&&(this.underflow&&wrap==="circular"||wrap==="both"||wrap==="first")){this._scroll(end,animate,callback)}else{if(this.circular&&index<0){i=index;curr=this.items().get(0);while(i++<0){curr=this.items().eq(-1);isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr("data-jcarousel-clone",true))}this.list().prepend(curr);this._items=null;var dim=this.dimension(curr);props={};props[this.lt]=-dim;this.moveBy(props)}this._scroll(curr,animate,callback)}else{this._scroll(Math.max(index,0),animate,callback)}}}}}else{this._scroll(parsed.target,animate,callback)}this._trigger("scrollend");return this},moveBy:function(properties,opts){var position=this.list().position(),multiplier=1,correction=0;if(this.rtl&&!this.vertical){multiplier=-1;if(this.relative){correction=toFloat(this.list().width())-this.clipping()}}if(properties.left){properties.left=toFloat(position.left)+correction+toFloat(properties.left)*multiplier+"px"}if(properties.top){properties.top=toFloat(position.top)+correction+toFloat(properties.top)*multiplier+"px"}return this.move(properties,opts)},move:function(properties,opts){opts=opts||{};var option=this.options("transitions"),transitions=!!option,transforms=!!option.transforms,transforms3d=!!option.transforms3d,duration=opts.duration||0,list=this.list();if(!transitions&&duration>0){list.animate(properties,opts);return}var complete=opts.complete||$.noop,css={};if(transitions){var backup={transitionDuration:list.css("transitionDuration"),transitionTimingFunction:list.css("transitionTimingFunction"),transitionProperty:list.css("transitionProperty")},oldComplete=complete;complete=function(){$(this).css(backup);oldComplete.call(this)};css={transitionDuration:(duration>0?duration/1e3:0)+"s",transitionTimingFunction:option.easing||opts.easing,transitionProperty:duration>0?function(){if(transforms||transforms3d){return"all"}return properties.left?"left":"top"}():"none",transform:"none"}}if(transforms3d){css.transform="translate3d("+(properties.left||0)+","+(properties.top||0)+",0)"}else if(transforms){css.transform="translate("+(properties.left||0)+","+(properties.top||0)+")"}else{$.extend(css,properties)}if(transitions&&duration>0){list.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",complete)}list.css(css);if(duration<=0){list.each(function(){complete.call(this)})}},_scroll:function(item,animate,callback){if(this.animating){if($.isFunction(callback)){callback.call(this,false)}return this}if(typeof item!=="object"){item=this.items().eq(item)}else if(typeof item.jquery==="undefined"){item=$(item)}if(item.length===0){if($.isFunction(callback)){callback.call(this,false)}return this}this.inTail=false;this._prepare(item);var pos=this._position(item),currPos=toFloat(this.list().position()[this.lt]);if(pos===currPos){if($.isFunction(callback)){callback.call(this,false)}return this}var properties={};properties[this.lt]=pos+"px";this._animate(properties,animate,callback);return this},_scrollTail:function(animate,callback){if(this.animating||!this.tail){if($.isFunction(callback)){callback.call(this,false)}return this}var pos=this.list().position()[this.lt];if(this.rtl&&this.relative&&!this.vertical){pos+=toFloat(this.list().width())-this.clipping()}if(this.rtl&&!this.vertical){pos+=this.tail}else{pos-=this.tail}this.inTail=true;var properties={};properties[this.lt]=pos+"px";this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(properties,animate,callback);return this},_animate:function(properties,animate,callback){callback=callback||$.noop;if(false===this._trigger("animate")){callback.call(this,false);return this}this.animating=true;var animation=this.options("animation"),complete=$.proxy(function(){this.animating=false;var c=this.list().find("[data-jcarousel-clone]");if(c.length>0){c.remove();this._reload()}this._trigger("animateend");callback.call(this,true)},this);var opts=typeof animation==="object"?$.extend({},animation):{duration:animation},oldComplete=opts.complete||$.noop;if(animate===false){opts.duration=0}else if(typeof $.fx.speeds[opts.duration]!=="undefined"){opts.duration=$.fx.speeds[opts.duration]}opts.complete=function(){complete();oldComplete.call(this)};this.move(properties,opts);return this},_prepare:function(item){var index=this.index(item),idx=index,wh=this.dimension(item),clip=this.clipping(),lrb=this.vertical?"bottom":this.rtl?"left":"right",center=this.options("center"),update={target:item,first:item,last:item,visible:item,fullyvisible:wh<=clip?item:$()},curr,isVisible,margin,dim;if(center){wh/=2;clip/=2}if(wh<clip){while(true){curr=this.items().eq(++idx);if(curr.length===0){if(!this.circular){break}curr=this.items().eq(0);if(item.get(0)===curr.get(0)){break}isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr("data-jcarousel-clone",true))}this.list().append(curr);if(!isVisible){var props={};props[this.lt]=this.dimension(curr);this.moveBy(props)}this._items=null}dim=this.dimension(curr);if(dim===0){break}wh+=dim;update.last=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css("margin-"+lrb));if(wh-margin<=clip){update.fullyvisible=update.fullyvisible.add(curr)}if(wh>=clip){break}}}if(!this.circular&&!center&&wh<clip){idx=index;while(true){if(--idx<0){break}curr=this.items().eq(idx);if(curr.length===0){break}dim=this.dimension(curr);if(dim===0){break}wh+=dim;update.first=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css("margin-"+lrb));if(wh-margin<=clip){update.fullyvisible=update.fullyvisible.add(curr)}if(wh>=clip){break}}}this._update(update);this.tail=0;if(!center&&this.options("wrap")!=="circular"&&this.options("wrap")!=="custom"&&this.index(update.last)===this.items().length-1){wh-=toFloat(update.last.css("margin-"+lrb));if(wh>clip){this.tail=wh-clip}}return this},_position:function(item){var first=this._first,pos=toFloat(first.position()[this.lt]),center=this.options("center"),centerOffset=center?this.clipping()/2-this.dimension(first)/2:0;if(this.rtl&&!this.vertical){if(this.relative){pos-=toFloat(this.list().width())-this.dimension(first)}else{pos-=this.clipping()-this.dimension(first)}pos+=centerOffset}else{pos-=centerOffset}if(!center&&(this.index(item)>this.index(first)||this.inTail)&&this.tail){pos=this.rtl&&!this.vertical?pos-this.tail:pos+this.tail;this.inTail=true}else{this.inTail=false}return-pos},_update:function(update){var self=this,current={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},back=this.index(update.first||current.first)<this.index(current.first),key,doUpdate=function(key){var elIn=[],elOut=[];update[key].each(function(){if(current[key].index(this)<0){elIn.push(this)}});current[key].each(function(){if(update[key].index(this)<0){elOut.push(this)}});if(back){elIn=elIn.reverse()}else{elOut=elOut.reverse()}self._trigger(key+"in",$(elIn));self._trigger(key+"out",$(elOut));self["_"+key]=update[key]};for(key in update){doUpdate(key)}return this}})})(jQuery,window);(function($){"use strict";$.jcarousel.fn.scrollIntoView=function(target,animate,callback){var parsed=$.jCarousel.parseTarget(target),first=this.index(this._fullyvisible.first()),last=this.index(this._fullyvisible.last()),index;if(parsed.relative){index=parsed.target<0?Math.max(0,first+parsed.target):last+parsed.target}else{index=typeof parsed.target!=="object"?parsed.target:this.index(parsed.target)}if(index<first){return this.scroll(index,animate,callback)}if(index>=first&&index<=last){if($.isFunction(callback)){callback.call(this,false)}return this}var items=this.items(),clip=this.clipping(),lrb=this.vertical?"bottom":this.rtl?"left":"right",wh=0,curr;while(true){curr=items.eq(index);if(curr.length===0){break}wh+=this.dimension(curr);if(wh>=clip){var margin=parseFloat(curr.css("margin-"+lrb))||0;if(wh-margin!==clip){index++}break}if(index<=0){break}index--}return this.scroll(index,animate,callback)}})(jQuery);(function($){"use strict";$.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=$.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",$.proxy(this._create,this))},this);this.onReload=$.proxy(this._reload,this);this.onEvent=$.proxy(function(e){e.preventDefault();var method=this.options("method");if($.isFunction(method)){method.call(this)}else{this.carousel().jcarousel(this.options("method"),this.options("target"))}},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload);this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent);this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent);this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var parsed=$.jCarousel.parseTarget(this.options("target")),carousel=this.carousel(),active;if(parsed.relative){active=carousel.jcarousel(parsed.target>0?"hasNext":"hasPrev")}else{var target=typeof parsed.target!=="object"?carousel.jcarousel("items").eq(parsed.target):parsed.target;active=carousel.jcarousel("target").index(target)>=0}if(this._active!==active){this._trigger(active?"active":"inactive");this._active=active}return this}})})(jQuery);(function($){"use strict";$.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(page){return'<a href="#'+page+'">'+page+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=$.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",$.proxy(this._create,this))},this);this.onReload=$.proxy(this._reload,this);this.onScroll=$.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll);this._reload()},_destroy:function(){this._clear();this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll);this._carouselItems=null},_reload:function(){var perPage=this.options("perPage");this._pages={};this._items={};if($.isFunction(perPage)){perPage=perPage.call(this)}if(perPage==null){this._pages=this._calculatePages()}else{var pp=parseInt(perPage,10)||0,items=this._getCarouselItems(),page=1,i=0,curr;while(true){curr=items.eq(i++);if(curr.length===0){break}if(!this._pages[page]){this._pages[page]=curr}else{this._pages[page]=this._pages[page].add(curr)}if(i%pp===0){page++}}}this._clear();var self=this,carousel=this.carousel().data("jcarousel"),element=this._element,item=this.options("item"),numCarouselItems=this._getCarouselItems().length;$.each(this._pages,function(page,carouselItems){var currItem=self._items[page]=$(item.call(self,page,carouselItems));currItem.on(self.options("event")+".jcarouselpagination",$.proxy(function(){var target=carouselItems.eq(0);if(carousel.circular){var currentIndex=carousel.index(carousel.target()),newIndex=carousel.index(target);if(parseFloat(page)>parseFloat(self._currentPage)){if(newIndex<currentIndex){target="+="+(numCarouselItems-currentIndex+newIndex)}}else{if(newIndex>currentIndex){target="-="+(currentIndex+(numCarouselItems-newIndex))}}}carousel[this.options("method")](target)},self));element.append(currItem)});this._update()},_update:function(){var target=this.carousel().jcarousel("target"),currentPage;$.each(this._pages,function(page,carouselItems){carouselItems.each(function(){if(target.is(this)){currentPage=page;return false}});if(currentPage){return false}});if(this._currentPage!==currentPage){this._trigger("inactive",this._items[this._currentPage]);this._trigger("active",this._items[currentPage])}this._currentPage=currentPage},items:function(){return this._items},reloadCarouselItems:function(){this._carouselItems=null;return this},_clear:function(){this._element.empty();this._currentPage=null},_calculatePages:function(){var carousel=this.carousel().data("jcarousel"),items=this._getCarouselItems(),clip=carousel.clipping(),wh=0,idx=0,page=1,pages={},curr,dim;while(true){curr=items.eq(idx++);if(curr.length===0){break}dim=carousel.dimension(curr);if(wh+dim>clip){page++;wh=0}wh+=dim;if(!pages[page]){pages[page]=curr}else{pages[page]=pages[page].add(curr)}}return pages},_getCarouselItems:function(){if(!this._carouselItems){this._carouselItems=this.carousel().jcarousel("items")}return this._carouselItems}})})(jQuery);(function($,document){"use strict";var hiddenProp,visibilityChangeEvent,visibilityChangeEventNames={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};$.each(visibilityChangeEventNames,function(key,val){if(typeof document[key]!=="undefined"){hiddenProp=key;visibilityChangeEvent=val;return false}});$.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:true,method:"scroll"},_timer:null,_started:false,_init:function(){this.onDestroy=$.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",$.proxy(this._create,this))},this);this.onAnimateEnd=$.proxy(this._start,this);this.onVisibilityChange=$.proxy(function(){if(document[hiddenProp]){this._stop()}else{this._start()}},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy);$(document).on(visibilityChangeEvent,this.onVisibilityChange);if(this.options("autostart")){this.start()}},_destroy:function(){this._stop();this.carousel().off("jcarousel:destroy",this.onDestroy);$(document).off(visibilityChangeEvent,this.onVisibilityChange)},_start:function(){this._stop();if(!this._started){return}this.carousel().one("jcarousel:animateend",this.onAnimateEnd);this._timer=setTimeout($.proxy(function(){this.carousel().jcarousel(this.options("method"),this.options("target"))},this),this.options("interval"));return this},_stop:function(){if(this._timer){this._timer=clearTimeout(this._timer)}this.carousel().off("jcarousel:animateend",this.onAnimateEnd);return this},start:function(){this._started=true;this._start();return this},stop:function(){this._started=false;this._stop();return this}})})(jQuery,document);
(function($){"use strict";var ts=$.tablesorter={version:"2.31.1",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,tabIndex:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,resort:true,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortStable:false,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",duplicateSpan:true,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:true,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:true,bottom:false},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(table,c){if(!table||!table.tHead||table.tBodies.length===0||table.hasInitialized===true){if(ts.debug(c,"core")){if(table.hasInitialized){console.warn("Stopping initialization. Tablesorter has already been initialized")}else{console.error("Stopping initialization! No table, thead or tbody",table)}}return}var tmp="",$table=$(table),meta=$.metadata;table.hasInitialized=false;table.isProcessing=true;table.config=c;$.data(table,"tablesorter",c);if(ts.debug(c,"core")){console[console.group?"group":"log"]("Initializing tablesorter v"+ts.version);$.data(table,"startoveralltimer",new Date)}c.supportsDataObject=function(version){version[0]=parseInt(version[0],10);return version[0]>1||version[0]===1&&parseInt(version[1],10)>=4}($.fn.jquery.split("."));c.emptyTo=c.emptyTo.toLowerCase();c.stringTo=c.stringTo.toLowerCase();c.last={sortList:[],clickedIndex:-1};if(!/tablesorter\-/.test($table.attr("class"))){tmp=c.theme!==""?" tablesorter-"+c.theme:""}if(!c.namespace){c.namespace=".tablesorter"+Math.random().toString(16).slice(2)}else{c.namespace="."+c.namespace.replace(ts.regex.nonWord,"")}c.table=table;c.$table=$table.addClass(ts.css.table+" "+c.tableClass+tmp+" "+c.namespace.slice(1)).attr("role","grid");c.$headers=$table.find(c.selectorHeaders);c.$table.children().children("tr").attr("role","row");c.$tbodies=$table.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"});if(c.$table.children("caption").length){tmp=c.$table.children("caption")[0];if(!tmp.id){tmp.id=c.namespace.slice(1)+"caption"}c.$table.attr("aria-labelledby",tmp.id)}c.widgetInit={};c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic";ts.buildHeaders(c);ts.fixColumnWidth(table);ts.addWidgetFromClass(table);ts.applyWidgetOptions(table);ts.setupParsers(c);c.totalRows=0;if(c.debug){ts.validateOptions(c)}if(!c.delayInit){ts.buildCache(c)}ts.bindEvents(table,c.$headers,true);ts.bindMethods(c);if(c.supportsDataObject&&typeof $table.data().sortlist!=="undefined"){c.sortList=$table.data().sortlist}else if(meta&&($table.metadata()&&$table.metadata().sortlist)){c.sortList=$table.metadata().sortlist}ts.applyWidget(table,true);if(c.sortList.length>0){c.last.sortList=c.sortList;ts.sortOn(c,c.sortList,{},!c.initWidgets)}else{ts.setHeadersCss(c);if(c.initWidgets){ts.applyWidget(table,false)}}if(c.showProcessing){$table.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(e){clearTimeout(c.timerProcessing);ts.isProcessing(table);if(e.type==="sortBegin"){c.timerProcessing=setTimeout(function(){ts.isProcessing(table,true)},500)}})}table.hasInitialized=true;table.isProcessing=false;if(ts.debug(c,"core")){console.log("Overall initialization time:"+ts.benchmark($.data(table,"startoveralltimer")));if(ts.debug(c,"core")&&console.groupEnd){console.groupEnd()}}$table.triggerHandler("tablesorter-initialized",table);if(typeof c.initialized==="function"){c.initialized(table)}},bindMethods:function(c){var $table=c.$table,namespace=c.namespace,events=("sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete "+"sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup "+"mouseleave ").split(" ").join(namespace+" ");$table.unbind(events.replace(ts.regex.spaces," ")).bind("sortReset"+namespace,function(e,callback){e.stopPropagation();ts.sortReset(this.config,function(table){if(table.isApplyingWidgets){setTimeout(function(){ts.applyWidget(table,"",callback)},100)}else{ts.applyWidget(table,"",callback)}})}).bind("updateAll"+namespace,function(e,resort,callback){e.stopPropagation();ts.updateAll(this.config,resort,callback)}).bind("update"+namespace+" updateRows"+namespace,function(e,resort,callback){e.stopPropagation();ts.update(this.config,resort,callback)}).bind("updateHeaders"+namespace,function(e,callback){e.stopPropagation();ts.updateHeaders(this.config,callback)}).bind("updateCell"+namespace,function(e,cell,resort,callback){e.stopPropagation();ts.updateCell(this.config,cell,resort,callback)}).bind("addRows"+namespace,function(e,$row,resort,callback){e.stopPropagation();ts.addRows(this.config,$row,resort,callback)}).bind("updateComplete"+namespace,function(){this.isUpdating=false}).bind("sorton"+namespace,function(e,list,callback,init){e.stopPropagation();ts.sortOn(this.config,list,callback,init)}).bind("appendCache"+namespace,function(e,callback,init){e.stopPropagation();ts.appendCache(this.config,init);if($.isFunction(callback)){callback(this)}}).bind("updateCache"+namespace,function(e,callback,$tbodies){e.stopPropagation();ts.updateCache(this.config,callback,$tbodies)}).bind("applyWidgetId"+namespace,function(e,id){e.stopPropagation();ts.applyWidgetId(this,id)}).bind("applyWidgets"+namespace,function(e,callback){e.stopPropagation();ts.applyWidget(this,false,callback)}).bind("refreshWidgets"+namespace,function(e,all,dontapply){e.stopPropagation();ts.refreshWidgets(this,all,dontapply)}).bind("removeWidget"+namespace,function(e,name,refreshing){e.stopPropagation();ts.removeWidget(this,name,refreshing)}).bind("destroy"+namespace,function(e,removeClasses,callback){e.stopPropagation();ts.destroy(this,removeClasses,callback)}).bind("resetToLoadState"+namespace,function(e){e.stopPropagation();ts.removeWidget(this,true,false);var tmp=$.extend(true,{},c.originalSettings);c=$.extend(true,{},ts.defaults,tmp);c.originalSettings=tmp;this.hasInitialized=false;ts.setup(this,c)})},bindEvents:function(table,$headers,core){table=$(table)[0];var tmp,c=table.config,namespace=c.namespace,downTarget=null;if(core!==true){$headers.addClass(namespace.slice(1)+"_extra_headers");tmp=ts.getClosest($headers,"table");if(tmp.length&&tmp[0].nodeName==="TABLE"&&tmp[0]!==table){$(tmp[0]).addClass(namespace.slice(1)+"_extra_table")}}tmp=(c.pointerDown+" "+c.pointerUp+" "+c.pointerClick+" sort keyup ").replace(ts.regex.spaces," ").split(" ").join(namespace+" ");$headers.find(c.selectorSort).add($headers.filter(c.selectorSort)).unbind(tmp).bind(tmp,function(e,external){var $cell,cell,temp,$target=$(e.target),type=" "+e.type+" ";if((e.which||e.button)!==1&&!type.match(" "+c.pointerClick+" | sort | keyup ")||type===" keyup "&&e.which!==ts.keyCodes.enter||type.match(" "+c.pointerClick+" ")&&typeof e.which!=="undefined"){return}if(type.match(" "+c.pointerUp+" ")&&downTarget!==e.target&&external!==true){return}if(type.match(" "+c.pointerDown+" ")){downTarget=e.target;temp=$target.jquery.split(".");if(temp[0]==="1"&&temp[1]<4){e.preventDefault()}return}downTarget=null;$cell=ts.getClosest($(this),"."+ts.css.header);if(ts.regex.formElements.test(e.target.nodeName)||$target.hasClass(c.cssNoSort)||$target.parents("."+c.cssNoSort).length>0||$cell.hasClass("sorter-false")||$target.parents("button").length>0){return!c.cancelSelection}if(c.delayInit&&ts.isEmptyObject(c.cache)){ts.buildCache(c)}c.last.clickedIndex=$cell.attr("data-column")||$cell.index();cell=c.$headerIndexed[c.last.clickedIndex][0];if(cell&&!cell.sortDisabled){ts.initSort(c,cell,e)}});if(c.cancelSelection){$headers.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}},buildHeaders:function(c){var $temp,icon,timer,indx;c.headerList=[];c.headerContent=[];c.sortVars=[];if(ts.debug(c,"core")){timer=new Date}c.columns=ts.computeColumnIndex(c.$table.children("thead, tfoot").children("tr"));icon=c.cssIcon?'<i class="'+(c.cssIcon===ts.css.icon?ts.css.icon:c.cssIcon+" "+ts.css.icon)+'"></i>':"";c.$headers=$($.map(c.$table.find(c.selectorHeaders),function(elem,index){var configHeaders,header,column,template,tmp,$elem=$(elem);if(ts.getClosest($elem,"tr").hasClass(c.cssIgnoreRow)){return}if(!/(th|td)/i.test(elem.nodeName)){tmp=ts.getClosest($elem,"th, td");$elem.attr("data-column",tmp.attr("data-column"))}configHeaders=ts.getColumnData(c.table,c.headers,index,true);c.headerContent[index]=$elem.html();if(c.headerTemplate!==""&&!$elem.find("."+ts.css.headerIn).length){template=c.headerTemplate.replace(ts.regex.templateContent,$elem.html()).replace(ts.regex.templateIcon,$elem.find("."+ts.css.icon).length?"":icon);if(c.onRenderTemplate){header=c.onRenderTemplate.apply($elem,[index,template]);if(header&&typeof header==="string"){template=header}}$elem.html('<div class="'+ts.css.headerIn+'">'+template+"</div>")}if(c.onRenderHeader){c.onRenderHeader.apply($elem,[index,c,c.$table])}column=parseInt($elem.attr("data-column"),10);elem.column=column;tmp=ts.getOrder(ts.getData($elem,configHeaders,"sortInitialOrder")||c.sortInitialOrder);c.sortVars[column]={count:-1,order:tmp?c.sortReset?[1,0,2]:[1,0]:c.sortReset?[0,1,2]:[0,1],lockedOrder:false,sortedBy:""};tmp=ts.getData($elem,configHeaders,"lockedOrder")||false;if(typeof tmp!=="undefined"&&tmp!==false){c.sortVars[column].lockedOrder=true;c.sortVars[column].order=ts.getOrder(tmp)?[1,1]:[0,0]}c.headerList[index]=elem;$elem.addClass(ts.css.header+" "+c.cssHeader);ts.getClosest($elem,"tr").addClass(ts.css.headerRow+" "+c.cssHeaderRow).attr("role","row");if(c.tabIndex){$elem.attr("tabindex",0)}return elem}));c.$headerIndexed=[];for(indx=0;indx<c.columns;indx++){if(ts.isEmptyObject(c.sortVars[indx])){c.sortVars[indx]={}}$temp=c.$headers.filter('[data-column="'+indx+'"]');c.$headerIndexed[indx]=$temp.length?$temp.not(".sorter-false").length?$temp.not(".sorter-false").filter(":last"):$temp.filter(":last"):$()}c.$table.find(c.selectorHeaders).attr({scope:"col",role:"columnheader"});ts.updateHeader(c);if(ts.debug(c,"core")){console.log("Built headers:"+ts.benchmark(timer));console.log(c.$headers)}},addInstanceMethods:function(methods){$.extend(ts.instanceMethods,methods)},setupParsers:function(c,$tbodies){var rows,list,span,max,colIndex,indx,header,configHeaders,noParser,parser,extractor,time,tbody,len,table=c.table,tbodyIndex=0,debug=ts.debug(c,"core"),debugOutput={};c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")");tbody=typeof $tbodies==="undefined"?c.$tbodies:$tbodies;len=tbody.length;if(len===0){return debug?console.warn("Warning: *Empty table!* Not building a parser cache"):""}else if(debug){time=new Date;console[console.group?"group":"log"]("Detecting parsers for each column")}list={extractors:[],parsers:[]};while(tbodyIndex<len){rows=tbody[tbodyIndex].rows;if(rows.length){colIndex=0;max=c.columns;for(indx=0;indx<max;indx++){header=c.$headerIndexed[colIndex];if(header&&header.length){configHeaders=ts.getColumnData(table,c.headers,colIndex);extractor=ts.getParserById(ts.getData(header,configHeaders,"extractor"));parser=ts.getParserById(ts.getData(header,configHeaders,"sorter"));noParser=ts.getData(header,configHeaders,"parser")==="false";c.empties[colIndex]=(ts.getData(header,configHeaders,"empty")||c.emptyTo||(c.emptyToBottom?"bottom":"top")).toLowerCase();c.strings[colIndex]=(ts.getData(header,configHeaders,"string")||c.stringTo||"max").toLowerCase();if(noParser){parser=ts.getParserById("no-parser")}if(!extractor){extractor=false}if(!parser){parser=ts.detectParserForColumn(c,rows,-1,colIndex)}if(debug){debugOutput["("+colIndex+") "+header.text()]={parser:parser.id,extractor:extractor?extractor.id:"none",string:c.strings[colIndex],empty:c.empties[colIndex]}}list.parsers[colIndex]=parser;list.extractors[colIndex]=extractor;span=header[0].colSpan-1;if(span>0){colIndex+=span;max+=span;while(span+1>0){list.parsers[colIndex-span]=parser;list.extractors[colIndex-span]=extractor;span--}}}colIndex++}}tbodyIndex+=list.parsers.length?len:1}if(debug){if(!ts.isEmptyObject(debugOutput)){console[console.table?"table":"log"](debugOutput)}else{console.warn("  No parsers detected!")}console.log("Completed detecting parsers"+ts.benchmark(time));if(console.groupEnd){console.groupEnd()}}c.parsers=list.parsers;c.extractors=list.extractors},addParser:function(parser){var indx,len=ts.parsers.length,add=true;for(indx=0;indx<len;indx++){if(ts.parsers[indx].id.toLowerCase()===parser.id.toLowerCase()){add=false}}if(add){ts.parsers[ts.parsers.length]=parser}},getParserById:function(name){if(name=="false"){return false}var indx,len=ts.parsers.length;for(indx=0;indx<len;indx++){if(ts.parsers[indx].id.toLowerCase()===name.toString().toLowerCase()){return ts.parsers[indx]}}return false},detectParserForColumn:function(c,rows,rowIndex,cellIndex){var cur,$node,row,indx=ts.parsers.length,node=false,nodeValue="",debug=ts.debug(c,"core"),keepLooking=true;while(nodeValue===""&&keepLooking){rowIndex++;row=rows[rowIndex];if(row&&rowIndex<50){if(row.className.indexOf(ts.cssIgnoreRow)<0){node=rows[rowIndex].cells[cellIndex];nodeValue=ts.getElementText(c,node,cellIndex);$node=$(node);if(debug){console.log("Checking if value was empty on row "+rowIndex+", column: "+cellIndex+': "'+nodeValue+'"')}}}else{keepLooking=false}}while(--indx>=0){cur=ts.parsers[indx];if(cur&&cur.id!=="text"&&cur.is&&cur.is(nodeValue,c.table,node,$node)){return cur}}return ts.getParserById("text")},getElementText:function(c,node,cellIndex){if(!node){return""}var tmp,extract=c.textExtraction||"",$node=node.jquery?node:$(node);if(typeof extract==="string"){if(extract==="basic"&&typeof(tmp=$node.attr(c.textAttribute))!=="undefined"){return $.trim(tmp)}return $.trim(node.textContent||$node.text())}else{if(typeof extract==="function"){return $.trim(extract($node[0],c.table,cellIndex))}else if(typeof(tmp=ts.getColumnData(c.table,extract,cellIndex))==="function"){return $.trim(tmp($node[0],c.table,cellIndex))}}return $.trim($node[0].textContent||$node.text())},getParsedText:function(c,cell,colIndex,txt){if(typeof txt==="undefined"){txt=ts.getElementText(c,cell,colIndex)}var val=""+txt,parser=c.parsers[colIndex],extractor=c.extractors[colIndex];if(parser){if(extractor&&typeof extractor.format==="function"){txt=extractor.format(txt,c.table,cell,colIndex)}val=parser.id==="no-parser"?"":parser.format(""+txt,c.table,cell,colIndex);if(c.ignoreCase&&typeof val==="string"){val=val.toLowerCase()}}return val},buildCache:function(c,callback,$tbodies){var cache,val,txt,rowIndex,colIndex,tbodyIndex,$tbody,$row,cols,$cells,cell,cacheTime,totalRows,rowData,prevRowData,colMax,span,cacheIndex,hasParser,max,len,index,table=c.table,parsers=c.parsers,debug=ts.debug(c,"core");c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")");$tbody=typeof $tbodies==="undefined"?c.$tbodies:$tbodies,c.cache={};c.totalRows=0;if(!parsers){return debug?console.warn("Warning: *Empty table!* Not building a cache"):""}if(debug){cacheTime=new Date}if(c.showProcessing){ts.isProcessing(table,true)}for(tbodyIndex=0;tbodyIndex<$tbody.length;tbodyIndex++){colMax=[];cache=c.cache[tbodyIndex]={normalized:[]};totalRows=$tbody[tbodyIndex]&&$tbody[tbodyIndex].rows.length||0;for(rowIndex=0;rowIndex<totalRows;++rowIndex){rowData={child:[],raw:[]};$row=$($tbody[tbodyIndex].rows[rowIndex]);cols=[];if($row.hasClass(c.selectorRemove.slice(1))){continue}if($row.hasClass(c.cssChildRow)&&rowIndex!==0){len=cache.normalized.length-1;prevRowData=cache.normalized[len][c.columns];prevRowData.$row=prevRowData.$row.add($row);if(!$row.prev().hasClass(c.cssChildRow)){$row.prev().addClass(ts.css.cssHasChild)}$cells=$row.children("th, td");len=prevRowData.child.length;prevRowData.child[len]=[];cacheIndex=0;max=c.columns;for(colIndex=0;colIndex<max;colIndex++){cell=$cells[colIndex];if(cell){prevRowData.child[len][colIndex]=ts.getParsedText(c,cell,colIndex);span=$cells[colIndex].colSpan-1;if(span>0){cacheIndex+=span;max+=span}}cacheIndex++}continue}rowData.$row=$row;rowData.order=rowIndex;cacheIndex=0;max=c.columns;for(colIndex=0;colIndex<max;++colIndex){cell=$row[0].cells[colIndex];if(cell&&cacheIndex<c.columns){hasParser=typeof parsers[cacheIndex]!=="undefined";if(!hasParser&&debug){console.warn("No parser found for row: "+rowIndex+", column: "+colIndex+'; cell containing: "'+$(cell).text()+'"; does it have a header?')}val=ts.getElementText(c,cell,cacheIndex);rowData.raw[cacheIndex]=val;txt=ts.getParsedText(c,cell,cacheIndex,val);cols[cacheIndex]=txt;if(hasParser&&(parsers[cacheIndex].type||"").toLowerCase()==="numeric"){colMax[cacheIndex]=Math.max(Math.abs(txt)||0,colMax[cacheIndex]||0)}span=cell.colSpan-1;if(span>0){index=0;while(index<=span){txt=c.duplicateSpan||index===0?val:typeof c.textExtraction!=="string"?ts.getElementText(c,cell,cacheIndex+index)||"":"";rowData.raw[cacheIndex+index]=txt;cols[cacheIndex+index]=txt;index++}cacheIndex+=span;max+=span}}cacheIndex++}cols[c.columns]=rowData;cache.normalized[cache.normalized.length]=cols}cache.colMax=colMax;c.totalRows+=cache.normalized.length}if(c.showProcessing){ts.isProcessing(table)}if(debug){len=Math.min(5,c.cache[0].normalized.length);console[console.group?"group":"log"]("Building cache for "+c.totalRows+" rows (showing "+len+" rows in log) and "+c.columns+" columns"+ts.benchmark(cacheTime));val={};for(colIndex=0;colIndex<c.columns;colIndex++){for(cacheIndex=0;cacheIndex<len;cacheIndex++){if(!val["row: "+cacheIndex]){val["row: "+cacheIndex]={}}val["row: "+cacheIndex][c.$headerIndexed[colIndex].text()]=c.cache[0].normalized[cacheIndex][colIndex]}}console[console.table?"table":"log"](val);if(console.groupEnd){console.groupEnd()}}if($.isFunction(callback)){callback(table)}},getColumnText:function(table,column,callback,rowFilter){table=$(table)[0];var tbodyIndex,rowIndex,cache,row,tbodyLen,rowLen,raw,parsed,$cell,result,hasCallback=typeof callback==="function",allColumns=column==="all",data={raw:[],parsed:[],$cell:[]},c=table.config;if(ts.isEmptyObject(c)){if(ts.debug(c,"core")){console.warn("No cache found - aborting getColumnText function!")}}else{tbodyLen=c.$tbodies.length;for(tbodyIndex=0;tbodyIndex<tbodyLen;tbodyIndex++){cache=c.cache[tbodyIndex].normalized;rowLen=cache.length;for(rowIndex=0;rowIndex<rowLen;rowIndex++){row=cache[rowIndex];if(rowFilter&&!row[c.columns].$row.is(rowFilter)){continue}result=true;parsed=allColumns?row.slice(0,c.columns):row[column];row=row[c.columns];raw=allColumns?row.raw:row.raw[column];$cell=allColumns?row.$row.children():row.$row.children().eq(column);if(hasCallback){result=callback({tbodyIndex:tbodyIndex,rowIndex:rowIndex,parsed:parsed,raw:raw,$row:row.$row,$cell:$cell})}if(result!==false){data.parsed[data.parsed.length]=parsed;data.raw[data.raw.length]=raw;data.$cell[data.$cell.length]=$cell}}}return data}},setHeadersCss:function(c){var indx,column,list=c.sortList,len=list.length,none=ts.css.sortNone+" "+c.cssNone,css=[ts.css.sortAsc+" "+c.cssAsc,ts.css.sortDesc+" "+c.cssDesc],cssIcon=[c.cssIconAsc,c.cssIconDesc,c.cssIconNone],aria=["ascending","descending"],updateColumnSort=function($el,index){$el.removeClass(none).addClass(css[index]).attr("aria-sort",aria[index]).find("."+ts.css.icon).removeClass(cssIcon[2]).addClass(cssIcon[index])},$extras=c.$table.find("tfoot tr").children("td, th").add($(c.namespace+"_extra_headers")).removeClass(css.join(" ")),$sorted=c.$headers.add($("thead "+c.namespace+"_extra_headers")).removeClass(css.join(" ")).addClass(none).attr("aria-sort","none").find("."+ts.css.icon).removeClass(cssIcon.join(" ")).end();$sorted.not(".sorter-false").find("."+ts.css.icon).addClass(cssIcon[2]);if(c.cssIconDisabled){$sorted.filter(".sorter-false").find("."+ts.css.icon).addClass(c.cssIconDisabled)}for(indx=0;indx<len;indx++){if(list[indx][1]!==2){$sorted=c.$headers.filter(function(i){var include=true,$el=c.$headers.eq(i),col=parseInt($el.attr("data-column"),10),end=col+ts.getClosest($el,"th, td")[0].colSpan;for(;col<end;col++){include=include?include||ts.isValueInArray(col,c.sortList)>-1:false}return include});$sorted=$sorted.not(".sorter-false").filter('[data-column="'+list[indx][0]+'"]'+(len===1?":last":""));if($sorted.length){for(column=0;column<$sorted.length;column++){if(!$sorted[column].sortDisabled){updateColumnSort($sorted.eq(column),list[indx][1])}}}if($extras.length){updateColumnSort($extras.filter('[data-column="'+list[indx][0]+'"]'),list[indx][1])}}}len=c.$headers.length;for(indx=0;indx<len;indx++){ts.setColumnAriaLabel(c,c.$headers.eq(indx))}},getClosest:function($el,selector){if($.fn.closest){return $el.closest(selector)}return $el.is(selector)?$el:$el.parents(selector).filter(":first")},setColumnAriaLabel:function(c,$header,nextSort){if($header.length){var column=parseInt($header.attr("data-column"),10),vars=c.sortVars[column],tmp=$header.hasClass(ts.css.sortAsc)?"sortAsc":$header.hasClass(ts.css.sortDesc)?"sortDesc":"sortNone",txt=$.trim($header.text())+": "+ts.language[tmp];if($header.hasClass("sorter-false")||nextSort===false){txt+=ts.language.sortDisabled}else{tmp=(vars.count+1)%vars.order.length;nextSort=vars.order[tmp];txt+=ts.language[nextSort===0?"nextAsc":nextSort===1?"nextDesc":"nextNone"]}$header.attr("aria-label",txt);if(vars.sortedBy){$header.attr("data-sortedBy",vars.sortedBy)}else{$header.removeAttr("data-sortedBy")}}},updateHeader:function(c){var index,isDisabled,$header,col,table=c.table,len=c.$headers.length;for(index=0;index<len;index++){$header=c.$headers.eq(index);col=ts.getColumnData(table,c.headers,index,true);isDisabled=ts.getData($header,col,"sorter")==="false"||ts.getData($header,col,"parser")==="false";ts.setColumnSort(c,$header,isDisabled)}},setColumnSort:function(c,$header,isDisabled){var id=c.table.id;$header[0].sortDisabled=isDisabled;$header[isDisabled?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+isDisabled);if(c.tabIndex){if(isDisabled){$header.removeAttr("tabindex")}else{$header.attr("tabindex","0")}}if(id){if(isDisabled){$header.removeAttr("aria-controls")}else{$header.attr("aria-controls",id)}}},updateHeaderSortCount:function(c,list){var col,dir,group,indx,primary,temp,val,order,sortList=list||c.sortList,len=sortList.length;c.sortList=[];for(indx=0;indx<len;indx++){val=sortList[indx];col=parseInt(val[0],10);if(col<c.columns){if(!c.sortVars[col].order){if(ts.getOrder(c.sortInitialOrder)){order=c.sortReset?[1,0,2]:[1,0]}else{order=c.sortReset?[0,1,2]:[0,1]}c.sortVars[col].order=order;c.sortVars[col].count=0}order=c.sortVars[col].order;dir=(""+val[1]).match(/^(1|d|s|o|n)/);dir=dir?dir[0]:"";switch(dir){case"1":case"d":dir=1;break;case"s":dir=primary||0;break;case"o":temp=order[(primary||0)%order.length];dir=temp===0?1:temp===1?0:2;break;case"n":dir=order[++c.sortVars[col].count%order.length];break;default:dir=0;break}primary=indx===0?dir:primary;group=[col,parseInt(dir,10)||0];c.sortList[c.sortList.length]=group;dir=$.inArray(group[1],order);c.sortVars[col].count=dir>=0?dir:group[1]%order.length}}},updateAll:function(c,resort,callback){var table=c.table;table.isUpdating=true;ts.refreshWidgets(table,true,true);ts.buildHeaders(c);ts.bindEvents(table,c.$headers,true);ts.bindMethods(c);ts.commonUpdate(c,resort,callback)},update:function(c,resort,callback){var table=c.table;table.isUpdating=true;ts.updateHeader(c);ts.commonUpdate(c,resort,callback)},updateHeaders:function(c,callback){c.table.isUpdating=true;ts.buildHeaders(c);ts.bindEvents(c.table,c.$headers,true);ts.resortComplete(c,callback)},updateCell:function(c,cell,resort,callback){if($(cell).closest("tr").hasClass(c.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(ts.isEmptyObject(c.cache)){ts.updateHeader(c);ts.commonUpdate(c,resort,callback);return}c.table.isUpdating=true;c.$table.find(c.selectorRemove).remove();var tmp,indx,row,icell,cache,len,$tbodies=c.$tbodies,$cell=$(cell),tbodyIndex=$tbodies.index(ts.getClosest($cell,"tbody")),tbcache=c.cache[tbodyIndex],$row=ts.getClosest($cell,"tr");cell=$cell[0];if($tbodies.length&&tbodyIndex>=0){row=$tbodies.eq(tbodyIndex).find("tr").not("."+c.cssChildRow).index($row);cache=tbcache.normalized[row];len=$row[0].cells.length;if(len!==c.columns){icell=0;tmp=false;for(indx=0;indx<len;indx++){if(!tmp&&$row[0].cells[indx]!==cell){icell+=$row[0].cells[indx].colSpan}else{tmp=true}}}else{icell=$cell.index()}tmp=ts.getElementText(c,cell,icell);cache[c.columns].raw[icell]=tmp;tmp=ts.getParsedText(c,cell,icell,tmp);cache[icell]=tmp;if((c.parsers[icell].type||"").toLowerCase()==="numeric"){tbcache.colMax[icell]=Math.max(Math.abs(tmp)||0,tbcache.colMax[icell]||0)}tmp=resort!=="undefined"?resort:c.resort;if(tmp!==false){ts.checkResort(c,tmp,callback)}else{ts.resortComplete(c,callback)}}else{if(ts.debug(c,"core")){console.error("updateCell aborted, tbody missing or not within the indicated table")}c.table.isUpdating=false}},addRows:function(c,$row,resort,callback){var txt,val,tbodyIndex,rowIndex,rows,cellIndex,len,order,cacheIndex,rowData,cells,cell,span,valid=typeof $row==="string"&&c.$tbodies.length===1&&/<tr/.test($row||""),table=c.table;if(valid){$row=$($row);c.$tbodies.append($row)}else if(!$row||!($row instanceof $)||ts.getClosest($row,"table")[0]!==c.table){if(ts.debug(c,"core")){console.error("addRows method requires (1) a jQuery selector reference to rows that have already "+"been added to the table, or (2) row HTML string to be added to a table with only one tbody")}return false}table.isUpdating=true;if(ts.isEmptyObject(c.cache)){ts.updateHeader(c);ts.commonUpdate(c,resort,callback)}else{rows=$row.filter("tr").attr("role","row").length;tbodyIndex=c.$tbodies.index($row.parents("tbody").filter(":first"));if(!(c.parsers&&c.parsers.length)){ts.setupParsers(c)}for(rowIndex=0;rowIndex<rows;rowIndex++){cacheIndex=0;len=$row[rowIndex].cells.length;order=c.cache[tbodyIndex].normalized.length;cells=[];rowData={child:[],raw:[],$row:$row.eq(rowIndex),order:order};for(cellIndex=0;cellIndex<len;cellIndex++){cell=$row[rowIndex].cells[cellIndex];txt=ts.getElementText(c,cell,cacheIndex);rowData.raw[cacheIndex]=txt;val=ts.getParsedText(c,cell,cacheIndex,txt);cells[cacheIndex]=val;if((c.parsers[cacheIndex].type||"").toLowerCase()==="numeric"){c.cache[tbodyIndex].colMax[cacheIndex]=Math.max(Math.abs(val)||0,c.cache[tbodyIndex].colMax[cacheIndex]||0)}span=cell.colSpan-1;if(span>0){cacheIndex+=span}cacheIndex++}cells[c.columns]=rowData;c.cache[tbodyIndex].normalized[order]=cells}ts.checkResort(c,resort,callback)}},updateCache:function(c,callback,$tbodies){if(!(c.parsers&&c.parsers.length)){ts.setupParsers(c,$tbodies)}ts.buildCache(c,callback,$tbodies)},appendCache:function(c,init){var parsed,totalRows,$tbody,$curTbody,rowIndex,tbodyIndex,appendTime,table=c.table,$tbodies=c.$tbodies,rows=[],cache=c.cache;if(ts.isEmptyObject(cache)){return c.appender?c.appender(table,rows):table.isUpdating?c.$table.triggerHandler("updateComplete",table):""}if(ts.debug(c,"core")){appendTime=new Date}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=$tbodies.eq(tbodyIndex);if($tbody.length){$curTbody=ts.processTbody(table,$tbody,true);parsed=cache[tbodyIndex].normalized;totalRows=parsed.length;for(rowIndex=0;rowIndex<totalRows;rowIndex++){rows[rows.length]=parsed[rowIndex][c.columns].$row;if(!c.appender||c.pager&&!c.pager.removeRows&&!c.pager.ajax){$curTbody.append(parsed[rowIndex][c.columns].$row)}}ts.processTbody(table,$curTbody,false)}}if(c.appender){c.appender(table,rows)}if(ts.debug(c,"core")){console.log("Rebuilt table"+ts.benchmark(appendTime))}if(!init&&!c.appender){ts.applyWidget(table)}if(table.isUpdating){c.$table.triggerHandler("updateComplete",table)}},commonUpdate:function(c,resort,callback){c.$table.find(c.selectorRemove).remove();ts.setupParsers(c);ts.buildCache(c);ts.checkResort(c,resort,callback)},initSort:function(c,cell,event){if(c.table.isUpdating){return setTimeout(function(){ts.initSort(c,cell,event)},50)}var arry,indx,headerIndx,dir,temp,tmp,$header,notMultiSort=!event[c.sortMultiSortKey],table=c.table,len=c.$headers.length,th=ts.getClosest($(cell),"th, td"),col=parseInt(th.attr("data-column"),10),sortedBy=event.type==="mouseup"?"user":event.type,order=c.sortVars[col].order;th=th[0];c.$table.triggerHandler("sortStart",table);tmp=(c.sortVars[col].count+1)%order.length;c.sortVars[col].count=event[c.sortResetKey]?2:tmp;if(c.sortRestart){for(headerIndx=0;headerIndx<len;headerIndx++){$header=c.$headers.eq(headerIndx);tmp=parseInt($header.attr("data-column"),10);if(col!==tmp&&(notMultiSort||$header.hasClass(ts.css.sortNone))){c.sortVars[tmp].count=-1}}}if(notMultiSort){$.each(c.sortVars,function(i){c.sortVars[i].sortedBy=""});c.sortList=[];c.last.sortList=[];if(c.sortForce!==null){arry=c.sortForce;for(indx=0;indx<arry.length;indx++){if(arry[indx][0]!==col){c.sortList[c.sortList.length]=arry[indx];c.sortVars[arry[indx][0]].sortedBy="sortForce"}}}dir=order[c.sortVars[col].count];if(dir<2){c.sortList[c.sortList.length]=[col,dir];c.sortVars[col].sortedBy=sortedBy;if(th.colSpan>1){for(indx=1;indx<th.colSpan;indx++){c.sortList[c.sortList.length]=[col+indx,dir];c.sortVars[col+indx].count=$.inArray(dir,order);c.sortVars[col+indx].sortedBy=sortedBy}}}}else{c.sortList=$.extend([],c.last.sortList);if(ts.isValueInArray(col,c.sortList)>=0){c.sortVars[col].sortedBy=sortedBy;for(indx=0;indx<c.sortList.length;indx++){tmp=c.sortList[indx];if(tmp[0]===col){tmp[1]=order[c.sortVars[col].count];if(tmp[1]===2){c.sortList.splice(indx,1);c.sortVars[col].count=-1}}}}else{dir=order[c.sortVars[col].count];c.sortVars[col].sortedBy=sortedBy;if(dir<2){c.sortList[c.sortList.length]=[col,dir];if(th.colSpan>1){for(indx=1;indx<th.colSpan;indx++){c.sortList[c.sortList.length]=[col+indx,dir];c.sortVars[col+indx].count=$.inArray(dir,order);c.sortVars[col+indx].sortedBy=sortedBy}}}}}c.last.sortList=$.extend([],c.sortList);if(c.sortList.length&&c.sortAppend){arry=$.isArray(c.sortAppend)?c.sortAppend:c.sortAppend[c.sortList[0][0]];if(!ts.isEmptyObject(arry)){for(indx=0;indx<arry.length;indx++){if(arry[indx][0]!==col&&ts.isValueInArray(arry[indx][0],c.sortList)<0){dir=arry[indx][1];temp=(""+dir).match(/^(a|d|s|o|n)/);if(temp){tmp=c.sortList[0][1];switch(temp[0]){case"d":dir=1;break;case"s":dir=tmp;break;case"o":dir=tmp===0?1:0;break;case"n":dir=(tmp+1)%order.length;break;default:dir=0;break}}c.sortList[c.sortList.length]=[arry[indx][0],dir];c.sortVars[arry[indx][0]].sortedBy="sortAppend"}}}}c.$table.triggerHandler("sortBegin",table);setTimeout(function(){ts.setHeadersCss(c);ts.multisort(c);ts.appendCache(c);c.$table.triggerHandler("sortBeforeEnd",table);c.$table.triggerHandler("sortEnd",table)},1)},multisort:function(c){var tbodyIndex,sortTime,colMax,rows,tmp,table=c.table,sorter=[],dir=0,textSorter=c.textSorter||"",sortList=c.sortList,sortLen=sortList.length,len=c.$tbodies.length;if(c.serverSideSorting||ts.isEmptyObject(c.cache)){return}if(ts.debug(c,"core")){sortTime=new Date}if(typeof textSorter==="object"){colMax=c.columns;while(colMax--){tmp=ts.getColumnData(table,textSorter,colMax);if(typeof tmp==="function"){sorter[colMax]=tmp}}}for(tbodyIndex=0;tbodyIndex<len;tbodyIndex++){colMax=c.cache[tbodyIndex].colMax;rows=c.cache[tbodyIndex].normalized;rows.sort(function(a,b){var sortIndex,num,col,order,sort,x,y;for(sortIndex=0;sortIndex<sortLen;sortIndex++){col=sortList[sortIndex][0];order=sortList[sortIndex][1];dir=order===0;if(c.sortStable&&a[col]===b[col]&&sortLen===1){return a[c.columns].order-b[c.columns].order}num=/n/i.test(ts.getSortType(c.parsers,col));if(num&&c.strings[col]){if(typeof ts.string[c.strings[col]]==="boolean"){num=(dir?1:-1)*(ts.string[c.strings[col]]?-1:1)}else{num=c.strings[col]?ts.string[c.strings[col]]||0:0}sort=c.numberSorter?c.numberSorter(a[col],b[col],dir,colMax[col],table):ts["sortNumeric"+(dir?"Asc":"Desc")](a[col],b[col],num,colMax[col],col,c)}else{x=dir?a:b;y=dir?b:a;if(typeof textSorter==="function"){sort=textSorter(x[col],y[col],dir,col,table)}else if(typeof sorter[col]==="function"){sort=sorter[col](x[col],y[col],dir,col,table)}else{sort=ts["sortNatural"+(dir?"Asc":"Desc")](a[col]||"",b[col]||"",col,c)}}if(sort){return sort}}return a[c.columns].order-b[c.columns].order})}if(ts.debug(c,"core")){console.log("Applying sort "+sortList.toString()+ts.benchmark(sortTime))}},resortComplete:function(c,callback){if(c.table.isUpdating){c.$table.triggerHandler("updateComplete",c.table)}if($.isFunction(callback)){callback(c.table)}},checkResort:function(c,resort,callback){var sortList=$.isArray(resort)?resort:c.sortList,resrt=typeof resort==="undefined"?c.resort:resort;if(resrt!==false&&!c.serverSideSorting&&!c.table.isProcessing){if(sortList.length){ts.sortOn(c,sortList,function(){ts.resortComplete(c,callback)},true)}else{ts.sortReset(c,function(){ts.resortComplete(c,callback);ts.applyWidget(c.table,false)})}}else{ts.resortComplete(c,callback);ts.applyWidget(c.table,false)}},sortOn:function(c,list,callback,init){var indx,table=c.table;c.$table.triggerHandler("sortStart",table);for(indx=0;indx<c.columns;indx++){c.sortVars[indx].sortedBy=ts.isValueInArray(indx,list)>-1?"sorton":""}ts.updateHeaderSortCount(c,list);ts.setHeadersCss(c);if(c.delayInit&&ts.isEmptyObject(c.cache)){ts.buildCache(c)}c.$table.triggerHandler("sortBegin",table);ts.multisort(c);ts.appendCache(c,init);c.$table.triggerHandler("sortBeforeEnd",table);c.$table.triggerHandler("sortEnd",table);ts.applyWidget(table);if($.isFunction(callback)){callback(table)}},sortReset:function(c,callback){c.sortList=[];var indx;for(indx=0;indx<c.columns;indx++){c.sortVars[indx].count=-1;c.sortVars[indx].sortedBy=""}ts.setHeadersCss(c);ts.multisort(c);ts.appendCache(c);if($.isFunction(callback)){callback(c.table)}},getSortType:function(parsers,column){return parsers&&parsers[column]?parsers[column].type||"":""},getOrder:function(val){return/^d/i.test(val)||val===1},sortNatural:function(a,b){if(a===b){return 0}a=(a||"").toString();b=(b||"").toString();var aNum,bNum,aFloat,bFloat,indx,max,regex=ts.regex;if(regex.hex.test(b)){aNum=parseInt(a.match(regex.hex),16);bNum=parseInt(b.match(regex.hex),16);if(aNum<bNum){return-1}if(aNum>bNum){return 1}}aNum=a.replace(regex.chunk,"\\0$1\\0").replace(regex.chunks,"").split("\\0");bNum=b.replace(regex.chunk,"\\0$1\\0").replace(regex.chunks,"").split("\\0");max=Math.max(aNum.length,bNum.length);for(indx=0;indx<max;indx++){aFloat=isNaN(aNum[indx])?aNum[indx]||0:parseFloat(aNum[indx])||0;bFloat=isNaN(bNum[indx])?bNum[indx]||0:parseFloat(bNum[indx])||0;if(isNaN(aFloat)!==isNaN(bFloat)){return isNaN(aFloat)?1:-1}if(typeof aFloat!==typeof bFloat){aFloat+="";bFloat+=""}if(aFloat<bFloat){return-1}if(aFloat>bFloat){return 1}}return 0},sortNaturalAsc:function(a,b,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:-empty||-1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:empty||1}return ts.sortNatural(a,b)},sortNaturalDesc:function(a,b,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:empty||1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:-empty||-1}return ts.sortNatural(b,a)},sortText:function(a,b){return a>b?1:a<b?-1:0},getTextValue:function(val,num,max){if(max){var indx,len=val?val.length:0,n=max+num;for(indx=0;indx<len;indx++){n+=val.charCodeAt(indx)}return num*n}return 0},sortNumericAsc:function(a,b,num,max,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:-empty||-1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:empty||1}if(isNaN(a)){a=ts.getTextValue(a,num,max)}if(isNaN(b)){b=ts.getTextValue(b,num,max)}return a-b},sortNumericDesc:function(a,b,num,max,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:empty||1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:-empty||-1}if(isNaN(a)){a=ts.getTextValue(a,num,max)}if(isNaN(b)){b=ts.getTextValue(b,num,max)}return b-a},sortNumeric:function(a,b){return a-b},addWidget:function(widget){if(widget.id&&!ts.isEmptyObject(ts.getWidgetById(widget.id))){console.warn('"'+widget.id+'" widget was loaded more than once!')}ts.widgets[ts.widgets.length]=widget},hasWidget:function($table,name){$table=$($table);return $table.length&&$table[0].config&&$table[0].config.widgetInit[name]||false},getWidgetById:function(name){var indx,widget,len=ts.widgets.length;for(indx=0;indx<len;indx++){widget=ts.widgets[indx];if(widget&&widget.id&&widget.id.toLowerCase()===name.toLowerCase()){return widget}}},applyWidgetOptions:function(table){var indx,widget,wo,c=table.config,len=c.widgets.length;if(len){for(indx=0;indx<len;indx++){widget=ts.getWidgetById(c.widgets[indx]);if(widget&&widget.options){wo=$.extend(true,{},widget.options);c.widgetOptions=$.extend(true,wo,c.widgetOptions);$.extend(true,ts.defaults.widgetOptions,widget.options)}}}},addWidgetFromClass:function(table){var len,indx,c=table.config,regex="^"+c.widgetClass.replace(ts.regex.templateName,"(\\S+)+")+"$",widgetClass=new RegExp(regex,"g"),widgets=(table.className||"").split(ts.regex.spaces);if(widgets.length){len=widgets.length;for(indx=0;indx<len;indx++){if(widgets[indx].match(widgetClass)){c.widgets[c.widgets.length]=widgets[indx].replace(widgetClass,"$1")}}}},applyWidgetId:function(table,id,init){table=$(table)[0];var applied,time,name,c=table.config,wo=c.widgetOptions,debug=ts.debug(c,"core"),widget=ts.getWidgetById(id);if(widget){name=widget.id;applied=false;if($.inArray(name,c.widgets)<0){c.widgets[c.widgets.length]=name}if(debug){time=new Date}if(init||!c.widgetInit[name]){c.widgetInit[name]=true;if(table.hasInitialized){ts.applyWidgetOptions(table)}if(typeof widget.init==="function"){applied=true;if(debug){console[console.group?"group":"log"]("Initializing "+name+" widget")}widget.init(table,widget,c,wo)}}if(!init&&typeof widget.format==="function"){applied=true;if(debug){console[console.group?"group":"log"]("Updating "+name+" widget")}widget.format(table,c,wo,false)}if(debug){if(applied){console.log("Completed "+(init?"initializing ":"applying ")+name+" widget"+ts.benchmark(time));if(console.groupEnd){console.groupEnd()}}}}},applyWidget:function(table,init,callback){table=$(table)[0];var indx,len,names,widget,time,c=table.config,debug=ts.debug(c,"core"),widgets=[];if(init!==false&&table.hasInitialized&&(table.isApplyingWidgets||table.isUpdating)){return}if(debug){time=new Date}ts.addWidgetFromClass(table);clearTimeout(c.timerReady);if(c.widgets.length){table.isApplyingWidgets=true;c.widgets=$.grep(c.widgets,function(val,index){return $.inArray(val,c.widgets)===index});names=c.widgets||[];len=names.length;for(indx=0;indx<len;indx++){widget=ts.getWidgetById(names[indx]);if(widget&&widget.id){if(!widget.priority){widget.priority=10}widgets[indx]=widget}else if(debug){console.warn('"'+names[indx]+'" was enabled, but the widget code has not been loaded!')}}widgets.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1});len=widgets.length;if(debug){console[console.group?"group":"log"]("Start "+(init?"initializing":"applying")+" widgets")}for(indx=0;indx<len;indx++){widget=widgets[indx];if(widget&&widget.id){ts.applyWidgetId(table,widget.id,init)}}if(debug&&console.groupEnd){console.groupEnd()}}c.timerReady=setTimeout(function(){table.isApplyingWidgets=false;$.data(table,"lastWidgetApplication",new Date);c.$table.triggerHandler("tablesorter-ready");if(!init&&typeof callback==="function"){callback(table)}if(debug){widget=c.widgets.length;console.log("Completed "+(init===true?"initializing ":"applying ")+widget+" widget"+(widget!==1?"s":"")+ts.benchmark(time))}},10)},removeWidget:function(table,name,refreshing){table=$(table)[0];var index,widget,indx,len,c=table.config;if(name===true){name=[];len=ts.widgets.length;for(indx=0;indx<len;indx++){widget=ts.widgets[indx];if(widget&&widget.id){name[name.length]=widget.id}}}else{name=($.isArray(name)?name.join(","):name||"").toLowerCase().split(/[\s,]+/)}len=name.length;for(index=0;index<len;index++){widget=ts.getWidgetById(name[index]);indx=$.inArray(name[index],c.widgets);if(indx>=0&&refreshing!==true){c.widgets.splice(indx,1)}if(widget&&widget.remove){if(ts.debug(c,"core")){console.log((refreshing?"Refreshing":"Removing")+' "'+name[index]+'" widget')}widget.remove(table,c,c.widgetOptions,refreshing);c.widgetInit[name[index]]=false}}c.$table.triggerHandler("widgetRemoveEnd",table)},refreshWidgets:function(table,doAll,dontapply){table=$(table)[0];var indx,widget,c=table.config,curWidgets=c.widgets,widgets=ts.widgets,len=widgets.length,list=[],callback=function(table){$(table).triggerHandler("refreshComplete")};for(indx=0;indx<len;indx++){widget=widgets[indx];if(widget&&widget.id&&(doAll||$.inArray(widget.id,curWidgets)<0)){list[list.length]=widget.id}}ts.removeWidget(table,list.join(","),true);if(dontapply!==true){ts.applyWidget(table,doAll||false,callback);if(doAll){ts.applyWidget(table,false,callback)}}else{callback(table)}},benchmark:function(diff){return" ("+((new Date).getTime()-diff.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(c,name){return c&&(c.debug===true||typeof c.debug==="string"&&c.debug.indexOf(name)>-1)},isEmptyObject:function(obj){for(var name in obj){return false}return true},isValueInArray:function(column,arry){var indx,len=arry&&arry.length||0;for(indx=0;indx<len;indx++){if(arry[indx][0]===column){return indx}}return-1},formatFloat:function(str,table){if(typeof str!=="string"||str===""){return str}var num,usFormat=table&&table.config?table.config.usNumberFormat!==false:typeof table!=="undefined"?table:true;if(usFormat){str=str.replace(ts.regex.comma,"")}else{str=str.replace(ts.regex.digitNonUS,"").replace(ts.regex.comma,".")}if(ts.regex.digitNegativeTest.test(str)){str=str.replace(ts.regex.digitNegativeReplace,"-$1")}num=parseFloat(str);return isNaN(num)?$.trim(str):num},isDigit:function(str){return isNaN(str)?ts.regex.digitTest.test(str.toString().replace(ts.regex.digitReplace,"")):str!==""},computeColumnIndex:function($rows,c){var i,j,k,l,cell,cells,rowIndex,rowSpan,colSpan,firstAvailCol,columns=c&&c.columns||0,matrix=[],matrixrow=new Array(columns);for(i=0;i<$rows.length;i++){cells=$rows[i].cells;for(j=0;j<cells.length;j++){cell=cells[j];rowIndex=i;rowSpan=cell.rowSpan||1;colSpan=cell.colSpan||1;if(typeof matrix[rowIndex]==="undefined"){matrix[rowIndex]=[]}for(k=0;k<matrix[rowIndex].length+1;k++){if(typeof matrix[rowIndex][k]==="undefined"){firstAvailCol=k;break}}if(columns&&cell.cellIndex===firstAvailCol){}else if(cell.setAttribute){cell.setAttribute("data-column",firstAvailCol)}else{$(cell).attr("data-column",firstAvailCol)}for(k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof matrix[k]==="undefined"){matrix[k]=[]}matrixrow=matrix[k];for(l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}ts.checkColumnCount($rows,matrix,matrixrow.length);return matrixrow.length},checkColumnCount:function($rows,matrix,columns){var i,len,valid=true,cells=[];for(i=0;i<matrix.length;i++){if(matrix[i]){len=matrix[i].length;if(matrix[i].length!==columns){valid=false;break}}}if(!valid){$rows.each(function(indx,el){var cell=el.parentElement.nodeName;if(cells.indexOf(cell)<0){cells.push(cell)}});console.error("Invalid or incorrect number of columns in the "+cells.join(" or ")+"; expected "+columns+", but found "+len+" columns")}},fixColumnWidth:function(table){table=$(table)[0];var overallWidth,percent,$tbodies,len,index,c=table.config,$colgroup=c.$table.children("colgroup");if($colgroup.length&&$colgroup.hasClass(ts.css.colgroup)){$colgroup.remove()}if(c.widthFixed&&c.$table.children("colgroup").length===0){$colgroup=$('<colgroup class="'+ts.css.colgroup+'">');overallWidth=c.$table.width();$tbodies=c.$tbodies.find("tr:first").children(":visible");len=$tbodies.length;for(index=0;index<len;index++){percent=parseInt($tbodies.eq(index).width()/overallWidth*1e3,10)/10+"%";$colgroup.append($("<col>").css("width",percent))}c.$table.prepend($colgroup)}},getData:function(header,configHeader,key){var meta,cl4ss,val="",$header=$(header);if(!$header.length){return""}meta=$.metadata?$header.metadata():false;cl4ss=" "+($header.attr("class")||"");if(typeof $header.data(key)!=="undefined"||typeof $header.data(key.toLowerCase())!=="undefined"){val+=$header.data(key)||$header.data(key.toLowerCase())}else if(meta&&typeof meta[key]!=="undefined"){val+=meta[key]}else if(configHeader&&typeof configHeader[key]!=="undefined"){val+=configHeader[key]}else if(cl4ss!==" "&&cl4ss.match(" "+key+"-")){val=cl4ss.match(new RegExp("\\s"+key+"-([\\w-]+)"))[1]||""}return $.trim(val)},getColumnData:function(table,obj,indx,getCell,$headers){if(typeof obj!=="object"||obj===null){return obj}table=$(table)[0];var $header,key,c=table.config,$cells=$headers||c.$headers,$cell=c.$headerIndexed&&c.$headerIndexed[indx]||$cells.find('[data-column="'+indx+'"]:last');if(typeof obj[indx]!=="undefined"){return getCell?obj[indx]:obj[$cells.index($cell)]}for(key in obj){if(typeof key==="string"){$header=$cell.filter(key).add($cell.find(key));if($header.length){return obj[key]}}}return},isProcessing:function($table,toggle,$headers){$table=$($table);var c=$table[0].config,$header=$headers||$table.find("."+ts.css.header);if(toggle){if(typeof $headers!=="undefined"&&c.sortList.length>0){$header=$header.filter(function(){return this.sortDisabled?false:ts.isValueInArray(parseFloat($(this).attr("data-column")),c.sortList)>=0})}$table.add($header).addClass(ts.css.processing+" "+c.cssProcessing)}else{$table.add($header).removeClass(ts.css.processing+" "+c.cssProcessing)}},processTbody:function(table,$tb,getIt){table=$(table)[0];if(getIt){table.isProcessing=true;$tb.before('<colgroup class="tablesorter-savemyplace"/>');return $.fn.detach?$tb.detach():$tb.remove()}var holdr=$(table).find("colgroup.tablesorter-savemyplace");$tb.insertAfter(holdr);holdr.remove();table.isProcessing=false},clearTableBody:function(table){$(table)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"",A:"",c:"",C:"",e:"",E:"",i:"",I:"",o:"",O:"",ss:"",SS:"",u:"",U:""},replaceAccents:function(str){var chr,acc="[",eq=ts.characterEquivalents;if(!ts.characterRegex){ts.characterRegexArray={};for(chr in eq){if(typeof chr==="string"){acc+=eq[chr];ts.characterRegexArray[chr]=new RegExp("["+eq[chr]+"]","g")}}ts.characterRegex=new RegExp(acc+"]")}if(ts.characterRegex.test(str)){for(chr in eq){if(typeof chr==="string"){str=str.replace(ts.characterRegexArray[chr],chr)}}}return str},validateOptions:function(c){var setting,setting2,typ,timer,ignore="headers sortForce sortList sortAppend widgets".split(" "),orig=c.originalSettings;if(orig){if(ts.debug(c,"core")){timer=new Date}for(setting in orig){typ=typeof ts.defaults[setting];if(typ==="undefined"){console.warn('Tablesorter Warning! "table.config.'+setting+'" option not recognized')}else if(typ==="object"){for(setting2 in orig[setting]){typ=ts.defaults[setting]&&typeof ts.defaults[setting][setting2];if($.inArray(setting,ignore)<0&&typ==="undefined"){console.warn('Tablesorter Warning! "table.config.'+setting+"."+setting2+'" option not recognized')}}}}if(ts.debug(c,"core")){console.log("validate options time:"+ts.benchmark(timer))}}},restoreHeaders:function(table){var index,$cell,c=$(table)[0].config,$headers=c.$table.find(c.selectorHeaders),len=$headers.length;for(index=0;index<len;index++){$cell=$headers.eq(index);if($cell.find("."+ts.css.headerIn).length){$cell.html(c.headerContent[index])}}},destroy:function(table,removeClasses,callback){table=$(table)[0];if(!table.hasInitialized){return}ts.removeWidget(table,true,false);var events,$t=$(table),c=table.config,$h=$t.find("thead:first"),$r=$h.find("tr."+ts.css.headerRow).removeClass(ts.css.headerRow+" "+c.cssHeaderRow),$f=$t.find("tfoot:first > tr").children("th, td");if(removeClasses===false&&$.inArray("uitheme",c.widgets)>=0){$t.triggerHandler("applyWidgetId",["uitheme"]);$t.triggerHandler("applyWidgetId",["zebra"])}$h.find("tr").not($r).remove();events="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton "+"appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(c.namespace+" ");$t.removeData("tablesorter").unbind(events.replace(ts.regex.spaces," "));c.$headers.add($f).removeClass([ts.css.header,c.cssHeader,c.cssAsc,c.cssDesc,ts.css.sortAsc,ts.css.sortDesc,ts.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true");$r.find(c.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(c.namespace+" ").replace(ts.regex.spaces," "));ts.restoreHeaders(table);$t.toggleClass(ts.css.table+" "+c.tableClass+" tablesorter-"+c.theme,removeClasses===false);$t.removeClass(c.namespace.slice(1));table.hasInitialized=false;delete table.config.cache;if(typeof callback==="function"){callback(table)}if(ts.debug(c,"core")){console.log("tablesorter has been removed")}}};$.fn.tablesorter=function(settings){return this.each(function(){var table=this,c=$.extend(true,{},ts.defaults,settings,ts.instanceMethods);c.originalSettings=settings;if(!table.hasInitialized&&ts.buildTable&&this.nodeName!=="TABLE"){ts.buildTable(table,c)}else{ts.setup(table,c)}})};if(!(window.console&&window.console.log)){ts.logs=[];console={};console.log=console.warn=console.error=console.table=function(){var arg=arguments.length>1?arguments:arguments[0];ts.logs[ts.logs.length]={date:Date.now(),log:arg}}}ts.addParser({id:"no-parser",is:function(){return false},format:function(){return""},type:"text"});ts.addParser({id:"text",is:function(){return true},format:function(str,table){var c=table.config;if(str){str=$.trim(c.ignoreCase?str.toLocaleLowerCase():str);str=c.sortLocaleCompare?ts.replaceAccents(str):str}return str},type:"text"});ts.regex.nondigit=/[^\w,. \-()]/g;ts.addParser({id:"digit",is:function(str){return ts.isDigit(str)},format:function(str,table){var num=ts.formatFloat((str||"").replace(ts.regex.nondigit,""),table);return str&&typeof num==="number"?num:str?$.trim(str&&table.config.ignoreCase?str.toLocaleLowerCase():str):str},type:"numeric"});ts.regex.currencyReplace=/[+\-,. ]/g;ts.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/;ts.addParser({id:"currency",is:function(str){str=(str||"").replace(ts.regex.currencyReplace,"");return ts.regex.currencyTest.test(str)},format:function(str,table){var num=ts.formatFloat((str||"").replace(ts.regex.nondigit,""),table);return str&&typeof num==="number"?num:str?$.trim(str&&table.config.ignoreCase?str.toLocaleLowerCase():str):str},type:"numeric"});ts.regex.urlProtocolTest=/^(https?|ftp|file):\/\//;ts.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/;ts.addParser({id:"url",is:function(str){return ts.regex.urlProtocolTest.test(str)},format:function(str){return str?$.trim(str.replace(ts.regex.urlProtocolReplace,"")):str},type:"text"});ts.regex.dash=/-/g;ts.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/;ts.addParser({id:"isoDate",is:function(str){return ts.regex.isoDate.test(str)},format:function(str){var date=str?new Date(str.replace(ts.regex.dash,"/")):str;return date instanceof Date&&isFinite(date)?date.getTime():str},type:"numeric"});ts.regex.percent=/%/g;ts.regex.percentTest=/(\d\s*?%|%\s*?\d)/;ts.addParser({id:"percent",is:function(str){return ts.regex.percentTest.test(str)&&str.length<15},format:function(str,table){return str?ts.formatFloat(str.replace(ts.regex.percent,""),table):str},type:"numeric"});ts.addParser({id:"image",is:function(str,table,node,$node){return $node.find("img").length>0},format:function(str,table,cell){return $(cell).find("img").attr(table.config.imgAttr||"alt")||str},parsed:true,type:"text"});ts.regex.dateReplace=/(\S)([AP]M)$/i;ts.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i;ts.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i;ts.addParser({id:"usLongDate",is:function(str){return ts.regex.usLongDateTest1.test(str)||ts.regex.usLongDateTest2.test(str)},format:function(str){var date=str?new Date(str.replace(ts.regex.dateReplace,"$1 $2")):str;return date instanceof Date&&isFinite(date)?date.getTime():str},type:"numeric"});ts.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/;ts.regex.shortDateReplace=/[\-.,]/g;ts.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/;ts.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/;ts.convertFormat=function(dateString,format){dateString=(dateString||"").replace(ts.regex.spaces," ").replace(ts.regex.shortDateReplace,"/");if(format==="mmddyyyy"){dateString=dateString.replace(ts.regex.shortDateXXY,"$3/$1/$2")}else if(format==="ddmmyyyy"){dateString=dateString.replace(ts.regex.shortDateXXY,"$3/$2/$1")}else if(format==="yyyymmdd"){dateString=dateString.replace(ts.regex.shortDateYMD,"$1/$2/$3")}var date=new Date(dateString);return date instanceof Date&&isFinite(date)?date.getTime():""};ts.addParser({id:"shortDate",is:function(str){str=(str||"").replace(ts.regex.spaces," ").replace(ts.regex.shortDateReplace,"/");return ts.regex.shortDateTest.test(str)},format:function(str,table,cell,cellIndex){if(str){var c=table.config,$header=c.$headerIndexed[cellIndex],format=$header.length&&$header.data("dateFormat")||ts.getData($header,ts.getColumnData(table,c.headers,cellIndex),"dateFormat")||c.dateFormat;if($header.length){$header.data("dateFormat",format)}return ts.convertFormat(str,format)||str}return str},type:"numeric"});ts.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i;ts.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i;ts.addParser({id:"time",is:function(str){return ts.regex.timeTest.test(str)},format:function(str){var temp,timePart=(str||"").match(ts.regex.timeMatch),orig=new Date(str),time=str&&(timePart!==null?timePart[0]:"00:00 AM"),date=time?new Date("2000/01/01 "+time.replace(ts.regex.dateReplace,"$1 $2")):time;if(date instanceof Date&&isFinite(date)){temp=orig instanceof Date&&isFinite(orig)?orig.getTime():0;return temp?parseFloat(date.getTime()+"."+orig.getTime()):date.getTime()}return str},type:"numeric"});ts.addParser({id:"metadata",is:function(){return false},format:function(str,table,cell){var c=table.config,p=!c.parserMetadataName?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",priority:90,format:function(table,c,wo){var $visibleRows,$row,count,isEven,tbodyIndex,rowIndex,len,child=new RegExp(c.cssChildRow,"i"),$tbodies=c.$tbodies.add($(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){count=0;$visibleRows=$tbodies.eq(tbodyIndex).children("tr:visible").not(c.selectorRemove);len=$visibleRows.length;for(rowIndex=0;rowIndex<len;rowIndex++){$row=$visibleRows.eq(rowIndex);if(!child.test($row[0].className)){count++}isEven=count%2===0;$row.removeClass(wo.zebra[isEven?1:0]).addClass(wo.zebra[isEven?0:1])}}},remove:function(table,c,wo,refreshing){if(refreshing){return}var tbodyIndex,$tbody,$tbodies=c.$tbodies,toRemove=(wo.zebra||["even","odd"]).join(" ");for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(toRemove);ts.processTbody(table,$tbody,false)}}})})(jQuery);
(function($){$.extend({tablesorterPager:new function(){function updatePageDisplay(c){var s=$(c.cssPageDisplay,c.container).val(c.page+1+c.seperator+c.totalPages)}function setPageSize(table,size){var c=table.config;c.size=size;c.totalPages=Math.ceil(c.totalRows/c.size);c.pagerPositionSet=false;moveToPage(table);fixPosition(table)}function fixPosition(table){var c=table.config;if(!c.pagerPositionSet&&c.positionFixed){var c=table.config,o=$(table);if(o.offset){c.container.css({top:o.offset().top+o.height()+"px",position:"absolute"})}c.pagerPositionSet=true}}function moveToFirstPage(table){var c=table.config;c.page=0;moveToPage(table)}function moveToLastPage(table){var c=table.config;c.page=c.totalPages-1;moveToPage(table)}function moveToNextPage(table){var c=table.config;c.page++;if(c.page>=c.totalPages-1){c.page=c.totalPages-1}moveToPage(table)}function moveToPrevPage(table){var c=table.config;c.page--;if(c.page<=0){c.page=0}moveToPage(table)}function moveToPage(table){var c=table.config;if(c.page<0||c.page>c.totalPages-1){c.page=0}renderTable(table,c.rowsCopy)}function renderTable(table,rows){var c=table.config;var l=rows.length;var s=c.page*c.size;var e=s+c.size;if(e>rows.length){e=rows.length}var tableBody=$(table.tBodies[0]);$.tablesorter.clearTableBody(table);for(var i=s;i<e;i++){var o=rows[i];var l=o.length;for(var j=0;j<l;j++){tableBody[0].appendChild(o[j])}}fixPosition(table,tableBody);$(table).trigger("applyWidgets");if(c.page>=c.totalPages){moveToLastPage(table)}updatePageDisplay(c)}this.appender=function(table,rows){var c=table.config;c.rowsCopy=rows;c.totalRows=rows.length;c.totalPages=Math.ceil(c.totalRows/c.size);renderTable(table,rows)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",seperator:"/",positionFixed:true,appender:this.appender};this.construct=function(settings){return this.each(function(){config=$.extend(this.config,$.tablesorterPager.defaults,settings);var table=this,pager=config.container;$(this).trigger("appendCache");config.size=parseInt($(".pagesize",pager).val());$(config.cssFirst,pager).click(function(){moveToFirstPage(table);return false});$(config.cssNext,pager).click(function(){moveToNextPage(table);return false});$(config.cssPrev,pager).click(function(){moveToPrevPage(table);return false});$(config.cssLast,pager).click(function(){moveToLastPage(table);return false});$(config.cssPageSize,pager).change(function(){setPageSize(table,parseInt($(this).val()));return false})})}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery);
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function(jQuery){(function($,window,document){"use strict";var ts=$.tablesorter||{};$.extend(true,ts.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}});ts.storage=function(table,key,value,options){table=$(table)[0];var cookieIndex,cookies,date,hasStorage=false,values={},c=table.config,wo=c&&c.widgetOptions,debug=ts.debug(c,"storage"),storageType=(options&&options.storageType||wo&&wo.storage_storageType).toString().charAt(0).toLowerCase(),session=storageType?"":options&&options.useSessionStorage||wo&&wo.storage_useSessionStorage,$table=$(table),id=options&&options.id||$table.attr(options&&options.group||wo&&wo.storage_group||"data-table-group")||wo&&wo.storage_tableId||table.id||$(".tablesorter").index($table),url=options&&options.url||$table.attr(options&&options.page||wo&&wo.storage_page||"data-table-page")||wo&&wo.storage_fixedUrl||c&&c.fixedUrl||window.location.pathname;if(storageType!=="c"){storageType=storageType==="s"||session?"sessionStorage":"localStorage";if(storageType in window){try{window[storageType].setItem("_tmptest","temp");hasStorage=true;window[storageType].removeItem("_tmptest")}catch(error){console.warn(storageType+" is not supported in this browser")}}}if(debug){console.log("Storage >> Using",hasStorage?storageType:"cookies")}if($.parseJSON){if(hasStorage){values=$.parseJSON(window[storageType][key]||"null")||{}}else{cookies=document.cookie.split(/[;\s|=]/);cookieIndex=$.inArray(key,cookies)+1;values=cookieIndex!==0?$.parseJSON(cookies[cookieIndex]||"null")||{}:{}}}if(typeof value!=="undefined"&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!values[url]){values[url]={}}values[url][id]=value;if(hasStorage){window[storageType][key]=JSON.stringify(values)}else{date=new Date;date.setTime(date.getTime()+31536e6);document.cookie=key+"="+JSON.stringify(values).replace(/\"/g,'"')+"; expires="+date.toGMTString()+"; path=/"}}else{return values&&values[url]?values[url][id]:""}}})(jQuery,window,document);(function($){"use strict";var ts=$.tablesorter||{};ts.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}};$.extend(ts.css,{wrapper:"tablesorter-wrapper"});ts.addWidget({id:"uitheme",priority:10,format:function(table,c,wo){var i,tmp,hdr,icon,time,$header,$icon,$tfoot,$h,oldtheme,oldremove,oldIconRmv,hasOldTheme,themesAll=ts.themes,$table=c.$table.add($(c.namespace+"_extra_table")),$headers=c.$headers.add($(c.namespace+"_extra_headers")),theme=c.theme||"jui",themes=themesAll[theme]||{},remove=$.trim([themes.sortNone,themes.sortDesc,themes.sortAsc,themes.active].join(" ")),iconRmv=$.trim([themes.iconSortNone,themes.iconSortDesc,themes.iconSortAsc].join(" ")),debug=ts.debug(c,"uitheme");if(debug){time=new Date}if(!$table.hasClass("tablesorter-"+theme)||c.theme!==c.appliedTheme||!wo.uitheme_applied){wo.uitheme_applied=true;oldtheme=themesAll[c.appliedTheme]||{};hasOldTheme=!$.isEmptyObject(oldtheme);oldremove=hasOldTheme?[oldtheme.sortNone,oldtheme.sortDesc,oldtheme.sortAsc,oldtheme.active].join(" "):"";oldIconRmv=hasOldTheme?[oldtheme.iconSortNone,oldtheme.iconSortDesc,oldtheme.iconSortAsc].join(" "):"";if(hasOldTheme){wo.zebra[0]=$.trim(" "+wo.zebra[0].replace(" "+oldtheme.even,""));wo.zebra[1]=$.trim(" "+wo.zebra[1].replace(" "+oldtheme.odd,""));c.$tbodies.children().removeClass([oldtheme.even,oldtheme.odd].join(" "))}if(themes.even){wo.zebra[0]+=" "+themes.even}if(themes.odd){wo.zebra[1]+=" "+themes.odd}$table.children("caption").removeClass(oldtheme.caption||"").addClass(themes.caption);$tfoot=$table.removeClass((c.appliedTheme?"tablesorter-"+(c.appliedTheme||""):"")+" "+(oldtheme.table||"")).addClass("tablesorter-"+theme+" "+(themes.table||"")).children("tfoot");c.appliedTheme=c.theme;if($tfoot.length){$tfoot.children("tr").removeClass(oldtheme.footerRow||"").addClass(themes.footerRow).children("th, td").removeClass(oldtheme.footerCells||"").addClass(themes.footerCells)}$headers.removeClass((hasOldTheme?[oldtheme.header,oldtheme.hover,oldremove].join(" "):"")||"").addClass(themes.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(event){$(this)[event.type==="mouseenter"?"addClass":"removeClass"](themes.hover||"")});$headers.each(function(){var $this=$(this);if(!$this.find("."+ts.css.wrapper).length){$this.wrapInner('<div class="'+ts.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}});if(c.cssIcon){$headers.find("."+ts.css.icon).removeClass(hasOldTheme?[oldtheme.icons,oldIconRmv].join(" "):"").addClass(themes.icons||"")}if(ts.hasWidget(c.table,"filter")){tmp=function(){$table.children("thead").children("."+ts.css.filterRow).removeClass(hasOldTheme?oldtheme.filterRow||"":"").addClass(themes.filterRow||"")};if(wo.filter_initialized){tmp()}else{$table.one("filterInit",function(){tmp()})}}}for(i=0;i<c.columns;i++){$header=c.$headers.add($(c.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+i+'"]');$icon=ts.css.icon?$header.find("."+ts.css.icon):$();$h=$headers.not(".sorter-false").filter('[data-column="'+i+'"]:last');if($h.length){$header.removeClass(remove);$icon.removeClass(iconRmv);if($h[0].sortDisabled){$icon.removeClass(themes.icons||"")}else{hdr=themes.sortNone;icon=themes.iconSortNone;if($h.hasClass(ts.css.sortAsc)){hdr=[themes.sortAsc,themes.active].join(" ");icon=themes.iconSortAsc}else if($h.hasClass(ts.css.sortDesc)){hdr=[themes.sortDesc,themes.active].join(" ");icon=themes.iconSortDesc}$header.addClass(hdr);$icon.addClass(icon||"")}}}if(debug){console.log("uitheme >> Applied "+theme+" theme"+ts.benchmark(time))}},remove:function(table,c,wo,refreshing){if(!wo.uitheme_applied){return}var $table=c.$table,theme=c.appliedTheme||"jui",themes=ts.themes[theme]||ts.themes.jui,$headers=$table.children("thead").children(),remove=themes.sortNone+" "+themes.sortDesc+" "+themes.sortAsc,iconRmv=themes.iconSortNone+" "+themes.iconSortDesc+" "+themes.iconSortAsc;$table.removeClass("tablesorter-"+theme+" "+themes.table);wo.uitheme_applied=false;if(refreshing){return}$table.find(ts.css.header).removeClass(themes.header);$headers.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(themes.hover+" "+remove+" "+themes.active).filter("."+ts.css.filterRow).removeClass(themes.filterRow);$headers.find("."+ts.css.icon).removeClass(themes.icons+" "+iconRmv)}})})(jQuery);(function($){"use strict";var ts=$.tablesorter||{};ts.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(table,c,wo){var $tbody,tbodyIndex,$rows,rows,$row,$cells,remove,indx,$table=c.$table,$tbodies=c.$tbodies,sortList=c.sortList,len=sortList.length,css=wo&&wo.columns||["primary","secondary","tertiary"],last=css.length-1;remove=css.join(" ");for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$rows=$tbody.children("tr");$rows.each(function(){$row=$(this);if(this.style.display!=="none"){$cells=$row.children().removeClass(remove);if(sortList&&sortList[0]){$cells.eq(sortList[0][0]).addClass(css[0]);if(len>1){for(indx=1;indx<len;indx++){$cells.eq(sortList[indx][0]).addClass(css[indx]||css[last])}}}}});ts.processTbody(table,$tbody,false)}rows=wo.columns_thead!==false?["thead tr"]:[];if(wo.columns_tfoot!==false){rows.push("tfoot tr")}if(rows.length){$rows=$table.find(rows.join(",")).children().removeClass(remove);if(len){for(indx=0;indx<len;indx++){$rows.filter('[data-column="'+sortList[indx][0]+'"]').addClass(css[indx]||css[last])}}}},remove:function(table,c,wo){var tbodyIndex,$tbody,$tbodies=c.$tbodies,remove=(wo.columns||["primary","secondary","tertiary"]).join(" ");c.$headers.removeClass(remove);c.$table.children("tfoot").children("tr").children("th, td").removeClass(remove);for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children("tr").each(function(){$(this).children().removeClass(remove)});ts.processTbody(table,$tbody,false)}}})})(jQuery);(function($){"use strict";var tsf,tsfRegex,ts=$.tablesorter||{},tscss=ts.css,tskeyCodes=ts.keyCodes;$.extend(tscss,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"});$.extend(tskeyCodes,{backSpace:8,escape:27,space:32,left:37,down:40});ts.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:false,filter_childByColumn:false,filter_childWithSibs:true,filter_columnAnyMatch:true,filter_columnFilters:true,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:true,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:true,filter_saveFilters:false,filter_searchDelay:300,filter_searchFiltered:true,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:false,filter_startsWith:false,filter_useParsedData:false},format:function(table,c,wo){if(!c.$table.hasClass("hasFilters")){tsf.init(table,c,wo)}},remove:function(table,c,wo,refreshing){var tbodyIndex,$tbody,$table=c.$table,$tbodies=c.$tbodies,events=("addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ").split(" ").join(c.namespace+"filter ");$table.removeClass("hasFilters").unbind(events.replace(ts.regex.spaces," ")).find("."+tscss.filterRow).remove();wo.filter_initialized=false;if(refreshing){return}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(wo.filter_filteredRow).show();ts.processTbody(table,$tbody,false)}if(wo.filter_reset){$(document).undelegate(wo.filter_reset,"click"+c.namespace+"filter")}}});tsf=ts.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(c,data,vars){if((tsfRegex.orTest.test(data.iFilter)||tsfRegex.orSplit.test(data.filter))&&!tsfRegex.regex.test(data.filter)){var indx,filterMatched,query,regex,data2=$.extend({},data),filter=data.filter.split(tsfRegex.orSplit),iFilter=data.iFilter.split(tsfRegex.orSplit),len=filter.length;for(indx=0;indx<len;indx++){data2.nestedFilters=true;data2.filter=""+(tsf.parseFilter(c,filter[indx],data)||"");data2.iFilter=""+(tsf.parseFilter(c,iFilter[indx],data)||"");query="("+(tsf.parseFilter(c,data2.filter,data)||"")+")";try{regex=new RegExp(data.isMatch?query:"^"+query+"$",c.widgetOptions.filter_ignoreCase?"i":"");filterMatched=regex.test(data2.exact)||tsf.processTypes(c,data2,vars);if(filterMatched){return filterMatched}}catch(error){return null}}return filterMatched||false}return null},and:function(c,data,vars){if(tsfRegex.andTest.test(data.filter)){var indx,filterMatched,result,query,regex,data2=$.extend({},data),filter=data.filter.split(tsfRegex.andSplit),iFilter=data.iFilter.split(tsfRegex.andSplit),len=filter.length;for(indx=0;indx<len;indx++){data2.nestedFilters=true;data2.filter=""+(tsf.parseFilter(c,filter[indx],data)||"");data2.iFilter=""+(tsf.parseFilter(c,iFilter[indx],data)||"");query=("("+(tsf.parseFilter(c,data2.filter,data)||"")+")").replace(tsfRegex.wild01,"\\S{1}").replace(tsfRegex.wild0More,"\\S*");try{regex=new RegExp(data.isMatch?query:"^"+query+"$",c.widgetOptions.filter_ignoreCase?"i":"");result=regex.test(data2.exact)||tsf.processTypes(c,data2,vars);if(indx===0){filterMatched=result}else{filterMatched=filterMatched&&result}}catch(error){return null}}return filterMatched||false}return null},regex:function(c,data){if(tsfRegex.regex.test(data.filter)){var matches,regex=data.filter_regexCache[data.index]||tsfRegex.regex.exec(data.filter),isRegex=regex instanceof RegExp;try{if(!isRegex){data.filter_regexCache[data.index]=regex=new RegExp(regex[1],regex[2])}matches=regex.test(data.exact)}catch(error){matches=false}return matches}return null},operators:function(c,data){if(tsfRegex.operTest.test(data.iFilter)&&data.iExact!==""){var cachedValue,result,txt,table=c.table,parsed=data.parsed[data.index],query=ts.formatFloat(data.iFilter.replace(tsfRegex.operators,""),table),parser=c.parsers[data.index]||{},savedSearch=query;if(parsed||parser.type==="numeric"){txt=$.trim(""+data.iFilter.replace(tsfRegex.operators,""));result=tsf.parseFilter(c,txt,data,true);query=typeof result==="number"&&result!==""&&!isNaN(result)?result:query}if((parsed||parser.type==="numeric")&&!isNaN(query)&&typeof data.cache!=="undefined"){cachedValue=data.cache}else{txt=isNaN(data.iExact)?data.iExact.replace(ts.regex.nondigit,""):data.iExact;cachedValue=ts.formatFloat(txt,table)}if(tsfRegex.gtTest.test(data.iFilter)){result=tsfRegex.gteTest.test(data.iFilter)?cachedValue>=query:cachedValue>query}else if(tsfRegex.ltTest.test(data.iFilter)){result=tsfRegex.lteTest.test(data.iFilter)?cachedValue<=query:cachedValue<query}if(!result&&savedSearch===""){result=true}return result}return null},notMatch:function(c,data){if(tsfRegex.notTest.test(data.iFilter)){var indx,txt=data.iFilter.replace("!",""),filter=tsf.parseFilter(c,txt,data)||"";if(tsfRegex.exact.test(filter)){filter=filter.replace(tsfRegex.exact,"");return filter===""?true:$.trim(filter)!==data.iExact}else{indx=data.iExact.search($.trim(filter));return filter===""?true:data.anyMatch?indx<0:!(c.widgetOptions.filter_startsWith?indx===0:indx>=0)}}return null},exact:function(c,data){if(tsfRegex.exact.test(data.iFilter)){var txt=data.iFilter.replace(tsfRegex.exact,""),filter=tsf.parseFilter(c,txt,data)||"";return data.anyMatch?$.inArray(filter,data.rowArray)>=0:filter==data.iExact}return null},range:function(c,data){if(tsfRegex.toTest.test(data.iFilter)){var result,tmp,range1,range2,table=c.table,index=data.index,parsed=data.parsed[index],query=data.iFilter.split(tsfRegex.toSplit);tmp=query[0].replace(ts.regex.nondigit,"")||"";range1=ts.formatFloat(tsf.parseFilter(c,tmp,data),table);tmp=query[1].replace(ts.regex.nondigit,"")||"";range2=ts.formatFloat(tsf.parseFilter(c,tmp,data),table);if(parsed||c.parsers[index].type==="numeric"){result=c.parsers[index].format(""+query[0],table,c.$headers.eq(index),index);range1=result!==""&&!isNaN(result)?result:range1;result=c.parsers[index].format(""+query[1],table,c.$headers.eq(index),index);range2=result!==""&&!isNaN(result)?result:range2}if((parsed||c.parsers[index].type==="numeric")&&!isNaN(range1)&&!isNaN(range2)){result=data.cache}else{tmp=isNaN(data.iExact)?data.iExact.replace(ts.regex.nondigit,""):data.iExact;result=ts.formatFloat(tmp,table)}if(range1>range2){tmp=range1;range1=range2;range2=tmp}return result>=range1&&result<=range2||(range1===""||range2==="")}return null},wild:function(c,data){if(tsfRegex.wildOrTest.test(data.iFilter)){var query=""+(tsf.parseFilter(c,data.iFilter,data)||"");if(!tsfRegex.wildTest.test(query)&&data.nestedFilters){query=data.isMatch?query:"^("+query+")$"}try{return new RegExp(query.replace(tsfRegex.wild01,"\\S{1}").replace(tsfRegex.wild0More,"\\S*"),c.widgetOptions.filter_ignoreCase?"i":"").test(data.exact)}catch(error){return null}}return null},fuzzy:function(c,data){if(tsfRegex.fuzzyTest.test(data.iFilter)){var indx,patternIndx=0,len=data.iExact.length,txt=data.iFilter.slice(1),pattern=tsf.parseFilter(c,txt,data)||"";for(indx=0;indx<len;indx++){if(data.iExact[indx]===pattern[patternIndx]){patternIndx+=1}}return patternIndx===pattern.length}return null}},init:function(table){ts.language=$.extend(true,{},{to:"to",or:"or",and:"and"},ts.language);var options,string,txt,$header,column,val,fxn,noSelect,c=table.config,wo=c.widgetOptions,processStr=function(prefix,str,suffix){str=str.trim();return str===""?"":(prefix||"")+str+(suffix||"")};c.$table.addClass("hasFilters");c.lastSearch=[];wo.filter_searchTimer=null;wo.filter_initTimer=null;wo.filter_formatterCount=0;wo.filter_formatterInit=[];wo.filter_anyColumnSelector='[data-column="all"],[data-column="any"]';wo.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]';val="\\{"+tsfRegex.query+"\\}";$.extend(tsfRegex,{child:new RegExp(c.cssChildRow),filtered:new RegExp(wo.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+processStr("|",ts.language.or)+processStr("|",ts.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+processStr("|",ts.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+processStr("|",ts.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+processStr("",ts.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+processStr("",ts.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+processStr("|\\s+",ts.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+processStr("|\\s+(?:",ts.language.or,")\\s+")+")","gi"),iQuery:new RegExp(val,"i"),igQuery:new RegExp(val,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/});val=c.$headers.filter(".filter-false, .parser-false").length;if(wo.filter_columnFilters!==false&&val!==c.$headers.length){tsf.buildRow(table,c,wo)}txt="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(c.namespace+"filter ");c.$table.bind(txt,function(event,filter){val=wo.filter_hideEmpty&&$.isEmptyObject(c.cache)&&!(c.delayInit&&event.type==="appendCache");c.$table.find("."+tscss.filterRow).toggleClass(wo.filter_filteredRow,val);if(!/(search|filter)/.test(event.type)){event.stopPropagation();tsf.buildDefault(table,true)}if(event.type==="filterReset"||event.type==="filterAndSortReset"){c.$table.find("."+tscss.filter).add(wo.filter_$externalFilters).val("");if(event.type==="filterAndSortReset"){ts.sortReset(this.config,function(){tsf.searching(table,[])})}else{tsf.searching(table,[])}}else if(event.type==="filterResetSaved"){ts.storage(table,"tablesorter-filters","")}else if(event.type==="filterEnd"){tsf.buildDefault(table,true)}else{filter=event.type==="search"?filter:event.type==="updateComplete"?c.$table.data("lastSearch"):"";if(/(update|add)/.test(event.type)&&event.type!=="updateComplete"){c.lastCombinedFilter=null;c.lastSearch=[];setTimeout(function(){c.$table.triggerHandler("filterFomatterUpdate")},100)}tsf.searching(table,filter,true)}return false});if(wo.filter_reset){if(wo.filter_reset instanceof $){wo.filter_reset.click(function(){c.$table.triggerHandler("filterReset")})}else if($(wo.filter_reset).length){$(document).undelegate(wo.filter_reset,"click"+c.namespace+"filter").delegate(wo.filter_reset,"click"+c.namespace+"filter",function(){c.$table.triggerHandler("filterReset")})}}if(wo.filter_functions){for(column=0;column<c.columns;column++){fxn=ts.getColumnData(table,wo.filter_functions,column);if(fxn){$header=c.$headerIndexed[column].removeClass("filter-select");noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));options="";if(fxn===true&&noSelect){tsf.buildSelect(table,column)}else if(typeof fxn==="object"&&noSelect){for(string in fxn){if(typeof string==="string"){options+=options===""?'<option value="">'+($header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>":"";val=string;txt=string;if(string.indexOf(wo.filter_selectSourceSeparator)>=0){val=string.split(wo.filter_selectSourceSeparator);txt=val[1];val=val[0]}options+="<option "+(txt===val?"":'data-function-name="'+string+'" ')+'value="'+val+'">'+txt+"</option>"}}c.$table.find("thead").find("select."+tscss.filter+'[data-column="'+column+'"]').append(options);txt=wo.filter_selectSource;fxn=typeof txt==="function"?true:ts.getColumnData(table,txt,column);if(fxn){tsf.buildSelect(c.table,column,"",true,$header.hasClass(wo.filter_onlyAvail))}}}}}tsf.buildDefault(table,true);tsf.bindSearch(table,c.$table.find("."+tscss.filter),true);if(wo.filter_external){tsf.bindSearch(table,wo.filter_external)}if(wo.filter_hideFilters){tsf.hideFilters(c)}if(c.showProcessing){txt="filterStart filterEnd ".split(" ").join(c.namespace+"filter-sp ");c.$table.unbind(txt.replace(ts.regex.spaces," ")).bind(txt,function(event,columns){$header=columns?c.$table.find("."+tscss.header).filter("[data-column]").filter(function(){return columns[$(this).data("column")]!==""}):"";ts.isProcessing(table,event.type==="filterStart",columns?$header:"")})}c.filteredRows=c.totalRows;txt="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(c.namespace+"filter ");c.$table.unbind(txt.replace(ts.regex.spaces," ")).bind(txt,function(){tsf.completeInit(this)});if(c.pager&&c.pager.initialized&&!wo.filter_initialized){c.$table.triggerHandler("filterFomatterUpdate");setTimeout(function(){tsf.filterInitComplete(c)},100)}else if(!wo.filter_initialized){tsf.completeInit(table)}},completeInit:function(table){var c=table.config,wo=c.widgetOptions,filters=tsf.setDefaults(table,c,wo)||[];if(filters.length){if(!(c.delayInit&&filters.join("")==="")){ts.setFilters(table,filters,true)}}c.$table.triggerHandler("filterFomatterUpdate");setTimeout(function(){if(!wo.filter_initialized){tsf.filterInitComplete(c)}},100)},formatterUpdated:function($cell,column){var $table=$cell&&$cell.closest("table");var config=$table.length&&$table[0].config,wo=config&&config.widgetOptions;if(wo&&!wo.filter_initialized){wo.filter_formatterInit[column]=1}},filterInitComplete:function(c){var indx,len,wo=c.widgetOptions,count=0,completed=function(){wo.filter_initialized=true;c.lastSearch=c.$table.data("lastSearch");c.$table.triggerHandler("filterInit",c);tsf.findRows(c.table,c.lastSearch||[]);if(ts.debug(c,"filter")){console.log("Filter >> Widget initialized")}};if($.isEmptyObject(wo.filter_formatter)){completed()}else{len=wo.filter_formatterInit.length;for(indx=0;indx<len;indx++){if(wo.filter_formatterInit[indx]===1){count++}}clearTimeout(wo.filter_initTimer);if(!wo.filter_initialized&&count===wo.filter_formatterCount){completed()}else if(!wo.filter_initialized){wo.filter_initTimer=setTimeout(function(){completed()},500)}}},processFilters:function(filters,encode){var indx,result=[],mode=encode?encodeURIComponent:decodeURIComponent,len=filters.length;for(indx=0;indx<len;indx++){if(filters[indx]){result[indx]=mode(filters[indx])}}return result},setDefaults:function(table,c,wo){var isArray,saved,indx,col,$filters,filters=ts.getFilters(table)||[];if(wo.filter_saveFilters&&ts.storage){saved=ts.storage(table,"tablesorter-filters")||[];isArray=$.isArray(saved);if(!(isArray&&saved.join("")===""||!isArray)){filters=tsf.processFilters(saved)}}if(filters.join("")===""){$filters=c.$headers.add(wo.filter_$externalFilters).filter("["+wo.filter_defaultAttrib+"]");for(indx=0;indx<=c.columns;indx++){col=indx===c.columns?"all":indx;filters[indx]=$filters.filter('[data-column="'+col+'"]').attr(wo.filter_defaultAttrib)||filters[indx]||""}}c.$table.data("lastSearch",filters);return filters},parseFilter:function(c,filter,data,parsed){return parsed||data.parsed[data.index]?c.parsers[data.index].format(filter,c.table,[],data.index):filter},buildRow:function(table,c,wo){var $filter,col,column,$header,makeSelect,disabled,name,ffxn,tmp,cellFilter=wo.filter_cellFilter,columns=c.columns,arry=$.isArray(cellFilter),buildFilter='<tr role="search" class="'+tscss.filterRow+" "+c.cssIgnoreRow+'">';for(column=0;column<columns;column++){if(c.$headerIndexed[column].length){tmp=c.$headerIndexed[column]&&c.$headerIndexed[column][0].colSpan||0;if(tmp>1){buildFilter+='<td data-column="'+column+"-"+(column+tmp-1)+'" colspan="'+tmp+'"'}else{buildFilter+='<td data-column="'+column+'"'}if(arry){buildFilter+=cellFilter[column]?' class="'+cellFilter[column]+'"':""}else{buildFilter+=cellFilter!==""?' class="'+cellFilter+'"':""}buildFilter+="></td>"}}c.$filters=$(buildFilter+="</tr>").appendTo(c.$table.children("thead").eq(0)).children("td");for(column=0;column<columns;column++){disabled=false;$header=c.$headerIndexed[column];if($header&&$header.length){$filter=tsf.getColumnElm(c,c.$filters,column);ffxn=ts.getColumnData(table,wo.filter_functions,column);makeSelect=wo.filter_functions&&ffxn&&typeof ffxn!=="function"||$header.hasClass("filter-select");col=ts.getColumnData(table,c.headers,column);disabled=ts.getData($header[0],col,"filter")==="false"||ts.getData($header[0],col,"parser")==="false";if(makeSelect){buildFilter=$("<select>").appendTo($filter)}else{ffxn=ts.getColumnData(table,wo.filter_formatter,column);if(ffxn){wo.filter_formatterCount++;buildFilter=ffxn($filter,column);if(buildFilter&&buildFilter.length===0){buildFilter=$filter.children("input")}if(buildFilter&&(buildFilter.parent().length===0||buildFilter.parent().length&&buildFilter.parent()[0]!==$filter[0])){$filter.append(buildFilter)}}else{buildFilter=$('<input type="search">').appendTo($filter)}if(buildFilter){tmp=$header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.search||"";buildFilter.attr("placeholder",tmp)}}if(buildFilter){name=($.isArray(wo.filter_cssFilter)?typeof wo.filter_cssFilter[column]!=="undefined"?wo.filter_cssFilter[column]||"":"":wo.filter_cssFilter)||"";buildFilter.addClass(tscss.filter+" "+name);name=wo.filter_filterLabel;tmp=name.match(/{{([^}]+?)}}/g);if(!tmp){tmp=["{{label}}"]}$.each(tmp,function(indx,attr){var regex=new RegExp(attr,"g"),data=$header.attr("data-"+attr.replace(/{{|}}/g,"")),text=typeof data==="undefined"?$header.text():data;name=name.replace(regex,$.trim(text))});buildFilter.attr({"data-column":$filter.attr("data-column"),"aria-label":name});if(disabled){buildFilter.attr("placeholder","").addClass(tscss.filterDisabled)[0].disabled=true}}}}},bindSearch:function(table,$el,internal){table=$(table)[0];$el=$($el);if(!$el.length){return}var tmp,c=table.config,wo=c.widgetOptions,namespace=c.namespace+"filter",$ext=wo.filter_$externalFilters;if(internal!==true){tmp=wo.filter_anyColumnSelector+","+wo.filter_multipleColumnSelector;wo.filter_$anyMatch=$el.filter(tmp);if($ext&&$ext.length){wo.filter_$externalFilters=wo.filter_$externalFilters.add($el)}else{wo.filter_$externalFilters=$el}ts.setFilters(table,c.$table.data("lastSearch")||[],internal===false)}tmp="keypress keyup keydown search change input ".split(" ").join(namespace+" ");$el.attr("data-lastSearchTime",(new Date).getTime()).unbind(tmp.replace(ts.regex.spaces," ")).bind("keydown"+namespace,function(event){if(event.which===tskeyCodes.escape&&!table.config.widgetOptions.filter_resetOnEsc){return false}}).bind("keyup"+namespace,function(event){wo=table.config.widgetOptions;var column=parseInt($(this).attr("data-column"),10),liveSearch=typeof wo.filter_liveSearch==="boolean"?wo.filter_liveSearch:ts.getColumnData(table,wo.filter_liveSearch,column);if(typeof liveSearch==="undefined"){liveSearch=wo.filter_liveSearch.fallback||false}$(this).attr("data-lastSearchTime",(new Date).getTime());if(event.which===tskeyCodes.escape){this.value=wo.filter_resetOnEsc?"":c.lastSearch[column]}else if(this.value!==""&&(typeof liveSearch==="number"&&this.value.length<liveSearch||event.which!==tskeyCodes.enter&&event.which!==tskeyCodes.backSpace&&(event.which<tskeyCodes.space||event.which>=tskeyCodes.left&&event.which<=tskeyCodes.down))){return}else if(liveSearch===false){if(this.value!==""&&event.which!==tskeyCodes.enter){return}}tsf.searching(table,true,true,column)}).bind("search change keypress input blur ".split(" ").join(namespace+" "),function(event){var column=parseInt($(this).attr("data-column"),10),eventType=event.type,liveSearch=typeof wo.filter_liveSearch==="boolean"?wo.filter_liveSearch:ts.getColumnData(table,wo.filter_liveSearch,column);if(table.config.widgetOptions.filter_initialized&&(event.which===tskeyCodes.enter||(eventType==="search"||eventType==="blur")||(eventType==="change"||eventType==="input")&&(liveSearch===true||liveSearch!==true&&event.target.nodeName!=="INPUT")&&this.value!==c.lastSearch[column])){event.preventDefault();$(this).attr("data-lastSearchTime",(new Date).getTime());tsf.searching(table,eventType!=="keypress",true,column)}})},searching:function(table,filter,skipFirst,column){var liveSearch,wo=table.config.widgetOptions;if(typeof column==="undefined"){liveSearch=false}else{liveSearch=typeof wo.filter_liveSearch==="boolean"?wo.filter_liveSearch:ts.getColumnData(table,wo.filter_liveSearch,column);if(typeof liveSearch==="undefined"){liveSearch=wo.filter_liveSearch.fallback||false}}clearTimeout(wo.filter_searchTimer);if(typeof filter==="undefined"||filter===true){wo.filter_searchTimer=setTimeout(function(){tsf.checkFilters(table,filter,skipFirst)},liveSearch?wo.filter_searchDelay:10)}else{tsf.checkFilters(table,filter,skipFirst)}},equalFilters:function(c,filter1,filter2){var indx,f1=[],f2=[],len=c.columns+1;filter1=$.isArray(filter1)?filter1:[];filter2=$.isArray(filter2)?filter2:[];for(indx=0;indx<len;indx++){f1[indx]=filter1[indx]||"";f2[indx]=filter2[indx]||""}return f1.join(",")===f2.join(",")},checkFilters:function(table,filter,skipFirst){var c=table.config,wo=c.widgetOptions,filterArray=$.isArray(filter),filters=filterArray?filter:ts.getFilters(table,true),currentFilters=filters||[];if($.isEmptyObject(c.cache)){if(c.delayInit&&(!c.pager||c.pager&&c.pager.initialized)){ts.updateCache(c,function(){tsf.checkFilters(table,false,skipFirst)})}return}if(filterArray){ts.setFilters(table,filters,false,skipFirst!==true);if(!wo.filter_initialized){c.lastSearch=[];c.lastCombinedFilter=""}}if(wo.filter_hideFilters){c.$table.find("."+tscss.filterRow).triggerHandler(tsf.hideFiltersCheck(c)?"mouseleave":"mouseenter")}if(tsf.equalFilters(c,c.lastSearch,currentFilters)&&filter!==false){return}else if(filter===false){c.lastCombinedFilter="";c.lastSearch=[]}filters=filters||[];filters=Array.prototype.map?filters.map(String):filters.join("").split("");if(wo.filter_initialized){c.$table.triggerHandler("filterStart",[filters])}if(c.showProcessing){setTimeout(function(){tsf.findRows(table,filters,currentFilters);return false},30)}else{tsf.findRows(table,filters,currentFilters);return false}},hideFiltersCheck:function(c){if(typeof c.widgetOptions.filter_hideFilters==="function"){var val=c.widgetOptions.filter_hideFilters(c);if(typeof val==="boolean"){return val}}return ts.getFilters(c.$table).join("")===""},hideFilters:function(c,$table){var timer;($table||c.$table).find("."+tscss.filterRow).addClass(tscss.filterRowHide).bind("mouseenter mouseleave",function(e){var event=e,$row=$(this);clearTimeout(timer);timer=setTimeout(function(){if(/enter|over/.test(event.type)){$row.removeClass(tscss.filterRowHide)}else{if($(document.activeElement).closest("tr")[0]!==$row[0]){$row.toggleClass(tscss.filterRowHide,tsf.hideFiltersCheck(c))}}},200)}).find("input, select").bind("focus blur",function(e){var event=e,$row=$(this).closest("tr");clearTimeout(timer);timer=setTimeout(function(){clearTimeout(timer);$row.toggleClass(tscss.filterRowHide,tsf.hideFiltersCheck(c)&&event.type!=="focus")},200)})},defaultFilter:function(filter,mask){if(filter===""){return filter}var regex=tsfRegex.iQuery,maskLen=mask.match(tsfRegex.igQuery).length,query=maskLen>1?$.trim(filter).split(/\s/):[$.trim(filter)],len=query.length-1,indx=0,val=mask;if(len<1&&maskLen>1){query[1]=query[0]}while(regex.test(val)){val=val.replace(regex,query[indx++]||"");if(regex.test(val)&&indx<len&&(query[indx]||"")!==""){val=mask.replace(regex,val)}}return val},getLatestSearch:function($input){if($input){return $input.sort(function(a,b){return $(b).attr("data-lastSearchTime")-$(a).attr("data-lastSearchTime")})}return $input||$()},findRange:function(c,val,ignoreRanges){var temp,ranges,range,start,end,singles,i,indx,len,columns=[];if(/^[0-9]+$/.test(val)){return[parseInt(val,10)]}if(!ignoreRanges&&/-/.test(val)){ranges=val.match(/(\d+)\s*-\s*(\d+)/g);len=ranges?ranges.length:0;for(indx=0;indx<len;indx++){range=ranges[indx].split(/\s*-\s*/);start=parseInt(range[0],10)||0;end=parseInt(range[1],10)||c.columns-1;if(start>end){temp=start;start=end;end=temp}if(end>=c.columns){end=c.columns-1}for(;start<=end;start++){columns[columns.length]=start}val=val.replace(ranges[indx],"")}}if(!ignoreRanges&&/,/.test(val)){singles=val.split(/\s*,\s*/);len=singles.length;for(i=0;i<len;i++){if(singles[i]!==""){indx=parseInt(singles[i],10);if(indx<c.columns){columns[columns.length]=indx}}}}if(!columns.length){for(indx=0;indx<c.columns;indx++){columns[columns.length]=indx}}return columns},getColumnElm:function(c,$elements,column){return $elements.filter(function(){var cols=tsf.findRange(c,$(this).attr("data-column"));return $.inArray(column,cols)>-1})},multipleColumns:function(c,$input){var wo=c.widgetOptions,targets=wo.filter_initialized||!$input.filter(wo.filter_anyColumnSelector).length,val=$.trim(tsf.getLatestSearch($input).attr("data-column")||"");return tsf.findRange(c,val,!targets)},processTypes:function(c,data,vars){var ffxn,filterMatched=null,matches=null;for(ffxn in tsf.types){if($.inArray(ffxn,vars.excludeMatch)<0&&matches===null){matches=tsf.types[ffxn](c,data,vars);if(matches!==null){data.matchedOn=ffxn;filterMatched=matches}}}return filterMatched},matchType:function(c,columnIndex){var isMatch,wo=c.widgetOptions,$el=c.$headerIndexed[columnIndex];if($el.hasClass("filter-exact")){isMatch=false}else if($el.hasClass("filter-match")){isMatch=true}else{if(wo.filter_columnFilters){$el=c.$filters.find("."+tscss.filter).add(wo.filter_$externalFilters).filter('[data-column="'+columnIndex+'"]')}else if(wo.filter_$externalFilters){$el=wo.filter_$externalFilters.filter('[data-column="'+columnIndex+'"]')}isMatch=$el.length?c.widgetOptions.filter_matchType[($el[0].nodeName||"").toLowerCase()]==="match":false}return isMatch},processRow:function(c,data,vars){var result,filterMatched,fxn,ffxn,txt,wo=c.widgetOptions,showRow=true,hasAnyMatchInput=wo.filter_$anyMatch&&wo.filter_$anyMatch.length,columnIndex=wo.filter_$anyMatch&&wo.filter_$anyMatch.length?tsf.multipleColumns(c,wo.filter_$anyMatch):[];data.$cells=data.$row.children();data.matchedOn=null;if(data.anyMatchFlag&&columnIndex.length>1||data.anyMatchFilter&&!hasAnyMatchInput){data.anyMatch=true;data.isMatch=true;data.rowArray=data.$cells.map(function(i){if($.inArray(i,columnIndex)>-1||data.anyMatchFilter&&!hasAnyMatchInput){if(data.parsed[i]){txt=data.cacheArray[i]}else{txt=data.rawArray[i];txt=$.trim(wo.filter_ignoreCase?txt.toLowerCase():txt);if(c.sortLocaleCompare){txt=ts.replaceAccents(txt)}}return txt}}).get();data.filter=data.anyMatchFilter;data.iFilter=data.iAnyMatchFilter;data.exact=data.rowArray.join(" ");data.iExact=wo.filter_ignoreCase?data.exact.toLowerCase():data.exact;data.cache=data.cacheArray.slice(0,-1).join(" ");vars.excludeMatch=vars.noAnyMatch;filterMatched=tsf.processTypes(c,data,vars);if(filterMatched!==null){showRow=filterMatched}else{if(wo.filter_startsWith){showRow=false;columnIndex=Math.min(c.columns,data.rowArray.length);while(!showRow&&columnIndex>0){columnIndex--;showRow=showRow||data.rowArray[columnIndex].indexOf(data.iFilter)===0}}else{showRow=(data.iExact+data.childRowText).indexOf(data.iFilter)>=0}}data.anyMatch=false;if(data.filters.join("")===data.filter){return showRow}}for(columnIndex=0;columnIndex<c.columns;columnIndex++){data.filter=data.filters[columnIndex];data.index=columnIndex;vars.excludeMatch=vars.excludeFilter[columnIndex];if(data.filter){data.cache=data.cacheArray[columnIndex];result=data.parsed[columnIndex]?data.cache:data.rawArray[columnIndex]||"";data.exact=c.sortLocaleCompare?ts.replaceAccents(result):result;data.iExact=!tsfRegex.type.test(typeof data.exact)&&wo.filter_ignoreCase?data.exact.toLowerCase():data.exact;data.isMatch=tsf.matchType(c,columnIndex);result=showRow;ffxn=wo.filter_columnFilters?c.$filters.add(wo.filter_$externalFilters).filter('[data-column="'+columnIndex+'"]').find("select option:selected").attr("data-function-name")||"":"";if(c.sortLocaleCompare){data.filter=ts.replaceAccents(data.filter)}if(wo.filter_defaultFilter&&tsfRegex.iQuery.test(vars.defaultColFilter[columnIndex])){data.filter=tsf.defaultFilter(data.filter,vars.defaultColFilter[columnIndex])}data.iFilter=wo.filter_ignoreCase?(data.filter||"").toLowerCase():data.filter;fxn=vars.functions[columnIndex];filterMatched=null;if(fxn){if(typeof fxn==="function"){filterMatched=fxn(data.exact,data.cache,data.filter,columnIndex,data.$row,c,data)}else if(typeof fxn[ffxn||data.filter]==="function"){txt=ffxn||data.filter;filterMatched=fxn[txt](data.exact,data.cache,data.filter,columnIndex,data.$row,c,data)}}if(filterMatched===null){filterMatched=tsf.processTypes(c,data,vars);txt=fxn===true&&(data.matchedOn==="and"||data.matchedOn==="or");if(filterMatched!==null&&!txt){result=filterMatched}else{if(fxn===true){result=data.isMatch?(""+data.iExact).search(data.iFilter)>=0:data.filter===data.exact}else{txt=(data.iExact+data.childRowText).indexOf(tsf.parseFilter(c,data.iFilter,data));result=!wo.filter_startsWith&&txt>=0||wo.filter_startsWith&&txt===0}}}else{result=filterMatched}showRow=result?showRow:false}}return showRow},findRows:function(table,filters,currentFilters){if(tsf.equalFilters(table.config,table.config.lastSearch,currentFilters)||!table.config.widgetOptions.filter_initialized){return}var len,norm_rows,rowData,$rows,$row,rowIndex,tbodyIndex,$tbody,columnIndex,isChild,childRow,lastSearch,showRow,showParent,time,val,indx,notFiltered,searchFiltered,query,injected,res,id,txt,storedFilters=$.extend([],filters),c=table.config,wo=c.widgetOptions,debug=ts.debug(c,"filter"),data={anyMatch:false,filters:filters,filter_regexCache:[]},vars={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:ts.getColumnData(table,wo.filter_defaultFilter,c.columns,true)||""};data.parsed=[];for(columnIndex=0;columnIndex<c.columns;columnIndex++){data.parsed[columnIndex]=wo.filter_useParsedData||(c.parsers&&c.parsers[columnIndex]&&c.parsers[columnIndex].parsed||ts.getData&&ts.getData(c.$headerIndexed[columnIndex],ts.getColumnData(table,c.headers,columnIndex),"filter")==="parsed"||c.$headerIndexed[columnIndex].hasClass("filter-parsed"));vars.functions[columnIndex]=ts.getColumnData(table,wo.filter_functions,columnIndex)||c.$headerIndexed[columnIndex].hasClass("filter-select");vars.defaultColFilter[columnIndex]=ts.getColumnData(table,wo.filter_defaultFilter,columnIndex)||"";vars.excludeFilter[columnIndex]=(ts.getColumnData(table,wo.filter_excludeFilter,columnIndex,true)||"").split(/\s+/)}if(debug){console.log("Filter >> Starting filter widget search",filters);time=new Date}c.filteredRows=0;c.totalRows=0;currentFilters=storedFilters||[];for(tbodyIndex=0;tbodyIndex<c.$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,c.$tbodies.eq(tbodyIndex),true);columnIndex=c.columns;norm_rows=c.cache[tbodyIndex].normalized;$rows=$($.map(norm_rows,function(el){return el[columnIndex].$row.get()}));if(currentFilters.join("")===""||wo.filter_serversideFiltering){$rows.removeClass(wo.filter_filteredRow).not("."+c.cssChildRow).css("display","")}else{$rows=$rows.not("."+c.cssChildRow);len=$rows.length;if(wo.filter_$anyMatch&&wo.filter_$anyMatch.length||typeof filters[c.columns]!=="undefined"){data.anyMatchFlag=true;data.anyMatchFilter=""+(filters[c.columns]||wo.filter_$anyMatch&&tsf.getLatestSearch(wo.filter_$anyMatch).val()||"");if(wo.filter_columnAnyMatch){query=data.anyMatchFilter.split(tsfRegex.andSplit);injected=false;for(indx=0;indx<query.length;indx++){res=query[indx].split(":");if(res.length>1){if(isNaN(res[0])){$.each(c.headerContent,function(i,txt){if(txt.toLowerCase().indexOf(res[0])>-1){id=i;filters[id]=res[1]}})}else{id=parseInt(res[0],10)-1}if(id>=0&&id<c.columns){filters[id]=res[1];query.splice(indx,1);indx--;injected=true}}}if(injected){data.anyMatchFilter=query.join(" && ")}}}searchFiltered=wo.filter_searchFiltered;lastSearch=c.lastSearch||c.$table.data("lastSearch")||[];if(searchFiltered){for(indx=0;indx<columnIndex+1;indx++){val=filters[indx]||"";if(!searchFiltered){indx=columnIndex}searchFiltered=searchFiltered&&lastSearch.length&&val.indexOf(lastSearch[indx]||"")===0&&!tsfRegex.alreadyFiltered.test(val)&&!tsfRegex.exactTest.test(val)&&!(tsfRegex.isNeg1.test(val)||tsfRegex.isNeg2.test(val))&&!(val!==""&&c.$filters&&c.$filters.filter('[data-column="'+indx+'"]').find("select").length&&!tsf.matchType(c,indx))}}notFiltered=$rows.not("."+wo.filter_filteredRow).length;if(searchFiltered&&notFiltered===0){searchFiltered=false}if(debug){console.log("Filter >> Searching through "+(searchFiltered&&notFiltered<len?notFiltered:"all")+" rows")}if(data.anyMatchFlag){if(c.sortLocaleCompare){data.anyMatchFilter=ts.replaceAccents(data.anyMatchFilter)}if(wo.filter_defaultFilter&&tsfRegex.iQuery.test(vars.defaultAnyFilter)){data.anyMatchFilter=tsf.defaultFilter(data.anyMatchFilter,vars.defaultAnyFilter);searchFiltered=false}data.iAnyMatchFilter=!(wo.filter_ignoreCase&&c.ignoreCase)?data.anyMatchFilter:data.anyMatchFilter.toLowerCase()}for(rowIndex=0;rowIndex<len;rowIndex++){txt=$rows[rowIndex].className;isChild=rowIndex&&tsfRegex.child.test(txt);if(isChild||searchFiltered&&tsfRegex.filtered.test(txt)){continue}data.$row=$rows.eq(rowIndex);data.rowIndex=rowIndex;data.cacheArray=norm_rows[rowIndex];rowData=data.cacheArray[c.columns];data.rawArray=rowData.raw;data.childRowText="";if(!wo.filter_childByColumn){txt="";childRow=rowData.child;for(indx=0;indx<childRow.length;indx++){txt+=" "+childRow[indx].join(" ")||""}data.childRowText=wo.filter_childRows?wo.filter_ignoreCase?txt.toLowerCase():txt:""}showRow=false;showParent=tsf.processRow(c,data,vars);$row=rowData.$row;val=showParent?true:false;childRow=rowData.$row.filter(":gt(0)");if(wo.filter_childRows&&childRow.length){if(wo.filter_childByColumn){if(!wo.filter_childWithSibs){childRow.addClass(wo.filter_filteredRow);$row=$row.eq(0)}for(indx=0;indx<childRow.length;indx++){data.$row=childRow.eq(indx);data.cacheArray=rowData.child[indx];data.rawArray=data.cacheArray;val=tsf.processRow(c,data,vars);showRow=showRow||val;if(!wo.filter_childWithSibs&&val){childRow.eq(indx).removeClass(wo.filter_filteredRow)}}}showRow=showRow||showParent}else{showRow=val}$row.toggleClass(wo.filter_filteredRow,!showRow)[0].display=showRow?"":"none"}}c.filteredRows+=$rows.not("."+wo.filter_filteredRow).length;c.totalRows+=$rows.length;ts.processTbody(table,$tbody,false)}c.lastCombinedFilter=storedFilters.join("");c.lastSearch=storedFilters;c.$table.data("lastSearch",storedFilters);if(wo.filter_saveFilters&&ts.storage){ts.storage(table,"tablesorter-filters",tsf.processFilters(storedFilters,true))}if(debug){console.log("Filter >> Completed search"+ts.benchmark(time))}if(wo.filter_initialized){c.$table.triggerHandler("filterBeforeEnd",c);c.$table.triggerHandler("filterEnd",c)}setTimeout(function(){ts.applyWidget(c.table)},0)},getOptionSource:function(table,column,onlyAvail){table=$(table)[0];var c=table.config,wo=c.widgetOptions,arry=false,source=wo.filter_selectSource,last=c.$table.data("lastSearch")||[],fxn=typeof source==="function"?true:ts.getColumnData(table,source,column);if(onlyAvail&&last[column]!==""){onlyAvail=false}if(fxn===true){arry=source(table,column,onlyAvail)}else if(fxn instanceof $||$.type(fxn)==="string"&&fxn.indexOf("</option>")>=0){return fxn}else if($.isArray(fxn)){arry=fxn}else if($.type(source)==="object"&&fxn){arry=fxn(table,column,onlyAvail);if(arry===null){return null}}if(arry===false){arry=tsf.getOptions(table,column,onlyAvail)}return tsf.processOptions(table,column,arry)},processOptions:function(table,column,arry){if(!$.isArray(arry)){return false}table=$(table)[0];var cts,txt,indx,len,parsedTxt,str,c=table.config,validColumn=typeof column!=="undefined"&&column!==null&&column>=0&&column<c.columns,direction=validColumn?c.$headerIndexed[column].hasClass("filter-select-sort-desc"):false,parsed=[];arry=$.grep(arry,function(value,indx){if(value.text){return true}return $.inArray(value,arry)===indx});if(validColumn&&c.$headerIndexed[column].hasClass("filter-select-nosort")){return arry}else{len=arry.length;for(indx=0;indx<len;indx++){txt=arry[indx];str=txt.text?txt.text:txt;parsedTxt=(validColumn&&c.parsers&&c.parsers.length&&c.parsers[column].format(str,table,[],column)||str).toString();parsedTxt=c.widgetOptions.filter_ignoreCase?parsedTxt.toLowerCase():parsedTxt;if(txt.text){txt.parsed=parsedTxt;parsed[parsed.length]=txt}else{parsed[parsed.length]={text:txt,parsed:parsedTxt}}}cts=c.textSorter||"";parsed.sort(function(a,b){var x=direction?b.parsed:a.parsed,y=direction?a.parsed:b.parsed;if(validColumn&&typeof cts==="function"){return cts(x,y,true,column,table)}else if(validColumn&&typeof cts==="object"&&cts.hasOwnProperty(column)){return cts[column](x,y,true,column,table)}else if(ts.sortNatural){return ts.sortNatural(x,y)}return true});arry=[];len=parsed.length;for(indx=0;indx<len;indx++){arry[arry.length]=parsed[indx]}return arry}},getOptions:function(table,column,onlyAvail){table=$(table)[0];var rowIndex,tbodyIndex,len,row,cache,indx,child,childLen,c=table.config,wo=c.widgetOptions,arry=[];for(tbodyIndex=0;tbodyIndex<c.$tbodies.length;tbodyIndex++){cache=c.cache[tbodyIndex];len=c.cache[tbodyIndex].normalized.length;for(rowIndex=0;rowIndex<len;rowIndex++){row=cache.row?cache.row[rowIndex]:cache.normalized[rowIndex][c.columns].$row[0];if(onlyAvail&&row.className.match(wo.filter_filteredRow)){continue}if(wo.filter_useParsedData||c.parsers[column].parsed||c.$headerIndexed[column].hasClass("filter-parsed")){arry[arry.length]=""+cache.normalized[rowIndex][column];if(wo.filter_childRows&&wo.filter_childByColumn){childLen=cache.normalized[rowIndex][c.columns].$row.length-1;for(indx=0;indx<childLen;indx++){arry[arry.length]=""+cache.normalized[rowIndex][c.columns].child[indx][column]}}}else{arry[arry.length]=cache.normalized[rowIndex][c.columns].raw[column];if(wo.filter_childRows&&wo.filter_childByColumn){childLen=cache.normalized[rowIndex][c.columns].$row.length;for(indx=1;indx<childLen;indx++){child=cache.normalized[rowIndex][c.columns].$row.eq(indx).children().eq(column);arry[arry.length]=""+ts.getElementText(c,child,column)}}}}}return arry},buildSelect:function(table,column,arry,updating,onlyAvail){table=$(table)[0];column=parseInt(column,10);if(!table.config.cache||$.isEmptyObject(table.config.cache)){return}var indx,val,txt,t,$filters,$filter,option,c=table.config,wo=c.widgetOptions,node=c.$headerIndexed[column],options='<option value="">'+(node.data("placeholder")||node.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>",currentValue=c.$table.find("thead").find("select."+tscss.filter+'[data-column="'+column+'"]').val();if(typeof arry==="undefined"||arry===""){arry=tsf.getOptionSource(table,column,onlyAvail);if(arry===null){return}}if($.isArray(arry)){for(indx=0;indx<arry.length;indx++){option=arry[indx];if(option.text){option["data-function-name"]=typeof option.value==="undefined"?option.text:option.value;options+="<option";for(val in option){if(option.hasOwnProperty(val)&&val!=="text"){options+=" "+val+'="'+option[val].replace(tsfRegex.quote,"&quot;")+'"'}}if(!option.value){options+=' value="'+option.text.replace(tsfRegex.quote,"&quot;")+'"'}options+=">"+option.text.replace(tsfRegex.quote,"&quot;")+"</option>"}else if(""+option!=="[object Object]"){txt=option=(""+option).replace(tsfRegex.quote,"&quot;");val=txt;if(txt.indexOf(wo.filter_selectSourceSeparator)>=0){t=txt.split(wo.filter_selectSourceSeparator);val=t[0];txt=t[1]}options+=option!==""?"<option "+(val===txt?"":'data-function-name="'+option+'" ')+'value="'+val+'">'+txt+"</option>":""}}arry=[]}$filters=(c.$filters?c.$filters:c.$table.children("thead")).find("."+tscss.filter);if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}$filter=$filters.filter('select[data-column="'+column+'"]');if($filter.length){$filter[updating?"html":"append"](options);if(!$.isArray(arry)){$filter.append(arry).val(currentValue)}$filter.val(currentValue)}},buildDefault:function(table,updating){var columnIndex,$header,noSelect,c=table.config,wo=c.widgetOptions,columns=c.columns;for(columnIndex=0;columnIndex<columns;columnIndex++){$header=c.$headerIndexed[columnIndex];noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));if(($header.hasClass("filter-select")||ts.getColumnData(table,wo.filter_functions,columnIndex)===true)&&noSelect){tsf.buildSelect(table,columnIndex,"",updating,$header.hasClass(wo.filter_onlyAvail))}}}};tsfRegex=tsf.regex;ts.getFilters=function(table,getRaw,setFilters,skipFirst){var i,$filters,$column,cols,filters=[],c=table?$(table)[0].config:"",wo=c?c.widgetOptions:"";if(getRaw!==true&&wo&&!wo.filter_columnFilters||$.isArray(setFilters)&&tsf.equalFilters(c,setFilters,c.lastSearch)){return $(table).data("lastSearch")||[]}if(c){if(c.$filters){$filters=c.$filters.find("."+tscss.filter)}if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}if($filters&&$filters.length){filters=setFilters||[];for(i=0;i<c.columns+1;i++){cols=i===c.columns?wo.filter_anyColumnSelector+","+wo.filter_multipleColumnSelector:'[data-column="'+i+'"]';$column=$filters.filter(cols);if($column.length){$column=tsf.getLatestSearch($column);if($.isArray(setFilters)){if(skipFirst&&$column.length>1){$column=$column.slice(1)}if(i===c.columns){cols=$column.filter(wo.filter_anyColumnSelector);$column=cols.length?cols:$column}$column.val(setFilters[i]).trigger("change"+c.namespace)}else{filters[i]=$column.val()||"";if(i===c.columns){$column.slice(1).filter('[data-column*="'+$column.attr("data-column")+'"]').val(filters[i])}else{$column.slice(1).val(filters[i])}}if(i===c.columns&&$column.length){wo.filter_$anyMatch=$column}}}}}return filters};ts.setFilters=function(table,filter,apply,skipFirst){var c=table?$(table)[0].config:"",valid=ts.getFilters(table,true,filter,skipFirst);if(typeof apply==="undefined"){apply=true}if(c&&apply){c.lastCombinedFilter=null;c.lastSearch=[];tsf.searching(c.table,filter,skipFirst);c.$table.triggerHandler("filterFomatterUpdate")}return valid.length!==0}})(jQuery);(function($,window){"use strict";var ts=$.tablesorter||{};$.extend(ts.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"});ts.addHeaderResizeEvent=function(table,disable,settings){table=$(table)[0];if(!table.config){return}var defaults={timer:250},options=$.extend({},defaults,settings),c=table.config,wo=c.widgetOptions,checkSizes=function(triggerEvent){var index,headers,$header,sizes,width,height,len=c.$headers.length;wo.resize_flag=true;headers=[];for(index=0;index<len;index++){$header=c.$headers.eq(index);sizes=$header.data("savedSizes")||[0,0];width=$header[0].offsetWidth;height=$header[0].offsetHeight;if(width!==sizes[0]||height!==sizes[1]){$header.data("savedSizes",[width,height]);headers.push($header[0])}}if(headers.length&&triggerEvent!==false){c.$table.triggerHandler("resize",[headers])}wo.resize_flag=false};clearInterval(wo.resize_timer);if(disable){wo.resize_flag=false;return false}checkSizes(false);wo.resize_timer=setInterval(function(){if(wo.resize_flag){return}checkSizes()},options.timer)};function getStickyOffset(c,wo){var $el=isNaN(wo.stickyHeaders_offset)?$(wo.stickyHeaders_offset):[];return $el.length?$el.height()||0:parseInt(wo.stickyHeaders_offset,10)||0}ts.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:true,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(table,c,wo){if(c.$table.hasClass("hasStickyHeaders")||$.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters")){return}var index,len,$t,$table=c.$table,$attach=$(wo.stickyHeaders_attachTo||wo.stickyHeaders_appendTo),namespace=c.namespace+"stickyheaders ",$yScroll=$(wo.stickyHeaders_yScroll||wo.stickyHeaders_attachTo||window),$xScroll=$(wo.stickyHeaders_xScroll||wo.stickyHeaders_attachTo||window),$thead=$table.children("thead:first"),$header=$thead.children("tr").not(".sticky-false").children(),$tfoot=$table.children("tfoot"),stickyOffset=getStickyOffset(c,wo),$nestedSticky=$table.parent().closest("."+ts.css.table).hasClass("hasStickyHeaders")?$table.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],nestedStickyTop=$nestedSticky.length?$nestedSticky.height():0,$stickyTable=wo.$sticky=$table.clone().addClass("containsStickyHeaders "+ts.css.sticky+" "+wo.stickyHeaders+" "+c.namespace.slice(1)+"_extra_table").wrap('<div class="'+ts.css.stickyWrap+'">'),$stickyWrap=$stickyTable.parent().addClass(ts.css.stickyHide).css({position:$attach.length?"absolute":"fixed",padding:parseInt($stickyTable.parent().parent().css("padding-left"),10),top:stickyOffset+nestedStickyTop,left:0,visibility:"hidden",zIndex:wo.stickyHeaders_zIndex||2}),$stickyThead=$stickyTable.children("thead:first"),$stickyCells,laststate="",setWidth=function($orig,$clone){var index,width,border,$cell,$this,$cells=$orig.filter(":visible"),len=$cells.length;for(index=0;index<len;index++){$cell=$clone.filter(":visible").eq(index);$this=$cells.eq(index);if($this.css("box-sizing")==="border-box"){width=$this.outerWidth()}else{if($cell.css("border-collapse")==="collapse"){if(window.getComputedStyle){width=parseFloat(window.getComputedStyle($this[0],null).width)}else{border=parseFloat($this.css("border-width"));width=$this.outerWidth()-parseFloat($this.css("padding-left"))-parseFloat($this.css("padding-right"))-border}}else{width=$this.width()}}$cell.css({width:width,"min-width":width,"max-width":width})}},getLeftPosition=function(yWindow){if(yWindow===false&&$nestedSticky.length){return $table.position().left}return $attach.length?parseInt($attach.css("padding-left"),10)||0:$table.offset().left-parseInt($table.css("margin-left"),10)-$(window).scrollLeft()},resizeHeader=function(){$stickyWrap.css({left:getLeftPosition(),width:$table.outerWidth()});setWidth($table,$stickyTable);setWidth($header,$stickyCells)},scrollSticky=function(resizing){if(!$table.is(":visible")){return}nestedStickyTop=$nestedSticky.length?$nestedSticky.offset().top-$yScroll.scrollTop()+$nestedSticky.height():0;var tmp,offset=$table.offset(),stickyOffset=getStickyOffset(c,wo),yWindow=$.isWindow($yScroll[0]),yScroll=yWindow?$yScroll.scrollTop():$nestedSticky.length?parseInt($nestedSticky[0].style.top,10):$yScroll.offset().top,attachTop=$attach.length?yScroll:$yScroll.scrollTop(),captionHeight=wo.stickyHeaders_includeCaption?0:$table.children("caption").height()||0,scrollTop=attachTop+stickyOffset+nestedStickyTop-captionHeight,tableHeight=$table.height()-($stickyWrap.height()+($tfoot.height()||0))-captionHeight,isVisible=scrollTop>offset.top&&scrollTop<offset.top+tableHeight?"visible":"hidden",state=isVisible==="visible"?ts.css.stickyVis:ts.css.stickyHide,needsUpdating=!$stickyWrap.hasClass(state),cssSettings={visibility:isVisible};if($attach.length){needsUpdating=true;cssSettings.top=yWindow?scrollTop-$attach.offset().top:$attach.scrollTop()}tmp=getLeftPosition(yWindow);if(tmp!==parseInt($stickyWrap.css("left"),10)){needsUpdating=true;cssSettings.left=tmp}cssSettings.top=(cssSettings.top||0)+(!yWindow&&$nestedSticky.length?$nestedSticky.height():stickyOffset+nestedStickyTop);if(needsUpdating){$stickyWrap.removeClass(ts.css.stickyVis+" "+ts.css.stickyHide).addClass(state).css(cssSettings)}if(isVisible!==laststate||resizing){resizeHeader();laststate=isVisible}};if($attach.length&&!$attach.css("position")){$attach.css("position","relative")}if($stickyTable.attr("id")){$stickyTable[0].id+=wo.stickyHeaders_cloneId}$stickyTable.find("> thead:gt(0), tr.sticky-false").hide();$stickyTable.find("> tbody, > tfoot").remove();$stickyTable.find("caption").toggle(wo.stickyHeaders_includeCaption);$stickyCells=$stickyThead.children().children();$stickyTable.css({height:0,width:0,margin:0});$stickyCells.find("."+ts.css.resizer).remove();$table.addClass("hasStickyHeaders").bind("pagerComplete"+namespace,function(){resizeHeader()});ts.bindEvents(table,$stickyThead.children().children("."+ts.css.header));if(wo.stickyHeaders_appendTo){$(wo.stickyHeaders_appendTo).append($stickyWrap)}else{$table.after($stickyWrap)}if(c.onRenderHeader){$t=$stickyThead.children("tr").children();len=$t.length;for(index=0;index<len;index++){c.onRenderHeader.apply($t.eq(index),[index,c,$stickyTable])}}$xScroll.add($yScroll).unbind("scroll resize ".split(" ").join(namespace).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(namespace),function(event){scrollSticky(event.type==="resize")});c.$table.unbind("stickyHeadersUpdate"+namespace).bind("stickyHeadersUpdate"+namespace,function(){scrollSticky(true)});if(wo.stickyHeaders_addResizeEvent){ts.addHeaderResizeEvent(table)}if($table.hasClass("hasFilters")&&wo.filter_columnFilters){$table.bind("filterEnd"+namespace,function(){var $td=$(document.activeElement).closest("td"),column=$td.parent().children().index($td);if($stickyWrap.hasClass(ts.css.stickyVis)&&wo.stickyHeaders_filteredToTop){window.scrollTo(0,$table.position().top);if(column>=0&&c.$filters){c.$filters.eq(column).find("a, select, input").filter(":visible").focus()}}});ts.filter.bindSearch($table,$stickyCells.find("."+ts.css.filter));if(wo.filter_hideFilters){ts.filter.hideFilters(c,$stickyTable)}}if(wo.stickyHeaders_addResizeEvent){$table.bind("resize"+c.namespace+"stickyheaders",function(){resizeHeader()})}scrollSticky(true);$table.triggerHandler("stickyHeadersInit")},remove:function(table,c,wo){var namespace=c.namespace+"stickyheaders ";c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(namespace).replace(/\s+/g," ")).next("."+ts.css.stickyWrap).remove();if(wo.$sticky&&wo.$sticky.length){wo.$sticky.remove()}$(window).add(wo.stickyHeaders_xScroll).add(wo.stickyHeaders_yScroll).add(wo.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(namespace).replace(/\s+/g," "));ts.addHeaderResizeEvent(table,true)}})})(jQuery,window);(function($,window){"use strict";var ts=$.tablesorter||{};$.extend(ts.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"});$(function(){var s="<style>"+"body."+ts.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;"+"-khtml-user-select: none; -webkit-user-select: none; user-select: none; }"+"."+ts.css.resizableContainer+" { position: relative; height: 1px; }"+"."+ts.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;"+"top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }"+"</style>";$("head").append(s)});ts.resizable={init:function(c,wo){if(c.$table.hasClass("hasResizable")){return}c.$table.addClass("hasResizable");var noResize,$header,column,storedSizes,tmp,$table=c.$table,$parent=$table.parent(),marginTop=parseInt($table.css("margin-top"),10),vars=wo.resizable_vars={useStorage:ts.storage&&wo.resizable!==false,$wrap:$parent,mouseXPosition:0,$target:null,$next:null,overflow:$parent.css("overflow")==="auto"||$parent.css("overflow")==="scroll"||$parent.css("overflow-x")==="auto"||$parent.css("overflow-x")==="scroll",storedSizes:[]};ts.resizableReset(c.table,true);vars.tableWidth=$table.width();vars.fullWidth=Math.abs($parent.width()-vars.tableWidth)<20;if(vars.useStorage&&vars.overflow){ts.storage(c.table,"tablesorter-table-original-css-width",vars.tableWidth);tmp=ts.storage(c.table,"tablesorter-table-resized-width")||"auto";ts.resizable.setWidth($table,tmp,true)}wo.resizable_vars.storedSizes=storedSizes=(vars.useStorage?ts.storage(c.table,ts.css.resizableStorage):[])||[];ts.resizable.setWidths(c,wo,storedSizes);ts.resizable.updateStoredSizes(c,wo);wo.$resizable_container=$('<div class="'+ts.css.resizableContainer+'">').css({top:marginTop}).insertBefore($table);for(column=0;column<c.columns;column++){$header=c.$headerIndexed[column];tmp=ts.getColumnData(c.table,c.headers,column);noResize=ts.getData($header,tmp,"resizable")==="false";if(!noResize){$('<div class="'+ts.css.resizableHandle+'">').appendTo(wo.$resizable_container).attr({"data-column":column,unselectable:"on"}).data("header",$header).bind("selectstart",false)}}ts.resizable.bindings(c,wo)},updateStoredSizes:function(c,wo){var column,$header,len=c.columns,vars=wo.resizable_vars;vars.storedSizes=[];for(column=0;column<len;column++){$header=c.$headerIndexed[column];vars.storedSizes[column]=$header.is(":visible")?$header.width():0}},setWidth:function($el,width,overflow){$el.css({width:width,"min-width":overflow?width:"","max-width":overflow?width:""})},setWidths:function(c,wo,storedSizes){var column,$temp,vars=wo.resizable_vars,$extra=$(c.namespace+"_extra_headers"),$col=c.$table.children("colgroup").children("col");storedSizes=storedSizes||vars.storedSizes||[];if(storedSizes.length){for(column=0;column<c.columns;column++){ts.resizable.setWidth(c.$headerIndexed[column],storedSizes[column],vars.overflow);if($extra.length){$temp=$extra.eq(column).add($col.eq(column));ts.resizable.setWidth($temp,storedSizes[column],vars.overflow)}}$temp=$(c.namespace+"_extra_table");if($temp.length&&!ts.hasWidget(c.table,"scroller")){ts.resizable.setWidth($temp,c.$table.outerWidth(),vars.overflow)}}},setHandlePosition:function(c,wo){var startPosition,tableHeight=c.$table.height(),$handles=wo.$resizable_container.children(),handleCenter=Math.floor($handles.width()/2);if(ts.hasWidget(c.table,"scroller")){tableHeight=0;c.$table.closest("."+ts.css.scrollerWrap).children().each(function(){var $this=$(this);tableHeight+=$this.filter('[style*="height"]').length?$this.height():$this.children("table").height()})}if(!wo.resizable_includeFooter&&c.$table.children("tfoot").length){tableHeight-=c.$table.children("tfoot").height()}startPosition=parseFloat($.fn.jquery)>=3.3?0:c.$table.position().left;$handles.each(function(){var $this=$(this),column=parseInt($this.attr("data-column"),10),columns=c.columns-1,$header=$this.data("header");if(!$header){return}if(!$header.is(":visible")||!wo.resizable_addLastColumn&&ts.resizable.checkVisibleColumns(c,column)){$this.hide()}else if(column<columns||column===columns&&wo.resizable_addLastColumn){$this.css({display:"inline-block",height:tableHeight,left:$header.position().left-startPosition+$header.outerWidth()-handleCenter})}})},checkVisibleColumns:function(c,column){var i,len=0;for(i=column+1;i<c.columns;i++){len+=c.$headerIndexed[i].is(":visible")?1:0}return len===0},toggleTextSelection:function(c,wo,toggle){var namespace=c.namespace+"tsresize";wo.resizable_vars.disabled=toggle;$("body").toggleClass(ts.css.resizableNoSelect,toggle);if(toggle){$("body").attr("unselectable","on").bind("selectstart"+namespace,false)}else{$("body").removeAttr("unselectable").unbind("selectstart"+namespace)}},bindings:function(c,wo){var namespace=c.namespace+"tsresize";wo.$resizable_container.children().bind("mousedown",function(event){var column,vars=wo.resizable_vars,$extras=$(c.namespace+"_extra_headers"),$header=$(event.target).data("header");column=parseInt($header.attr("data-column"),10);vars.$target=$header=$header.add($extras.filter('[data-column="'+column+'"]'));vars.target=column;vars.$next=event.shiftKey||wo.resizable_targetLast?$header.parent().children().not(".resizable-false").filter(":last"):$header.nextAll(":not(.resizable-false)").eq(0);column=parseInt(vars.$next.attr("data-column"),10);vars.$next=vars.$next.add($extras.filter('[data-column="'+column+'"]'));vars.next=column;vars.mouseXPosition=event.pageX;ts.resizable.updateStoredSizes(c,wo);ts.resizable.toggleTextSelection(c,wo,true)});$(document).bind("mousemove"+namespace,function(event){var vars=wo.resizable_vars;if(!vars.disabled||vars.mouseXPosition===0||!vars.$target){return}if(wo.resizable_throttle){clearTimeout(vars.timer);vars.timer=setTimeout(function(){ts.resizable.mouseMove(c,wo,event)},isNaN(wo.resizable_throttle)?5:wo.resizable_throttle)}else{ts.resizable.mouseMove(c,wo,event)}}).bind("mouseup"+namespace,function(){if(!wo.resizable_vars.disabled){return}ts.resizable.toggleTextSelection(c,wo,false);ts.resizable.stopResize(c,wo);ts.resizable.setHandlePosition(c,wo)});$(window).bind("resize"+namespace+" resizeEnd"+namespace,function(){ts.resizable.setHandlePosition(c,wo)});c.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(namespace+" "),function(){ts.resizable.setHandlePosition(c,wo)}).bind("resizableReset"+namespace,function(){ts.resizableReset(c.table)}).find("thead:first").add($(c.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+namespace,function(){var allowClick=wo.resizable_vars.storedSizes.length===0;ts.resizableReset(c.table);ts.resizable.setHandlePosition(c,wo);wo.resizable_vars.storedSizes=[];return allowClick})},mouseMove:function(c,wo,event){if(wo.resizable_vars.mouseXPosition===0||!wo.resizable_vars.$target){return}var column,total=0,vars=wo.resizable_vars,$next=vars.$next,tar=vars.storedSizes[vars.target],leftEdge=event.pageX-vars.mouseXPosition;if(vars.overflow){if(tar+leftEdge>0){vars.storedSizes[vars.target]+=leftEdge;ts.resizable.setWidth(vars.$target,vars.storedSizes[vars.target],true);for(column=0;column<c.columns;column++){total+=vars.storedSizes[column]}ts.resizable.setWidth(c.$table.add($(c.namespace+"_extra_table")),total)}if(!$next.length){vars.$wrap[0].scrollLeft=c.$table.width()}}else if(vars.fullWidth){vars.storedSizes[vars.target]+=leftEdge;vars.storedSizes[vars.next]-=leftEdge;ts.resizable.setWidths(c,wo)}else{vars.storedSizes[vars.target]+=leftEdge;ts.resizable.setWidths(c,wo)}vars.mouseXPosition=event.pageX;c.$table.triggerHandler("stickyHeadersUpdate")},stopResize:function(c,wo){var vars=wo.resizable_vars;ts.resizable.updateStoredSizes(c,wo);if(vars.useStorage){ts.storage(c.table,ts.css.resizableStorage,vars.storedSizes);ts.storage(c.table,"tablesorter-table-resized-width",c.$table.width())}vars.mouseXPosition=0;vars.$target=vars.$next=null;c.$table.triggerHandler("stickyHeadersUpdate");c.$table.triggerHandler("resizableComplete")}};ts.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false,resizable_includeFooter:true,resizable_widths:[],resizable_throttle:false,resizable_targetLast:false},init:function(table,thisWidget,c,wo){ts.resizable.init(c,wo)},format:function(table,c,wo){ts.resizable.setHandlePosition(c,wo)},remove:function(table,c,wo,refreshing){if(wo.$resizable_container){var namespace=c.namespace+"tsresize";c.$table.add($(c.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+namespace);wo.$resizable_container.remove();ts.resizable.toggleTextSelection(c,wo,false);ts.resizableReset(table,refreshing);$(document).unbind("mousemove"+namespace+" mouseup"+namespace)}}});ts.resizableReset=function(table,refreshing){$(table).each(function(){var index,$t,c=this.config,wo=c&&c.widgetOptions,vars=wo.resizable_vars;if(table&&c&&c.$headerIndexed.length){if(vars.overflow&&vars.tableWidth){ts.resizable.setWidth(c.$table,vars.tableWidth,true);if(vars.useStorage){ts.storage(table,"tablesorter-table-resized-width",vars.tableWidth)}}for(index=0;index<c.columns;index++){$t=c.$headerIndexed[index];if(wo.resizable_widths&&wo.resizable_widths[index]){ts.resizable.setWidth($t,wo.resizable_widths[index],vars.overflow)}else if(!$t.hasClass("resizable-false")){ts.resizable.setWidth($t,"",vars.overflow)}}c.$table.triggerHandler("stickyHeadersUpdate");if(ts.storage&&!refreshing){ts.storage(this,ts.css.resizableStorage,[])}}})}})(jQuery,window);(function($){"use strict";var ts=$.tablesorter||{};function getStoredSortList(c){var stored=ts.storage(c.table,"tablesorter-savesort");return stored&&stored.hasOwnProperty("sortList")&&$.isArray(stored.sortList)?stored.sortList:[]}function sortListChanged(c,sortList){return(sortList||getStoredSortList(c)).join(",")!==c.sortList.join(",")}ts.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(table,thisWidget,c,wo){thisWidget.format(table,c,wo,true)},format:function(table,c,wo,init){var time,$table=c.$table,saveSort=wo.saveSort!==false,sortList={sortList:c.sortList},debug=ts.debug(c,"saveSort");if(debug){time=new Date}if($table.hasClass("hasSaveSort")){if(saveSort&&table.hasInitialized&&ts.storage&&sortListChanged(c)){ts.storage(table,"tablesorter-savesort",sortList);if(debug){console.log("saveSort >> Saving last sort: "+c.sortList+ts.benchmark(time))}}}else{$table.addClass("hasSaveSort");sortList="";if(ts.storage){sortList=getStoredSortList(c);if(debug){console.log('saveSort >> Last sort loaded: "'+sortList+'"'+ts.benchmark(time))}$table.bind("saveSortReset",function(event){event.stopPropagation();ts.storage(table,"tablesorter-savesort","")})}if(init&&sortList&&sortList.length>0){c.sortList=sortList}else if(table.hasInitialized&&sortList&&sortList.length>0){if(sortListChanged(c,sortList)){ts.sortOn(c,sortList)}}}},remove:function(table,c){c.$table.removeClass("hasSaveSort");if(ts.storage){ts.storage(table,"tablesorter-savesort","")}}})})(jQuery);return jQuery.tablesorter});
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var validator=$.data(this[0],"validator");if(validator){return validator}this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.on("click.validate",":submit",function(event){validator.submitButton=event.currentTarget;if($(this).hasClass("cancel")){validator.cancelSubmit=true}if($(this).attr("formnovalidate")!==undefined){validator.cancelSubmit=true}});this.on("submit.validate",function(event){if(validator.settings.debug){event.preventDefault()}function handle(){var hidden,result;if(validator.submitButton&&(validator.settings.submitHandler||validator.formSubmitted)){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm)}if(validator.settings.submitHandler&&!validator.settings.debug){result=validator.settings.submitHandler.call(validator,validator.currentForm,event);if(hidden){hidden.remove()}if(result!==undefined){return result}return false}return true}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle()}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false}return handle()}else{validator.focusInvalid();return false}})}return validator},valid:function(){var valid,validator,errorList;if($(this[0]).is("form")){valid=this.validate().form()}else{errorList=[];valid=true;validator=$(this[0].form).validate();this.each(function(){valid=validator.element(this)&&valid;if(!valid){errorList=errorList.concat(validator.errorList)}});validator.errorList=errorList}return valid},rules:function(command,argument){var element=this[0],settings,staticRules,existingRules,data,param,filtered;if(element==null){return}if(!element.form&&element.isContentEditable){element.form=this.closest("form")[0];element.name=this.attr("name")}if(element.form==null){return}if(command){settings=$.data(element.form,"validator").settings;staticRules=settings.rules;existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages)}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules}filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method]});return filtered}}data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){param=data.required;delete data.required;data=$.extend({required:param},data)}if(data.remote){param=data.remote;delete data.remote;data=$.extend(data,{remote:param})}return data}});$.extend($.expr.pseudos||$.expr[":"],{blank:function(a){return!$.trim(""+$(a).val())},filled:function(a){var val=$(a).val();return val!==null&&!!$.trim(""+val)},unchecked:function(a){return!$(a).prop("checked")}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init()};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args)}}if(params===undefined){return source}if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1)}if(params.constructor!==Array){params=[params]}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})});return source};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(element))}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element)}},onkeyup:function(element,event){var excludedKeys=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(event.which===9&&this.elementValue(element)===""||$.inArray(event.keyCode,excludedKeys)!==-1){return}else if(element.name in this.submitted||element.name in this.invalid){this.element(element)}},onclick:function(element){if(element.name in this.submitted){this.element(element)}else if(element.parentNode.name in this.submitted){this.element(element.parentNode)}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass)}else{$(element).addClass(errorClass).removeClass(validClass)}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass)}else{$(element).removeClass(errorClass).addClass(validClass)}}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var currentForm=this.currentForm,groups=this.groups={},rules;$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/)}$.each(value,function(index,name){groups[name]=key})});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)});function delegate(event){if(!this.form&&this.isContentEditable){this.form=$(this).closest("form")[0];this.name=$(this).attr("name")}if(currentForm!==this.form){return}var validator=$.data(this.form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;if(settings[eventType]&&!$(this).is(settings.ignore)){settings[eventType].call(validator,this,event)}}$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox'], [contenteditable], [type='button']",delegate).on("click.validate","select, option, [type='radio'], [type='checkbox']",delegate);if(this.settings.invalidHandler){$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++){this.check(elements[i])}return this.valid()},element:function(element){var cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),v=this,result=true,rs,group;if(checkElement===undefined){delete this.invalid[cleanElement.name]}else{this.prepareElement(checkElement);this.currentElements=$(checkElement);group=this.groups[checkElement.name];if(group){$.each(this.groups,function(name,testgroup){if(testgroup===group&&name!==checkElement.name){cleanElement=v.validationTargetFor(v.clean(v.findByName(name)));if(cleanElement&&cleanElement.name in v.invalid){v.currentElements.push(cleanElement);result=v.check(cleanElement)&&result}}})}rs=this.check(checkElement)!==false;result=result&&rs;if(rs){this.invalid[checkElement.name]=false}else{this.invalid[checkElement.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();$(element).attr("aria-invalid",!rs)}return result},showErrors:function(errors){if(errors){var validator=this;$.extend(this.errorMap,errors);this.errorList=$.map(this.errorMap,function(message,name){return{message:message,element:validator.findByName(name)[0]}});this.successList=$.grep(this.successList,function(element){return!(element.name in errors)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var elements=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(elements)},resetElements:function(elements){var i;if(this.settings.unhighlight){for(i=0;elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,"");this.findByName(elements[i].name).removeClass(this.settings.validClass)}}else{elements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0,i;for(i in obj){if(obj[i]!==undefined&&obj[i]!==null&&obj[i]!==false){count++}}return count},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(errors){errors.not(this.containers).text("");this.addWrapper(errors).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name}).length===1&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var name=this.name||$(this).attr("name");if(!name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.isContentEditable){this.form=$(this).closest("form")[0];this.name=name}if(this.form!==validator.currentForm){return false}if(name in rulesCache||!validator.objectLength($(this).rules())){return false}rulesCache[name]=true;return true})},clean:function(selector){return $(selector)[0]},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([])},reset:function(){this.resetInternals();this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element)},elementValue:function(element){var $element=$(element),type=element.type,val,idx;if(type==="radio"||type==="checkbox"){return this.findByName(element.name).filter(":checked").val()}else if(type==="number"&&typeof element.validity!=="undefined"){return element.validity.badInput?"NaN":$element.val()}val=$element.val();if(typeof val=="undefined"){val=$element.text()}if(type==="file"){if(val.substr(0,12)==="C:\\fakepath\\"){return val.substr(12)}idx=val.lastIndexOf("/");if(idx>=0){return val.substr(idx+1)}idx=val.lastIndexOf("\\");if(idx>=0){return val.substr(idx+1)}return val}if(typeof val==="string"){return val.replace(/\r/g,"")}return val},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i}).length,dependencyMismatch=false,val=this.elementValue(element),result,method,rule,normalizer;if(typeof rules.normalizer==="function"){normalizer=rules.normalizer}else if(typeof this.settings.normalizer==="function"){normalizer=this.settings.normalizer}if(normalizer){val=normalizer.call(element,val);delete rules.normalizer}for(method in rules){rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"&&rulesCount===1){dependencyMismatch=true;continue}dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return}if(!result){this.formatAndAdd(element,rule);return false}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e)}if(e instanceof TypeError){e.message+=".  Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method."}throw e}}if(dependencyMismatch){return}if(this.objectLength(rules)){this.successList.push(element)}return true},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase())||$(element).data("msg")},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i]}}return undefined},defaultMessage:function(element,rule){if(typeof rule==="string"){rule={method:rule}}var message=this.findDefined(this.customMessage(element.name,rule.method),this.customDataMessage(element,rule.method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[rule.method],"<strong>Warning: No message defined for "+element.name+"</strong>"),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element)}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters)}return message},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule);this.errorList.push({message:message,element:element,method:rule.method});this.errorMap[element.name]=message;this.submitted[element.name]=message},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))}return toToggle},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++){error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(error.element,error.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i])}}if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var place,group,errorID,v,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");if(error.length){error.removeClass(this.settings.validClass).addClass(this.settings.errorClass);error.html(message)}else{error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||"");place=error;if(this.settings.wrapper){place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(place)}else if(this.settings.errorPlacement){this.settings.errorPlacement.call(this,place,$(element))}else{place.insertAfter(element)}if(error.is("label")){error.attr("for",elementID)}else if(error.parents("label[for='"+this.escapeCssMeta(elementID)+"']").length===0){errorID=error.attr("id");if(!describedBy){describedBy=errorID}else if(!describedBy.match(new RegExp("\\b"+this.escapeCssMeta(errorID)+"\\b"))){describedBy+=" "+errorID}$(element).attr("aria-describedby",describedBy);group=this.groups[element.name];if(group){v=this;$.each(v.groups,function(name,testgroup){if(testgroup===group){$("[name='"+v.escapeCssMeta(name)+"']",v.currentForm).attr("aria-describedby",error.attr("id"))}})}}}if(!message&&this.settings.success){error.text("");if(typeof this.settings.success==="string"){error.addClass(this.settings.success)}else{this.settings.success(error,element)}}this.toShow=this.toShow.add(error)},errorsFor:function(element){var name=this.escapeCssMeta(this.idOrName(element)),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";if(describer){selector=selector+", #"+this.escapeCssMeta(describer).replace(/\s+/g,", #")}return this.errors().filter(selector)},escapeCssMeta:function(string){return string.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name)}return $(element).not(this.settings.ignore)[0]},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){return $(this.currentForm).find("[name='"+this.escapeCssMeta(name)+"']")},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length}}return value.length},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true},dependTypes:{boolean:function(param){return param},string:function(param,element){return!!$(param,element.form).length},function:function(param,element){return param(element)}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch"},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;$(element).addClass(this.settings.pendingClass);this.pending[element.name]=true}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[element.name];$(element).removeClass(this.settings.pendingClass);if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();if(this.submitButton){$("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove()}this.formSubmitted=false}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(element,method){method=typeof method==="string"&&method||"remote";return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,{method:method})})},destroy:function(){this.resetForm();$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules}else{$.extend(this.classRuleSettings,className)}},classRules:function(element){var rules={},classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this])}})}return rules},normalizeAttributeRule:function(rules,type,method,value){if(/min|max|step/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);if(isNaN(value)){value=undefined}}if(value||value===0){rules[method]=value}else if(type===method&&type!=="range"){rules[method]=true}},attributeRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){if(method==="required"){value=element.getAttribute(method);value=$element.attr(method);if(value===""){value=true}value=!!value}else{value=$element.attr(method)}this.normalizeAttributeRule(rules,type,method,value)}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength}return rules},dataRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase());if(value===""){value=true}this.normalizeAttributeRule(rules,type,method,value)}return rules},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}}return rules},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break}if(keepRule){rules[prop]=val.param!==undefined?val.param:true}else{$.data(element.form,"validator").resetElements($(element));delete rules[prop]}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)&&rule!=="normalizer"?parameter(element):parameter});$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this])}});$.each(["rangelength","range"],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])]}else if(typeof rules[this]==="string"){parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])]}}});if($.validator.autoCreateRanges){if(rules.min!=null&&rules.max!=null){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max}if(rules.minlength!=null&&rules.maxlength!=null){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength}}return rules},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true});data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name))}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch"}if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0}if(this.checkable(element)){return this.getLength(value,element)>0}return value!==undefined&&value!==null&&value.length>0},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value)},url:function(value,element){return this.optional(element)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value)},date:function(){var called=false;return function(value,element){if(!called){called=true;if(this.settings.debug&&window.console){console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\n"+"Please don't use it, since it relies on the Date constructor, which\n"+"behaves very differently across browsers and locales. Use `dateISO`\n"+"instead or one of the locale specific methods in `localizations/`\n"+"and `additional-methods.js`.")}}return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString())}}(),dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)},number:function(value,element){return this.optional(element)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length<=param},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},step:function(value,element,param){var type=$(element).attr("type"),errorMessage="Step attribute on input type "+type+" is not supported.",supportedTypes=["text","number","range"],re=new RegExp("\\b"+type+"\\b"),notSupported=type&&!re.test(supportedTypes.join()),decimalPlaces=function(num){var match=(""+num).match(/(?:\.(\d+))?$/);if(!match){return 0}return match[1]?match[1].length:0},toInt=function(num){return Math.round(num*Math.pow(10,decimals))},valid=true,decimals;if(notSupported){throw new Error(errorMessage)}decimals=decimalPlaces(param);if(decimalPlaces(value)>decimals||toInt(value)%toInt(param)!==0){valid=false}return this.optional(element)||valid},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-equalTo-blur").length){target.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(element).valid()})}return value===target.val()},remote:function(value,element,param,method){if(this.optional(element)){return"dependency-mismatch"}method=typeof method==="string"&&method||"remote";var previous=this.previousValue(element,method),validator,data,optionDataString;if(!this.settings.messages[element.name]){this.settings.messages[element.name]={}}previous.originalMessage=previous.originalMessage||this.settings.messages[element.name][method];this.settings.messages[element.name][method]=previous.message;param=typeof param==="string"&&{url:param}||param;optionDataString=$.param($.extend({data:value},param.data));if(previous.old===optionDataString){return previous.valid}previous.old=optionDataString;validator=this;this.startRequest(element);data={};data[element.name]=value;$.ajax($.extend(true,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var valid=response===true||response==="true",errors,message,submitted;validator.settings.messages[element.name][method]=previous.originalMessage;if(valid){submitted=validator.formSubmitted;validator.resetInternals();validator.toHide=validator.errorsFor(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.invalid[element.name]=false;validator.showErrors()}else{errors={};message=response||validator.defaultMessage(element,{method:method,parameters:value});errors[element.name]=previous.message=message;validator.invalid[element.name]=true;validator.showErrors(errors)}previous.valid=valid;validator.stopRequest(element,valid)}},param));return"pending"}}});var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=xhr}})}else{ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port]}return ajax.apply(this,arguments)}}return $});
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.validate"],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){(function(){function stripHtml(value){return value.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}$.validator.addMethod("maxWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length<=params},$.validator.format("Please enter {0} words or less."));$.validator.addMethod("minWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=params},$.validator.format("Please enter at least {0} words."));$.validator.addMethod("rangeWords",function(value,element,params){var valueStripped=stripHtml(value),regex=/\b\w+\b/g;return this.optional(element)||valueStripped.match(regex).length>=params[0]&&valueStripped.match(regex).length<=params[1]},$.validator.format("Please enter between {0} and {1} words."))})();$.validator.addMethod("accept",function(value,element,param){var typeParam=typeof param==="string"?param.replace(/\s/g,""):"image/*",optionalValue=this.optional(element),i,file,regex;if(optionalValue){return optionalValue}if($(element).attr("type")==="file"){typeParam=typeParam.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*");if(element.files&&element.files.length){regex=new RegExp(".?("+typeParam+")$","i");for(i=0;i<element.files.length;i++){file=element.files[i];if(!file.type.match(regex)){return false}}}}return true},$.validator.format("Please enter a value with a valid mimetype."));$.validator.addMethod("alphanumeric",function(value,element){return this.optional(element)||/^\w+$/i.test(value)},"Letters, numbers, and underscores only please");$.validator.addMethod("bankaccountNL",function(value,element){if(this.optional(element)){return true}if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(value)){return false}var account=value.replace(/ /g,""),sum=0,len=account.length,pos,factor,digit;for(pos=0;pos<len;pos++){factor=len-pos;digit=account.substring(pos,pos+1);sum=sum+factor*digit}return sum%11===0},"Please specify a valid bank account number");$.validator.addMethod("bankorgiroaccountNL",function(value,element){return this.optional(element)||$.validator.methods.bankaccountNL.call(this,value,element)||$.validator.methods.giroaccountNL.call(this,value,element)},"Please specify a valid bank or giro account number");$.validator.addMethod("bic",function(value,element){return this.optional(element)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(value.toUpperCase())},"Please specify a valid BIC code");$.validator.addMethod("cifES",function(value,element){"use strict";if(this.optional(element)){return true}var cifRegEx=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi);var letter=value.substring(0,1),number=value.substring(1,8),control=value.substring(8,9),all_sum=0,even_sum=0,odd_sum=0,i,n,control_digit,control_letter;function isOdd(n){return n%2===0}if(value.length!==9||!cifRegEx.test(value)){return false}for(i=0;i<number.length;i++){n=parseInt(number[i],10);if(isOdd(i)){n*=2;odd_sum+=n<10?n:n-9}else{even_sum+=n}}all_sum=even_sum+odd_sum;control_digit=(10-all_sum.toString().substr(-1)).toString();control_digit=parseInt(control_digit,10)>9?"0":control_digit;control_letter="JABCDEFGHI".substr(control_digit,1).toString();if(letter.match(/[ABEH]/)){return control===control_digit}else if(letter.match(/[KPQS]/)){return control===control_letter}return control===control_digit||control===control_letter},"Please specify a valid CIF number.");$.validator.addMethod("cpfBR",function(value){value=value.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(value.length!==11){return false}var sum=0,firstCN,secondCN,checkResult,i;firstCN=parseInt(value.substring(9,10),10);secondCN=parseInt(value.substring(10,11),10);checkResult=function(sum,cn){var result=sum*10%11;if(result===10||result===11){result=0}return result===cn};if(value===""||value==="00000000000"||value==="11111111111"||value==="22222222222"||value==="33333333333"||value==="44444444444"||value==="55555555555"||value==="66666666666"||value==="77777777777"||value==="88888888888"||value==="99999999999"){return false}for(i=1;i<=9;i++){sum=sum+parseInt(value.substring(i-1,i),10)*(11-i)}if(checkResult(sum,firstCN)){sum=0;for(i=1;i<=10;i++){sum=sum+parseInt(value.substring(i-1,i),10)*(12-i)}return checkResult(sum,secondCN)}return false},"Please specify a valid CPF number");$.validator.addMethod("creditcard",function(value,element){if(this.optional(element)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(value)){return false}var nCheck=0,nDigit=0,bEven=false,n,cDigit;value=value.replace(/\D/g,"");if(value.length<13||value.length>19){return false}for(n=value.length-1;n>=0;n--){cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9}}nCheck+=nDigit;bEven=!bEven}return nCheck%10===0},"Please enter a valid credit card number.");$.validator.addMethod("creditcardtypes",function(value,element,param){if(/[^0-9\-]+/.test(value)){return false}value=value.replace(/\D/g,"");var validTypes=0;if(param.mastercard){validTypes|=1}if(param.visa){validTypes|=2}if(param.amex){validTypes|=4}if(param.dinersclub){validTypes|=8}if(param.enroute){validTypes|=16}if(param.discover){validTypes|=32}if(param.jcb){validTypes|=64}if(param.unknown){validTypes|=128}if(param.all){validTypes=1|2|4|8|16|32|64|128}if(validTypes&1&&(/^(5[12345])/.test(value)||/^(2[234567])/.test(value))){return value.length===16}if(validTypes&2&&/^(4)/.test(value)){return value.length===16}if(validTypes&4&&/^(3[47])/.test(value)){return value.length===15}if(validTypes&8&&/^(3(0[012345]|[68]))/.test(value)){return value.length===14}if(validTypes&16&&/^(2(014|149))/.test(value)){return value.length===15}if(validTypes&32&&/^(6011)/.test(value)){return value.length===16}if(validTypes&64&&/^(3)/.test(value)){return value.length===16}if(validTypes&64&&/^(2131|1800)/.test(value)){return value.length===15}if(validTypes&128){return true}return false},"Please enter a valid credit card number.");$.validator.addMethod("currency",function(value,element,param){var isParamString=typeof param==="string",symbol=isParamString?param:param[0],soft=isParamString?true:param[1],regex;symbol=symbol.replace(/,/g,"");symbol=soft?symbol+"]":symbol+"]?";regex="^["+symbol+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";regex=new RegExp(regex);return this.optional(element)||regex.test(value)},"Please specify a valid currency");$.validator.addMethod("dateFA",function(value,element){return this.optional(element)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(value)},$.validator.messages.date);$.validator.addMethod("dateITA",function(value,element){var check=false,re=/^\d{1,2}\/\d{1,2}\/\d{4}$/,adata,gg,mm,aaaa,xdata;if(re.test(value)){adata=value.split("/");gg=parseInt(adata[0],10);mm=parseInt(adata[1],10);aaaa=parseInt(adata[2],10);xdata=new Date(Date.UTC(aaaa,mm-1,gg,12,0,0,0));if(xdata.getUTCFullYear()===aaaa&&xdata.getUTCMonth()===mm-1&&xdata.getUTCDate()===gg){check=true}else{check=false}}else{check=false}return this.optional(element)||check},$.validator.messages.date);$.validator.addMethod("dateNL",function(value,element){return this.optional(element)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(value)},$.validator.messages.date);$.validator.addMethod("extension",function(value,element,param){param=typeof param==="string"?param.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp("\\.("+param+")$","i"))},$.validator.format("Please enter a value with a valid extension."));$.validator.addMethod("giroaccountNL",function(value,element){return this.optional(element)||/^[0-9]{1,7}$/.test(value)},"Please specify a valid giro account number");$.validator.addMethod("greaterThan",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-greaterThan-blur").length){target.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){$(element).valid()})}return value>target.val()},"Please enter a greater value.");$.validator.addMethod("greaterThanEqual",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-greaterThanEqual-blur").length){target.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){$(element).valid()})}return value>=target.val()},"Please enter a greater value.");$.validator.addMethod("iban",function(value,element){if(this.optional(element)){return true}var iban=value.replace(/ /g,"").toUpperCase(),ibancheckdigits="",leadingZeroes=true,cRest="",cOperator="",countrycode,ibancheck,charAt,cChar,bbanpattern,bbancountrypatterns,ibanregexp,i,p;var minimalIBANlength=5;if(iban.length<minimalIBANlength){return false}countrycode=iban.substring(0,2);bbancountrypatterns={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};bbanpattern=bbancountrypatterns[countrycode];if(typeof bbanpattern!=="undefined"){ibanregexp=new RegExp("^[A-Z]{2}\\d{2}"+bbanpattern+"$","");if(!ibanregexp.test(iban)){return false}}ibancheck=iban.substring(4,iban.length)+iban.substring(0,4);for(i=0;i<ibancheck.length;i++){charAt=ibancheck.charAt(i);if(charAt!=="0"){leadingZeroes=false}if(!leadingZeroes){ibancheckdigits+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(charAt)}}for(p=0;p<ibancheckdigits.length;p++){cChar=ibancheckdigits.charAt(p);cOperator=""+cRest+""+cChar;cRest=cOperator%97}return cRest===1},"Please specify a valid IBAN");$.validator.addMethod("integer",function(value,element){return this.optional(element)||/^-?\d+$/.test(value)},"A positive or negative non-decimal number please");$.validator.addMethod("ipv4",function(value,element){return this.optional(element)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(value)},"Please enter a valid IP v4 address.");$.validator.addMethod("ipv6",function(value,element){return this.optional(element)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value)},"Please enter a valid IP v6 address.");$.validator.addMethod("lessThan",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-lessThan-blur").length){target.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){$(element).valid()})}return value<target.val()},"Please enter a lesser value.");$.validator.addMethod("lessThanEqual",function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-lessThanEqual-blur").length){target.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){$(element).valid()})}return value<=target.val()},"Please enter a lesser value.");$.validator.addMethod("lettersonly",function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value)},"Letters only please");$.validator.addMethod("letterswithbasicpunc",function(value,element){return this.optional(element)||/^[a-z\-.,()'"\s]+$/i.test(value)},"Letters or punctuation only please");$.validator.addMethod("maxfiles",function(value,element,param){if(this.optional(element)){return true}if($(element).attr("type")==="file"){if(element.files&&element.files.length>param){return false}}return true},$.validator.format("Please select no more than {0} files."));$.validator.addMethod("maxsize",function(value,element,param){if(this.optional(element)){return true}if($(element).attr("type")==="file"){if(element.files&&element.files.length){for(var i=0;i<element.files.length;i++){if(element.files[i].size>param){return false}}}}return true},$.validator.format("File size must not exceed {0} bytes each."));$.validator.addMethod("maxsizetotal",function(value,element,param){if(this.optional(element)){return true}if($(element).attr("type")==="file"){if(element.files&&element.files.length){var totalSize=0;for(var i=0;i<element.files.length;i++){totalSize+=element.files[i].size;if(totalSize>param){return false}}}}return true},$.validator.format("Total size of all files must not exceed {0} bytes."));$.validator.addMethod("mobileNL",function(value,element){return this.optional(element)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(value)},"Please specify a valid mobile number");$.validator.addMethod("mobileUK",function(phone_number,element){phone_number=phone_number.replace(/\(|\)|\s+|-/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");$.validator.addMethod("netmask",function(value,element){return this.optional(element)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(value)},"Please enter a valid netmask.");$.validator.addMethod("nieES",function(value,element){"use strict";if(this.optional(element)){return true}var nieRegEx=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi);var validChars="TRWAGMYFPDXBNJZSQVHLCKET",letter=value.substr(value.length-1).toUpperCase(),number;value=value.toString().toUpperCase();if(value.length>10||value.length<9||!nieRegEx.test(value)){return false}value=value.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2");number=value.length===9?value.substr(0,8):value.substr(0,9);return validChars.charAt(parseInt(number,10)%23)===letter},"Please specify a valid NIE number.");$.validator.addMethod("nifES",function(value,element){"use strict";if(this.optional(element)){return true}value=value.toUpperCase();if(!value.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(value)){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(value.substring(8,0)%23)===value.charAt(8)}if(/^[KLM]{1}/.test(value)){return value[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(value.substring(8,1)%23)}return false},"Please specify a valid NIF number.");$.validator.addMethod("nipPL",function(value){"use strict";value=value.replace(/[^0-9]/g,"");if(value.length!==10){return false}var arrSteps=[6,5,7,2,3,4,5,6,7];var intSum=0;for(var i=0;i<9;i++){intSum+=arrSteps[i]*value[i]}var int2=intSum%11;var intControlNr=int2===10?0:int2;return intControlNr===parseInt(value[9],10)},"Please specify a valid NIP number.");$.validator.addMethod("nisBR",function(value){var number;var cn;var sum=0;var dv;var count;var multiplier;value=value.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"");if(value.length!==11){return false}cn=parseInt(value.substring(10,11),10);number=parseInt(value.substring(0,10),10);for(count=2;count<12;count++){multiplier=count;if(count===10){multiplier=2}if(count===11){multiplier=3}sum+=number%10*multiplier;number=parseInt(number/10,10)}dv=sum%11;if(dv>1){dv=11-dv}else{dv=0}if(cn===dv){return true}else{return false}},"Please specify a valid NIS/PIS number");$.validator.addMethod("notEqualTo",function(value,element,param){return this.optional(element)||!$.validator.methods.equalTo.call(this,value,element,param)},"Please enter a different value, values must not be the same.");$.validator.addMethod("nowhitespace",function(value,element){return this.optional(element)||/^\S+$/i.test(value)},"No white space please");$.validator.addMethod("pattern",function(value,element,param){if(this.optional(element)){return true}if(typeof param==="string"){param=new RegExp("^(?:"+param+")$")}return param.test(value)},"Invalid format.");$.validator.addMethod("phoneNL",function(value,element){return this.optional(element)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(value)},"Please specify a valid phone number.");$.validator.addMethod("phonePL",function(phone_number,element){phone_number=phone_number.replace(/\s+/g,"");var regexp=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(element)||regexp.test(phone_number)},"Please specify a valid phone number");$.validator.addMethod("phonesUK",function(phone_number,element){phone_number=phone_number.replace(/\(|\)|\s+|-/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");$.validator.addMethod("phoneUK",function(phone_number,element){phone_number=phone_number.replace(/\(|\)|\s+|-/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");$.validator.addMethod("phoneUS",function(phone_number,element){phone_number=phone_number.replace(/\s+/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");$.validator.addMethod("postalcodeBR",function(cep_value,element){return this.optional(element)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(cep_value)},"Informe um CEP vlido.");$.validator.addMethod("postalCodeCA",function(value,element){return this.optional(element)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(value)},"Please specify a valid postal code");$.validator.addMethod("postalcodeIT",function(value,element){return this.optional(element)||/^\d{5}$/.test(value)},"Please specify a valid postal code");$.validator.addMethod("postalcodeNL",function(value,element){return this.optional(element)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(value)},"Please specify a valid postal code");$.validator.addMethod("postcodeUK",function(value,element){return this.optional(element)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(value)},"Please specify a valid UK postcode");$.validator.addMethod("require_from_group",function(value,element,options){var $fields=$(options[1],element.form),$fieldsFirst=$fields.eq(0),validator=$fieldsFirst.data("valid_req_grp")?$fieldsFirst.data("valid_req_grp"):$.extend({},this),isValid=$fields.filter(function(){return validator.elementValue(this)}).length>=options[0];$fieldsFirst.data("valid_req_grp",validator);if(!$(element).data("being_validated")){$fields.data("being_validated",true);$fields.each(function(){validator.element(this)});$fields.data("being_validated",false)}return isValid},$.validator.format("Please fill at least {0} of these fields."));$.validator.addMethod("skip_or_fill_minimum",function(value,element,options){var $fields=$(options[1],element.form),$fieldsFirst=$fields.eq(0),validator=$fieldsFirst.data("valid_skip")?$fieldsFirst.data("valid_skip"):$.extend({},this),numberFilled=$fields.filter(function(){return validator.elementValue(this)}).length,isValid=numberFilled===0||numberFilled>=options[0];$fieldsFirst.data("valid_skip",validator);if(!$(element).data("being_validated")){$fields.data("being_validated",true);$fields.each(function(){validator.element(this)});$fields.data("being_validated",false)}return isValid},$.validator.format("Please either skip these fields or fill at least {0} of them."));$.validator.addMethod("stateUS",function(value,element,options){var isDefault=typeof options==="undefined",caseSensitive=isDefault||typeof options.caseSensitive==="undefined"?false:options.caseSensitive,includeTerritories=isDefault||typeof options.includeTerritories==="undefined"?false:options.includeTerritories,includeMilitary=isDefault||typeof options.includeMilitary==="undefined"?false:options.includeMilitary,regex;if(!includeTerritories&&!includeMilitary){regex="^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}else if(includeTerritories&&includeMilitary){regex="^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else if(includeTerritories){regex="^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$"}else{regex="^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"}regex=caseSensitive?new RegExp(regex):new RegExp(regex,"i");return this.optional(element)||regex.test(value)},"Please specify a valid state");$.validator.addMethod("strippedminlength",function(value,element,param){return $(value).text().length>=param},$.validator.format("Please enter at least {0} characters"));$.validator.addMethod("time",function(value,element){return this.optional(element)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(value)},"Please enter a valid time, between 00:00 and 23:59");$.validator.addMethod("time12h",function(value,element){return this.optional(element)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(value)},"Please enter a valid time in 12-hour am/pm format");$.validator.addMethod("url2",function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},$.validator.messages.url);$.validator.addMethod("vinUS",function(v){if(v.length!==17){return false}var LL=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],rs=0,i,n,d,f,cd,cdv;for(i=0;i<17;i++){f=FL[i];d=v.slice(i,i+1);if(i===8){cdv=d}if(!isNaN(d)){d*=f}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n===8){cdv=LL[n]}break}}}rs+=d}cd=rs%11;if(cd===10){cd="X"}if(cd===cdv){return true}return false},"The specified vehicle identification number (VIN) is invalid.");$.validator.addMethod("zipcodeUS",function(value,element){return this.optional(element)||/^\d{5}(-\d{4})?$/.test(value)},"The specified US ZIP Code is invalid");$.validator.addMethod("ziprange",function(value,element){return this.optional(element)||/^90[2-5]\d\{2\}-\d{4}$/.test(value)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx");return $});
(function($){$.fn.touchwipe=function(settings){var config={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};if(settings)$.extend(config,settings);this.each(function(){var startX;var startY;var isMoving=false;function cancelTouch(){this.removeEventListener("touchmove",onTouchMove);startX=null;startY=null;isMoving=false}function onTouchMove(e){if(config.preventDefaultEvents){e.preventDefault()}if(isMoving){var x=e.touches[0].pageX;var y=e.touches[0].pageY;var dx=startX-x;var dy=startY-y;if(Math.abs(dx)>=config.min_move_x){cancelTouch();if(dx>0){config.wipeLeft(Math.abs(dx))}else{config.wipeRight(Math.abs(dx))}}else if(Math.abs(dy)>=config.min_move_y){cancelTouch();if(dy>0){config.wipeDown(Math.abs(dy))}else{config.wipeUp(Math.abs(dy))}}}}function onTouchStart(e){if(e.touches.length==1){startX=e.touches[0].pageX;startY=e.touches[0].pageY;isMoving=true;this.addEventListener("touchmove",onTouchMove,false)}}if("ontouchstart"in document.documentElement){this.addEventListener("touchstart",onTouchStart,false)}});return this}})(jQuery);
(function($){$.fn.rwdImageMaps=function(){var $img=this;var rwdImageMap=function(){$img.each(function(){if(typeof $(this).attr("usemap")=="undefined")return;var that=this,$that=$(that);$("<img />").on("load",function(){var attrW="width",attrH="height",w=$that.attr(attrW),h=$that.attr(attrH);if(!w||!h){var temp=new Image;temp.src=$that.attr("src");if(!w)w=temp.width;if(!h)h=temp.height}var wPercent=$that.width()/100,hPercent=$that.height()/100,map=$that.attr("usemap").replace("#",""),c="coords";$('map[name="'+map+'"]').find("area").each(function(){var $this=$(this);if(!$this.data(c))$this.data(c,$this.attr(c));var coords=$this.data(c).split(","),coordsPercent=new Array(coords.length);for(var i=0;i<coordsPercent.length;++i){if(i%2===0)coordsPercent[i]=parseInt(coords[i]/w*100*wPercent);else coordsPercent[i]=parseInt(coords[i]/h*100*hPercent)}$this.attr(c,coordsPercent.toString())})}).attr("src",$that.attr("src"))})};$(window).resize(rwdImageMap).trigger("resize");return this}})(jQuery);
$.fn.rater=function(options){var opts=$.extend({},$.fn.rater.defaults,options);return this.each(function(){var $this=$(this),$on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");if(opts.size==undefined)opts.size=$off.height();if(opts.rating==undefined){opts.rating=$on.width()/$off.width()}else{$on.width($off.width()*(opts.rating/opts.ratings.length))}if(opts.id==undefined)opts.id=$this.attr("id");var initialRating=opts.rating;if(!$this.hasClass("ui-rater-bindings-done")){$this.addClass("ui-rater-bindings-done");$off.mousemove(function(e){var left=e.clientX-$off.offset().left,width=$off.width()-($off.width()-left);width=Math.min(Math.ceil(width/(opts.size/opts.step))*opts.size/opts.step,opts.size*opts.ratings.length);$on.width(width);var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$this.attr("title",'Click to Rate "'+r+' stars"')}).hover(function(e){$on.addClass("ui-rater-starsHover")},function(e){$on.removeClass("ui-rater-starsHover");$on.width(initialRating*opts.size)}).click(function(e){var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$.fn.rater.rate($this,opts,r)}).css("cursor","pointer");$on.css("cursor","pointer")}})};$.fn.rater.defaults={url:location.href,ratings:["Hated It","Didn't Like It","Liked It","Really Liked It","Loved It"],step:1};$.fn.rater.rate=function($this,opts,rating){Pika.Account.ajaxLogin(function(){var $on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");$off.fadeTo(600,.4,function(){$.getJSON(opts.url,{id:opts.id,rating:rating},function(data){if(data.error)Pika.showMessage(data.error);if(data.rating){opts.rating=data.rating;$on.css("cursor","default");$off.unbind("click").unbind("mousemove").unbind("mouseenter").unbind("mouseleave").css("cursor","default").fadeTo(600,.1,function(){$on.removeClass("ui-rater-starsHover").width(opts.rating*opts.size).addClass("userRated");$off.fadeTo(500,1);$this.attr("title","Your rating: "+rating.toFixed(1));if($this.data("show_review")==true){Pika.Ratings.doRatingReview(opts.id)}})}}).fail(Pika.ajaxFail)})})};
(function(){var h,k=this,ba=function(){},l=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},n=function(a){return"array"==l(a)},ca=function(a){var b=l(a);return"array"==b||"object"==b&&"number"==typeof a.length},p=function(a){return"string"==typeof a},q=function(a){return"function"==l(a)},r=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},da=function(a,b,c){return a.call.apply(a.bind,arguments)},ea=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},s=function(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return s.apply(null,arguments)},fa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ga=Date.now||function(){return+new Date},ha=null,t=function(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},u=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,g){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return s.apply(null,c)}return s(this,a)};var v={};t("RecaptchaTemplates",v);v.VertHtml='<table id="recaptcha_table" class="recaptchatable" > <tr> <td colspan="6" class=\'recaptcha_r1_c1\'></td> </tr> <tr> <td class=\'recaptcha_r2_c1\'></td> <td colspan="4" class=\'recaptcha_image_cell\'><center><div id="recaptcha_image"></div></center></td> <td class=\'recaptcha_r2_c2\'></td> </tr> <tr> <td rowspan="6" class=\'recaptcha_r3_c1\'></td> <td colspan="4" class=\'recaptcha_r3_c2\'></td> <td rowspan="6" class=\'recaptcha_r3_c3\'></td> </tr> <tr> <td rowspan="3" class=\'recaptcha_r4_c1\' height="49"> <div class="recaptcha_input_area"> <input name="recaptcha_response_field" id="recaptcha_response_field" type="text" autocorrect="off" autocapitalize="off" placeholder="" /> <span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span> </div> </td> <td rowspan="4" class=\'recaptcha_r4_c2\'></td> <td><a id=\'recaptcha_reload_btn\'><img id=\'recaptcha_reload\' width="25" height="17" /></a></td> <td rowspan="4" class=\'recaptcha_r4_c4\'></td> </tr> <tr> <td><a id=\'recaptcha_switch_audio_btn\' class="recaptcha_only_if_image"><img id=\'recaptcha_switch_audio\' width="25" height="16" alt="" /></a><a id=\'recaptcha_switch_img_btn\' class="recaptcha_only_if_audio"><img id=\'recaptcha_switch_img\' width="25" height="16" alt=""/></a></td> </tr> <tr> <td><a id=\'recaptcha_whatsthis_btn\'><img id=\'recaptcha_whatsthis\' width="25" height="16" /></a></td> </tr> <tr> <td class=\'recaptcha_r7_c1\'></td> <td class=\'recaptcha_r8_c1\'></td> </tr> </table> ';v.CleanCss=".recaptchatable td img{display:block}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px;padding:7px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto;border:1px solid #dfdfdf!important}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable a img{border:0}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{border:1px solid #dfdfdf!important;margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{font-size:11pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1em;border:1px solid #dfdfdf!important}.recaptcha_error_text{color:red}.recaptcha_only_if_privacy{float:right;text-align:right;margin-right:7px}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}";v.CleanHtml='<table id="recaptcha_table" class="recaptchatable"> <tr height="73"> <td class=\'recaptcha_image_cell\' width="302"><center><div id="recaptcha_image"></div></center></td> <td style="padding: 10px 7px 7px 7px;"> <a id=\'recaptcha_reload_btn\'><img id=\'recaptcha_reload\' width="25" height="18" alt="" /></a> <a id=\'recaptcha_switch_audio_btn\' class="recaptcha_only_if_image"><img id=\'recaptcha_switch_audio\' width="25" height="15" alt="" /></a><a id=\'recaptcha_switch_img_btn\' class="recaptcha_only_if_audio"><img id=\'recaptcha_switch_img\' width="25" height="15" alt=""/></a> <a id=\'recaptcha_whatsthis_btn\'><img id=\'recaptcha_whatsthis\' width="25" height="16" /></a> </td> <td style="padding: 18px 7px 18px 7px;"> <img id=\'recaptcha_logo\' alt="" width="71" height="36" /> </td> </tr> <tr> <td style="padding-left: 7px;"> <div class="recaptcha_input_area" style="padding-top: 2px; padding-bottom: 7px;"> <input style="border: 1px solid #3c3c3c; width: 302px;" name="recaptcha_response_field" id="recaptcha_response_field" type="text" /> </div> </td> <td colspan=2><span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span></td> </tr> </table> ';v.VertCss=".recaptchatable td img{display:block}.recaptchatable .recaptcha_r1_c1{background:url('IMGROOT/sprite.png') 0 -63px no-repeat;width:318px;height:9px}.recaptchatable .recaptcha_r2_c1{background:url('IMGROOT/sprite.png') -18px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r2_c2{background:url('IMGROOT/sprite.png') -27px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r3_c1{background:url('IMGROOT/sprite.png') 0 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r3_c2{background:url('IMGROOT/sprite.png') -18px -57px no-repeat;width:300px;height:6px}.recaptchatable .recaptcha_r3_c3{background:url('IMGROOT/sprite.png') -9px 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r4_c1{background:url('IMGROOT/sprite.png') -43px 0 no-repeat;width:171px;height:49px}.recaptchatable .recaptcha_r4_c2{background:url('IMGROOT/sprite.png') -36px 0 no-repeat;width:7px;height:57px}.recaptchatable .recaptcha_r4_c4{background:url('IMGROOT/sprite.png') -214px 0 no-repeat;width:97px;height:57px}.recaptchatable .recaptcha_r7_c1{background:url('IMGROOT/sprite.png') -43px -49px no-repeat;width:171px;height:8px}.recaptchatable .recaptcha_r8_c1{background:url('IMGROOT/sprite.png') -43px -49px no-repeat;width:25px;height:8px}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px}#recaptcha_area,#recaptcha_table{width:318px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;padding:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;font-family:helvetica,sans-serif;font-size:8pt;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable img{border:0!important;margin:0!important;padding:0!important}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;width:153px!important;height:45px!important;margin-left:7px!important;margin-right:7px!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important;background:none!important;height:auto!important;width:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{width:153px!important;position:relative!important;bottom:7px!important;padding:0!important;margin:15px 0 0 0!important;font-size:10pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1!important}#recaptcha_instructions_error{color:red!important}.recaptcha_only_if_privacy{float:right;text-align:right}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}";var w={visual_challenge:"Get a visual challenge",audio_challenge:"Get an audio challenge",refresh_btn:"Get a new challenge",instructions_visual:"Type the text:",instructions_audio:"Type what you hear:",help_btn:"Help",play_again:"Play sound again",cant_hear_this:"Download sound as MP3",incorrect_try_again:"Incorrect. Try again.",image_alt_text:"reCAPTCHA challenge image",privacy_and_terms:"Privacy & Terms"},ia={visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"   ",instructions_visual:"  :",instructions_audio:"  :",help_btn:"",play_again:"   ",cant_hear_this:"   MP3",incorrect_try_again:" .  .",image_alt_text:"   reCAPTCHA",privacy_and_terms:" "},ja={visual_challenge:"Obtener una pista visual",audio_challenge:"Obtener una pista sonora",refresh_btn:"Obtener una pista nueva",instructions_visual:"Introduzca el texto:",instructions_audio:"Escribe lo que oigas:",help_btn:"Ayuda",play_again:"Volver a reproducir el sonido",cant_hear_this:"Descargar el sonido en MP3",incorrect_try_again:"Incorrecto. Vulvelo a intentar.",image_alt_text:"Pista de imagen reCAPTCHA",privacy_and_terms:"Privacidad y condiciones"},ka={visual_challenge:"Kumuha ng pagsubok na visual",audio_challenge:"Kumuha ng pagsubok na audio",refresh_btn:"Kumuha ng bagong pagsubok",instructions_visual:"I-type ang teksto:",instructions_audio:"I-type ang iyong narinig",help_btn:"Tulong",play_again:"I-play muli ang tunog",cant_hear_this:"I-download ang tunog bilang MP3",incorrect_try_again:"Hindi wasto. Muling subukan.",image_alt_text:"larawang panghamon ng reCAPTCHA",privacy_and_terms:"Privacy at Mga Tuntunin"},la={visual_challenge:"Test visuel",audio_challenge:"Test audio",refresh_btn:"Nouveau test",instructions_visual:"Saisissez le texte:",instructions_audio:"Qu'entendez-vous ?",help_btn:"Aide",play_again:"Rcouter",cant_hear_this:"Tlcharger l'audio au format MP3",incorrect_try_again:"Incorrect. Veuillez ressayer.",image_alt_text:"Image reCAPTCHA",privacy_and_terms:"Confidentialit et conditions d'utilisation"},ma={visual_challenge:"Dapatkan kata pengujian berbentuk visual",audio_challenge:"Dapatkan kata pengujian berbentuk audio",refresh_btn:"Dapatkan kata pengujian baru",instructions_visual:"Ketik teks:",instructions_audio:"Ketik yang Anda dengar:",help_btn:"Bantuan",play_again:"Putar suara sekali lagi",cant_hear_this:"Unduh suara sebagai MP3",incorrect_try_again:"Salah. Coba lagi.",image_alt_text:"Gambar tantangan reCAPTCHA",privacy_and_terms:"Privasi & Persyaratan"},na={visual_challenge:"  ",audio_challenge:"  ",refresh_btn:"  ",instructions_visual:"  :",instructions_audio:"    :",help_btn:"",play_again:"   ",cant_hear_this:"  -3MP",incorrect_try_again:".  .",image_alt_text:"   reCAPTCHA",privacy_and_terms:" "},oa={visual_challenge:"Obter um desafio visual",audio_challenge:"Obter um desafio de udio",refresh_btn:"Obter um novo desafio",instructions_visual:"Digite o texto:",instructions_audio:"Digite o que voc ouve:",help_btn:"Ajuda",play_again:"Reproduzir som novamente",cant_hear_this:"Fazer download do som no formato MP3",incorrect_try_again:"Incorreto. Tente novamente.",image_alt_text:"Imagem de desafio reCAPTCHA",privacy_and_terms:"Privacidade e Termos"},pa={visual_challenge:"Obinei un cod captcha vizual",audio_challenge:"Obinei un cod captcha audio",refresh_btn:"Obinei un nou cod captcha",instructions_visual:"Introducei textul:",instructions_audio:"Introducei ceea ce auzii:",help_btn:"Ajutor",play_again:"Redai sunetul din nou",cant_hear_this:"Descrcai fiierul audio ca MP3",incorrect_try_again:"Incorect. ncercai din nou.",image_alt_text:"Imagine de verificare reCAPTCHA",privacy_and_terms:"Confidenialitate i termeni"},qa={visual_challenge:"",audio_challenge:"",refresh_btn:"",instructions_visual:"",instructions_audio:"",help_btn:"",play_again:"",cant_hear_this:" MP3 ",incorrect_try_again:"",image_alt_text:"reCAPTCHA ",privacy_and_terms:""},ra={en:w,af:{visual_challenge:"Kry 'n visuele verifiring",audio_challenge:"Kry 'n klankverifiring",refresh_btn:"Kry 'n nuwe verifiring",instructions_visual:"",instructions_audio:"Tik wat jy hoor:",help_btn:"Hulp",play_again:"Speel geluid weer",cant_hear_this:"Laai die klank af as MP3",incorrect_try_again:"Verkeerd. Probeer weer.",image_alt_text:"reCAPTCHA-uitdagingprent",privacy_and_terms:"Privaatheid en bepalings"},am:{visual_challenge:"  ",audio_challenge:"    ",refresh_btn:"   ",instructions_visual:"",instructions_audio:" -",help_btn:"",play_again:"  ",cant_hear_this:" MP3  ",incorrect_try_again:"   ",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"  "},ar:ia,"ar-EG":ia,bg:{visual_challenge:"   ",audio_challenge:"  ",refresh_btn:"   ",instructions_visual:" :",instructions_audio:" :",help_btn:"",play_again:"   ",cant_hear_this:"     MP3",incorrect_try_again:".  .",image_alt_text:"    reCAPTCHA",privacy_and_terms:"   "},bn:{visual_challenge:"   ",audio_challenge:"    ",refresh_btn:"    ",instructions_visual:"",instructions_audio:"    :",help_btn:"",play_again:"   ",cant_hear_this:"MP3    ",incorrect_try_again:"   ",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"  "},ca:{visual_challenge:"Obtn un repte visual",audio_challenge:"Obteniu una pista sonora",refresh_btn:"Obteniu una pista nova",instructions_visual:"Escriviu el text:",instructions_audio:"Escriviu el que escolteu:",help_btn:"Ajuda",play_again:"Torna a reproduir el so",cant_hear_this:"Baixa el so com a MP3",incorrect_try_again:"No s correcte. Torna-ho a provar.",image_alt_text:"Imatge del repte de reCAPTCHA",privacy_and_terms:"Privadesa i condicions"},cs:{visual_challenge:"Zobrazit vizuln podobu vrazu",audio_challenge:"Pehrt zvukovou podobu vrazu",refresh_btn:"Zobrazit nov vraz",instructions_visual:"Zadejte text:",instructions_audio:"Napite, co jste slyeli:",help_btn:"Npovda",play_again:"Znovu pehrt zvuk",cant_hear_this:"Sthnout zvuk ve formtu MP3",incorrect_try_again:"patn. Zkuste to znovu.",image_alt_text:"Obrzek reCAPTCHA",privacy_and_terms:"Ochrana soukrom a smluvn podmnky"},da:{visual_challenge:"Hent en visuel udfordring",audio_challenge:"Hent en lydudfordring",refresh_btn:"Hent en ny udfordring",instructions_visual:"Indtast teksten:",instructions_audio:"Indtast det, du hrer:",help_btn:"Hjlp",play_again:"Afspil lyden igen",cant_hear_this:"Download lyd som MP3",incorrect_try_again:"Forkert. Prv igen.",image_alt_text:"reCAPTCHA-udfordringsbillede",privacy_and_terms:"Privatliv og vilkr"},de:{visual_challenge:"Captcha abrufen",audio_challenge:"Audio-Captcha abrufen",refresh_btn:"Neues Captcha abrufen",instructions_visual:"Geben Sie den angezeigten Text ein:",instructions_audio:"Geben Sie das Gehrte ein:",help_btn:"Hilfe",play_again:"Wort erneut abspielen",cant_hear_this:"Wort als MP3 herunterladen",incorrect_try_again:"Falsch. Bitte versuchen Sie es erneut.",image_alt_text:"reCAPTCHA-Bild",privacy_and_terms:"Datenschutzerklrung & Nutzungsbedingungen"},el:{visual_challenge:" ",audio_challenge:" ",refresh_btn:" ",instructions_visual:"  :",instructions_audio:"  :",help_btn:"",play_again:"  ",cant_hear_this:"   3",incorrect_try_again:".  .",image_alt_text:"  reCAPTCHA",privacy_and_terms:"  "},"en-GB":w,"en-US":w,es:ja,"es-419":{visual_challenge:"Enfrentar un desafo visual",audio_challenge:"Enfrentar un desafo de audio",refresh_btn:"Enfrentar un nuevo desafo",instructions_visual:"Escriba el texto:",instructions_audio:"Escribe lo que escuchas:",help_btn:"Ayuda",play_again:"Reproducir sonido de nuevo",cant_hear_this:"Descargar sonido en formato MP3",incorrect_try_again:"Incorrecto. Vuelve a intentarlo.",image_alt_text:"Imagen del desafo de la reCAPTCHA",privacy_and_terms:"Privacidad y condiciones"},"es-ES":ja,et:{visual_challenge:"Kuva kuvaphine robotilks",audio_challenge:"Kuva heliphine robotilks",refresh_btn:"Kuva uus robotilks",instructions_visual:"Tippige tekst:",instructions_audio:"Tippige, mida kuulete.",help_btn:"Abi",play_again:"Esita heli uuesti",cant_hear_this:"Laadi heli alla MP3-vormingus",incorrect_try_again:"Vale. Proovige uuesti.",image_alt_text:"reCAPTCHA robotilksu kujutis",privacy_and_terms:"Privaatsus ja tingimused"},eu:{visual_challenge:"Eskuratu ikusizko erronka",audio_challenge:"Eskuratu audio-erronka",refresh_btn:"Eskuratu erronka berria",instructions_visual:"",instructions_audio:"Idatzi entzuten duzuna:",help_btn:"Laguntza",play_again:"Erreproduzitu soinua berriro",cant_hear_this:"Deskargatu soinua MP3 gisa",incorrect_try_again:"Ez da zuzena. Saiatu berriro.",image_alt_text:"reCAPTCHA erronkaren irudia",privacy_and_terms:"Pribatutasuna eta baldintzak"},fa:{visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"   ",instructions_visual:"",instructions_audio:"     :",help_btn:"",play_again:"  ",cant_hear_this:"    MP3",incorrect_try_again:".   .",image_alt_text:"  reCAPTCHA",privacy_and_terms:"   "},fi:{visual_challenge:"Kuvavahvistus",audio_challenge:"nivahvistus",refresh_btn:"Uusi kuva",instructions_visual:"Kirjoita teksti:",instructions_audio:"Kirjoita kuulemasi:",help_btn:"Ohje",play_again:"Toista ni uudelleen",cant_hear_this:"Lataa ni MP3-tiedostona",incorrect_try_again:"Vrin. Yrit uudelleen.",image_alt_text:"reCAPTCHA-kuva",privacy_and_terms:"Tietosuoja ja kyttehdot"},fil:ka,fr:la,"fr-CA":{visual_challenge:"Obtenir un test visuel",audio_challenge:"Obtenir un test audio",refresh_btn:"Obtenir un nouveau test",instructions_visual:"Saisissez le texte:",instructions_audio:"Tapez ce que vous entendez:",help_btn:"Aide",play_again:"Jouer le son de nouveau",cant_hear_this:"Tlcharger le son en format MP3",incorrect_try_again:"Erreur, essayez  nouveau",image_alt_text:"Image reCAPTCHA",privacy_and_terms:"Confidentialit et conditions d'utilisation"},"fr-FR":la,gl:{visual_challenge:"Obter unha proba visual",audio_challenge:"Obter unha proba de audio",refresh_btn:"Obter unha proba nova",instructions_visual:"",instructions_audio:"Escribe o que escoitas:",help_btn:"Axuda",play_again:"Reproducir o son de novo",cant_hear_this:"Descargar son como MP3",incorrect_try_again:"Incorrecto. Tntao de novo.",image_alt_text:"Imaxe de proba de reCAPTCHA",privacy_and_terms:"Privacidade e condicins"},gu:{visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"   ",instructions_visual:"",instructions_audio:"     :",help_btn:"",play_again:"  ",cant_hear_this:"MP3    ",incorrect_try_again:".   .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"  "},hi:{visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"   ",instructions_visual:"  :",instructions_audio:"      :",help_btn:"",play_again:" : ",cant_hear_this:"  MP3     ",incorrect_try_again:". :  .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"  "},hr:{visual_challenge:"Dohvati vizualni upit",audio_challenge:"Dohvati zvuni upit",refresh_btn:"Dohvati novi upit",instructions_visual:"Unesite tekst:",instructions_audio:"Upiite to ujete:",help_btn:"Pomo",play_again:"Ponovi zvuk",cant_hear_this:"Preuzmi zvuk u MP3 formatu",incorrect_try_again:"Nije tono. Pokuajte ponovno.",image_alt_text:"Slikovni izazov reCAPTCHA",privacy_and_terms:"Privatnost i odredbe"},hu:{visual_challenge:"Vizulis kihvs krse",audio_challenge:"Hangkihvs krse",refresh_btn:"j kihvs krse",instructions_visual:"rja be a szveget:",instructions_audio:"rja le, amit hall:",help_btn:"Sg",play_again:"Hang ismtelt lejtszsa",cant_hear_this:"Hang letltse MP3 formtumban",incorrect_try_again:"Hibs. Prblkozzon jra.",image_alt_text:"reCAPTCHA ellenrz kp",privacy_and_terms:"Adatvdelem s Szerzdsi Felttelek"},hy:{visual_challenge:"  ",audio_challenge:"  ",refresh_btn:"  ",instructions_visual:" ",instructions_audio:" ,   ",help_btn:"",play_again:"  ",cant_hear_this:"   MP3",incorrect_try_again:" :  :",image_alt_text:"reCAPTCHA  ",privacy_and_terms:" & "},id:ma,is:{visual_challenge:"F agangsprf sem mynd",audio_challenge:"F agangsprf sem hljskr",refresh_btn:"F ntt agangsprf",instructions_visual:"",instructions_audio:"Slu inn a sem  heyrir:",help_btn:"Hjlp",play_again:"Spila hlj aftur",cant_hear_this:"Skja hlj sem MP3",incorrect_try_again:"Rangt. Reyndu aftur.",image_alt_text:"mynd reCAPTCHA agangsprfs",privacy_and_terms:"Persnuvernd og skilmlar"},it:{visual_challenge:"Verifica visiva",audio_challenge:"Verifica audio",refresh_btn:"Nuova verifica",instructions_visual:"Digita il testo:",instructions_audio:"Digita ci che senti:",help_btn:"Guida",play_again:"Riproduci di nuovo audio",cant_hear_this:"Scarica audio in MP3",incorrect_try_again:"Sbagliato. Riprova.",image_alt_text:"Immagine di verifica reCAPTCHA",privacy_and_terms:"Privacy e Termini"},iw:na,ja:{visual_challenge:"",audio_challenge:"",refresh_btn:"",instructions_visual:":",instructions_audio:":",help_btn:"",play_again:"",cant_hear_this:"MP3 ",incorrect_try_again:"",image_alt_text:"reCAPTCHA ",privacy_and_terms:""},kn:{visual_challenge:"  ",audio_challenge:"  ",refresh_btn:"  ",instructions_visual:"",instructions_audio:"   :",help_btn:"",play_again:"   ",cant_hear_this:" MP3   ",incorrect_try_again:".  .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"  "},ko:{visual_challenge:"  ",audio_challenge:"  ",refresh_btn:"  ",instructions_visual:" :",instructions_audio:"  :",help_btn:"",play_again:"  ",cant_hear_this:" MP3 ",incorrect_try_again:".   .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"   "},ln:la,lt:{visual_challenge:"Gauti vaizdin atpainimo test",audio_challenge:"Gauti garso atpainimo test",refresh_btn:"Gauti nauj atpainimo test",instructions_visual:"veskite tekst:",instructions_audio:"veskite tai, k girdite:",help_btn:"Pagalba",play_again:"Dar kart paleisti gars",cant_hear_this:"Atsisisti gars kaip MP3",incorrect_try_again:"Neteisingai. Bandykite dar kart.",image_alt_text:"Testo reCAPTCHA vaizdas",privacy_and_terms:"Privatumas ir slygos"},lv:{visual_challenge:"Saemt vizulu izaicinjumu",audio_challenge:"Saemt audio izaicinjumu",refresh_btn:"Saemt jaunu izaicinjumu",instructions_visual:"Ievadiet tekstu:",instructions_audio:"Ierakstiet dzirdamo:",help_btn:"Paldzba",play_again:"Vlreiz atskaot skau",cant_hear_this:"Lejupieldt skau MP3formt",incorrect_try_again:"Nepareizi. Miniet vlreiz.",image_alt_text:"reCAPTCHA izaicinjuma attls",privacy_and_terms:"Konfidencialitte un noteikumi"},ml:{visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"   ",instructions_visual:"",instructions_audio:"  :",help_btn:"",play_again:"   ",cant_hear_this:" MP3   ",incorrect_try_again:".  .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:" "},mr:{visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"    ",instructions_visual:"",instructions_audio:"      :",help_btn:"",play_again:"   ",cant_hear_this:"MP3    ",incorrect_try_again:".   .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:"  "},ms:{visual_challenge:"Dapatkan cabaran visual",audio_challenge:"Dapatkan cabaran audio",refresh_btn:"Dapatkan cabaran baru",instructions_visual:"Taipkan teksnya:",instructions_audio:"Taip apa yang didengari:",help_btn:"Bantuan",play_again:"Mainkan bunyi sekali lagi",cant_hear_this:"Muat turun bunyi sebagai MP3",incorrect_try_again:"Tidak betul. Cuba lagi.",image_alt_text:"Imej cabaran reCAPTCHA",privacy_and_terms:"Privasi & Syarat"},nl:{visual_challenge:"Een visuele uitdaging proberen",audio_challenge:"Een audio-uitdaging proberen",refresh_btn:"Een nieuwe uitdaging proberen",instructions_visual:"Typ de tekst:",instructions_audio:"Typ wat u hoort:",help_btn:"Help",play_again:"Geluid opnieuw afspelen",cant_hear_this:"Geluid downloaden als MP3",incorrect_try_again:"Onjuist. Probeer het opnieuw.",image_alt_text:"reCAPTCHA-uitdagingsafbeelding",privacy_and_terms:"Privacy en voorwaarden"},no:{visual_challenge:"F en bildeutfordring",audio_challenge:"F en lydutfordring",refresh_btn:"F en ny utfordring",instructions_visual:"Skriv inn teksten:",instructions_audio:"Skriv inn det du hrer:",help_btn:"Hjelp",play_again:"Spill av lyd p nytt",cant_hear_this:"Last ned lyd som MP3",incorrect_try_again:"Feil. Prv p nytt.",image_alt_text:"reCAPTCHA-utfordringsbilde",privacy_and_terms:"Personvern og vilkr"},pl:{visual_challenge:"Poka podpowied wizualn",audio_challenge:"Odtwrz podpowied dwikow",refresh_btn:"Nowa podpowied",instructions_visual:"Przepisz tekst:",instructions_audio:"Wpisz usyszane sowa:",help_btn:"Pomoc",play_again:"Odtwrz dwik ponownie",cant_hear_this:"Pobierz dwik jako plik MP3",incorrect_try_again:"Nieprawidowo. Sprbuj ponownie.",image_alt_text:"Zadanie obrazkowe reCAPTCHA",privacy_and_terms:"Prywatno i warunki"},pt:oa,"pt-BR":oa,"pt-PT":{visual_challenge:"Obter um desafio visual",audio_challenge:"Obter um desafio de udio",refresh_btn:"Obter um novo desafio",instructions_visual:"Introduza o texto:",instructions_audio:"Escreva o que ouvir:",help_btn:"Ajuda",play_again:"Reproduzir som novamente",cant_hear_this:"Transferir som como MP3",incorrect_try_again:"Incorreto. Tente novamente.",image_alt_text:"Imagem de teste reCAPTCHA",privacy_and_terms:"Privacidade e Termos de Utilizao"},ro:pa,ru:{visual_challenge:" ",audio_challenge:" ",refresh_btn:"",instructions_visual:" :",instructions_audio:" ,  :",help_btn:"",play_again:"  ",cant_hear_this:" MP3-",incorrect_try_again:".  .",image_alt_text:"   reCAPTCHA",privacy_and_terms:"  "},sk:{visual_challenge:"Zobrazi vizulnu podobu",audio_challenge:"Prehra zvukov podobu",refresh_btn:"Zobrazi nov vraz",instructions_visual:"Zadajte text:",instructions_audio:"Zadajte, o poujete:",help_btn:"Pomocnk",play_again:"Znova prehra zvuk",cant_hear_this:"Prevzia zvuk v podobe sboru MP3",incorrect_try_again:"Nesprvne. Skste to znova.",image_alt_text:"Obrzok zadania reCAPTCHA",privacy_and_terms:"Ochrana osobnch dajov a Zmluvn podmienky"},sl:{visual_challenge:"Vizualni preskus",audio_challenge:"Zvoni preskus",refresh_btn:"Nov preskus",instructions_visual:"Vnesite besedilo:",instructions_audio:"Natipkajte, kaj sliite:",help_btn:"Pomo",play_again:"Znova predvajaj zvok",cant_hear_this:"Prenesi zvok kot MP3",incorrect_try_again:"Napano. Poskusite znova.",image_alt_text:"Slika izziva reCAPTCHA",privacy_and_terms:"Zasebnost in pogoji"},sr:{visual_challenge:"  ",audio_challenge:"  ",refresh_btn:"  ",instructions_visual:" :",instructions_audio:"   :",help_btn:"",play_again:"  ",cant_hear_this:"   MP3 ",incorrect_try_again:".  .",image_alt_text:" reCAPTCHA ",privacy_and_terms:"  "},sv:{visual_challenge:"Hmta captcha i bildformat",audio_challenge:"Hmta captcha i ljudformat",refresh_btn:"Hmta ny captcha",instructions_visual:"Skriv texten:",instructions_audio:"Skriv det du hr:",help_btn:"Hjlp",play_again:"Spela upp ljudet igen",cant_hear_this:"Hmta ljud som MP3",incorrect_try_again:"Fel. Frsk igen.",image_alt_text:"reCAPTCHA-bild",privacy_and_terms:"Sekretess och villkor"},sw:{visual_challenge:"Pata herufi za kusoma",audio_challenge:"Pata herufi za kusikiliza",refresh_btn:"Pata herufi mpya",instructions_visual:"",instructions_audio:"Charaza unachosikia:",help_btn:"Usaidizi",play_again:"Cheza sauti tena",cant_hear_this:"Pakua sauti kama MP3",incorrect_try_again:"Sio sahihi. Jaribu tena.",image_alt_text:"picha ya changamoto ya reCAPTCHA",privacy_and_terms:"Faragha & Masharti"},ta:{visual_challenge:"  ",audio_challenge:"  ",refresh_btn:"  ",instructions_visual:"",instructions_audio:"  :",help_btn:"",play_again:"  ",cant_hear_this:" MP3  ",incorrect_try_again:".  .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:" & "},te:{visual_challenge:"   ",audio_challenge:"   ",refresh_btn:"  ",instructions_visual:"",instructions_audio:"   :",help_btn:"",play_again:"   ",cant_hear_this:" MP3   ",incorrect_try_again:".  .",image_alt_text:"reCAPTCHA  ",privacy_and_terms:" & "},th:{visual_challenge:"",audio_challenge:"",refresh_btn:"",instructions_visual:":",instructions_audio:":",help_btn:"",play_again:"",cant_hear_this:" MP3",incorrect_try_again:" ",image_alt_text:" reCAPTCHA",privacy_and_terms:""},tr:{visual_challenge:"Grsel sorgu al",audio_challenge:"Sesli sorgu al",refresh_btn:"Yeniden ykle",instructions_visual:"Metni yazn:",instructions_audio:"Duyduunuzu yazn:",help_btn:"Yardm",play_again:"Sesi tekrar al",cant_hear_this:"Sesi MP3 olarak indir",incorrect_try_again:"Yanl. Tekrar deneyin.",image_alt_text:"reCAPTCHA sorusu resmi",privacy_and_terms:"Gizlilik ve artlar"},uk:{visual_challenge:"  ",audio_challenge:" ",refresh_btn:" ",instructions_visual:" :",instructions_audio:" :",help_btn:"",play_again:"   ",cant_hear_this:"   MP3",incorrect_try_again:".   .",image_alt_text:"  reCAPTCHA",privacy_and_terms:"  "},ur:{visual_challenge:"    ",audio_challenge:"    ",refresh_btn:"    ",instructions_visual:"",instructions_audio:"      :",help_btn:"",play_again:"  ",cant_hear_this:"  MP3     ",incorrect_try_again:"   ",image_alt_text:"reCAPTCHA   ",privacy_and_terms:"  "},vi:{visual_challenge:"Nhn th thch hnh nh",audio_challenge:"Nhn th thch m thanh",refresh_btn:"Nhn th thch mi",instructions_visual:"Nhp vn bn:",instructions_audio:"Nhp ni dung bn nghe thy:",help_btn:"Tr gip",play_again:"Pht li m thanh",cant_hear_this:"Ti m thanh xung di dng MP3",incorrect_try_again:"Khng chnh xc. Hy th li.",image_alt_text:"Hnh xc thc reCAPTCHA",privacy_and_terms:"Bo mt v iu khon"},"zh-CN":qa,"zh-HK":{visual_challenge:"",audio_challenge:"",refresh_btn:"",instructions_visual:"",instructions_audio:"",help_btn:"",play_again:"",cant_hear_this:" MP3",incorrect_try_again:"",image_alt_text:"reCAPTCHA ",privacy_and_terms:""},"zh-TW":{visual_challenge:"",audio_challenge:"",refresh_btn:"",instructions_visual:"",instructions_audio:"",help_btn:"",play_again:"",cant_hear_this:" MP3 ",incorrect_try_again:"",image_alt_text:"reCAPTCHA ",privacy_and_terms:""},zu:{visual_challenge:"Thola inselelo ebonakalayo",audio_challenge:"Thola inselelo yokulalelwayo",refresh_btn:"Thola inselelo entsha",instructions_visual:"",instructions_audio:"Bhala okuzwayo:",help_btn:"Usizo",play_again:"Phinda udlale okulalelwayo futhi",cant_hear_this:"Layisha umsindo njenge-MP3",incorrect_try_again:"Akulungile. Zama futhi.",image_alt_text:"umfanekiso oyinselelo we-reCAPTCHA",privacy_and_terms:"Okwangasese kanye nemigomo"},tl:ka,he:na,"in":ma,mo:pa,zh:qa};
var x=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(x,Error);x.prototype.name="CustomError";var sa;var ta=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Ba=function(a){if(!ua.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(va,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(wa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Aa,"&#0;"));return a},va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,Aa=/\x00/g,ua=/[\x00&<>"']/,Ca=function(a,b){return a<b?-1:a>b?1:0},Da=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Ea=function(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Fa=function(a,b){b.unshift(a);x.call(this,ta.apply(null,b));b.shift()};u(Fa,x);Fa.prototype.name="AssertionError";var Ga=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),g=d;else a&&(e+=": "+a,g=b);throw new Fa(""+e,g||[])},y=function(a,b,c){a||Ga("",null,b,Array.prototype.slice.call(arguments,2))},Ha=function(a,b){throw new Fa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},Ia=function(a,b,c){p(a)||Ga("Expected string but got %s: %s.",[l(a),a],b,Array.prototype.slice.call(arguments,2));return a},Ja=function(a,b,c){q(a)||Ga("Expected function but got %s: %s.",[l(a),a],b,Array.prototype.slice.call(arguments,2))};var z=Array.prototype,Ka=z.indexOf?function(a,b,c){y(null!=a.length);return z.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=z.forEach?function(a,b,c){y(null!=a.length);z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Ma=z.map?function(a,b,c){y(null!=a.length);return z.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,f=0;f<d;f++)f in g&&(e[f]=b.call(c,g[f],f,a));return e},Na=z.some?function(a,b,c){y(null!=a.length);return z.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1},Oa=function(a,b){var c=Ka(a,b),d;if(d=0<=c)y(null!=a.length),z.splice.call(a,c,1);return d},Pa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Qa=function(a,b,c){y(null!=a.length);return 2>=arguments.length?z.slice.call(a,b):z.slice.call(a,b,c)};var A;t:{var Ra=k.navigator;if(Ra){var Sa=Ra.userAgent;if(Sa){A=Sa;break t}}A=""}var B=function(a){return-1!=A.indexOf(a)};var Ta=B("Opera")||B("OPR"),C=B("Trident")||B("MSIE"),E=B("Gecko")&&-1==A.toLowerCase().indexOf("webkit")&&!(B("Trident")||B("MSIE")),F=-1!=A.toLowerCase().indexOf("webkit"),Ua=function(){var a=k.document;return a?a.documentMode:void 0},Va=function(){var a="",b;if(Ta&&k.opera)return a=k.opera.version,q(a)?a():a;E?b=/rv\:([^\);]+)(\)|;)/:C?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:F&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(A))?a[1]:"");return C&&(b=Ua(),b>parseFloat(a))?String(b):a}(),Wa={},G=function(a){var b;if(!(b=Wa[a])){b=0;for(var c=String(Va).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var f=c[g]||"",m=d[g]||"",$=RegExp("(\\d*)(\\D*)","g"),J=RegExp("(\\d*)(\\D*)","g");do{var D=$.exec(f)||["","",""],aa=J.exec(m)||["","",""];if(0==D[0].length&&0==aa[0].length)break;b=Ca(0==D[1].length?0:parseInt(D[1],10),0==aa[1].length?0:parseInt(aa[1],10))||Ca(0==D[2].length,0==aa[2].length)||Ca(D[2],aa[2])}while(0==b)}b=Wa[a]=0<=b}return b},Xa=k.document,Ya=Xa&&C?Ua()||("CSS1Compat"==Xa.compatMode?parseInt(Va,10):5):void 0;var Za=function(a){if(8192>a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192)var d=Qa(a,c,c+8192),b=b+String.fromCharCode.apply(null,d);return b},$a=function(a){return Ma(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var ab=null,bb=null,cb=function(a){if(!ab){ab={};bb={};for(var b=0;65>b;b++)ab[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),bb[ab[b]]=b}for(var b=bb,c=[],d=0;d<a.length;){var e=b[a.charAt(d++)],g=d<a.length?b[a.charAt(d)]:0;++d;var f=d<a.length?b[a.charAt(d)]:64;++d;var m=d<a.length?b[a.charAt(d)]:64;++d;if(null==e||null==g||null==f||null==m)throw Error();c.push(e<<2|g>>4);64!=f&&(c.push(g<<4&240|f>>2),64!=m&&c.push(f<<6&192|m))}return c};var H=function(){};H.prototype.disposed_=!1;H.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};var db=function(a,b){a.onDisposeCallbacks_||(a.onDisposeCallbacks_=[]);a.onDisposeCallbacks_.push(b)};H.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var eb=function(a){a&&"function"==typeof a.dispose&&a.dispose()};var fb=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},gb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},hb=function(a){for(var b in a)return!1;return!0},jb=function(){var a=ib()?k.google_ad:null,b={},c;for(c in a)b[c]=a[c];return b},kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),lb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<kb.length;g++)c=kb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},mb=function(a){var b=arguments.length;if(1==b&&n(arguments[0]))return mb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var nb=!C||C&&9<=Ya;!E&&!C||C&&C&&9<=Ya||E&&G("1.9.1");C&&G("9");var ob=function(a,b){var c;c=a.className;c=p(c)&&c.match(/\S+/g)||[];for(var d=Qa(arguments,1),e=c.length+d.length,g=c,f=0;f<d.length;f++)0<=Ka(g,d[f])||g.push(d[f]);a.className=c.join(" ");return c.length==e};var rb=function(a){return a?new pb(qb(a)):sa||(sa=new pb)},sb=function(a,b){return p(b)?a.getElementById(b):b},ub=function(a,b){fb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in tb?a.setAttribute(tb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},tb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},wb=function(a,b,c){return vb(document,arguments)},vb=function(a,b){var c=b[0],d=b[1];if(!nb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var e={};lb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(p(d)?c.className=d:n(d)?ob.apply(null,[c].concat(d)):ub(c,d));2<b.length&&xb(a,c,b);return c},xb=function(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var g=c[e];!ca(g)||r(g)&&0<g.nodeType?d(g):La(yb(g)?Pa(g):g,d)}},zb=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},Ab=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},qb=function(a){y(a,"Node cannot be null or undefined.");return 9==a.nodeType?a:a.ownerDocument||a.document},yb=function(a){if(a&&"number"==typeof a.length){if(r(a))return"function"==typeof a.item||"string"==typeof a.item;if(q(a))return"function"==typeof a.item}return!1},pb=function(a){this.document_=a||k.document||document};h=pb.prototype;h.getDomHelper=rb;h.getElement=function(a){return sb(this.document_,a)};h.$=pb.prototype.getElement;h.createDom=function(a,b,c){return vb(this.document_,arguments)};h.createElement=function(a){return this.document_.createElement(a)};h.createTextNode=function(a){return this.document_.createTextNode(String(a))};h.appendChild=function(a,b){a.appendChild(b)};var Bb=function(a){k.setTimeout(function(){throw a},0)},Cb,Db=function(){if(k.Promise&&k.Promise.resolve){var a=k.Promise.resolve();return function(b){a.then(function(){try{b()}catch(a){Bb(a)}})}}var b=k.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(b=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=s(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b){var c=new b,d={},e=d;c.port1.onmessage=function(){d=d.next;var a=d.cb;d.cb=null;a()};return function(a){e.next={cb:a};e=e.next;c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};var Ib=function(a,b){if(!Eb){var c=Fb;q(k.setImmediate)?k.setImmediate(c):(Cb||(Cb=Db()),Cb(c));Eb=!0}Gb.push(new Hb(a,b))},Eb=!1,Gb=[],Fb=function(){for(;Gb.length;){var a=Gb;Gb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.fn.call(c.scope)}catch(d){Bb(d)}}}Eb=!1},Hb=function(a,b){this.fn=a;this.scope=b};var Jb=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},Kb=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var K=function(a,b){this.state_=0;this.result_=void 0;this.callbackEntries_=this.parent_=null;this.hadUnhandledRejection_=this.executing_=!1;this.stack_=[];Lb(this,Error("created"));this.currentStep_=0;try{var c=this;a.call(b,function(a){I(c,2,a)},function(a){I(c,3,a)})}catch(d){I(this,3,d)}};K.prototype.then=function(a,b,c){null!=a&&Ja(a,"opt_onFulfilled should be a function.");null!=b&&Ja(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");Lb(this,Error("then"));return Mb(this,q(a)?a:null,q(b)?b:null,c)};Jb(K);K.prototype.cancel=function(a){0==this.state_&&Ib(function(){var b=new Nb(a);Ob(this,b)},this)};var Ob=function(a,b){if(0==a.state_)if(a.parent_){var c=a.parent_;if(c.callbackEntries_){for(var d=0,e=-1,g=0,f;f=c.callbackEntries_[g];g++)if(f=f.child)if(d++,f==a&&(e=g),0<=e&&1<d)break;0<=e&&(0==c.state_&&1==d?Ob(c,b):(d=c.callbackEntries_.splice(e,1)[0],Pb(c),d.onRejected(b)))}}else I(a,3,b)},Rb=function(a,b){a.callbackEntries_&&a.callbackEntries_.length||2!=a.state_&&3!=a.state_||Qb(a);a.callbackEntries_||(a.callbackEntries_=[]);a.callbackEntries_.push(b)},Mb=function(a,b,c,d){var e={child:null,onFulfilled:null,onRejected:null};e.child=new K(function(a,f){e.onFulfilled=b?function(c){try{var e=b.call(d,c);a(e)}catch(J){f(J)}}:a;e.onRejected=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Nb?f(b):a(e)}catch(J){f(J)}}:f});e.child.parent_=a;Rb(a,e);return e.child};K.prototype.unblockAndFulfill_=function(a){y(1==this.state_);this.state_=0;I(this,2,a)};K.prototype.unblockAndReject_=function(a){y(1==this.state_);this.state_=0;I(this,3,a)};var I=function(a,b,c){if(0==a.state_){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(Kb(c)){a.state_=1;c.then(a.unblockAndFulfill_,a.unblockAndReject_,a);return}if(r(c))try{var d=c.then;if(q(d)){Sb(a,c,d);return}}catch(e){b=3,c=e}}a.result_=c;a.state_=b;Qb(a);3!=b||c instanceof Nb||Tb(a,c)}},Sb=function(a,b,c){a.state_=1;var d=!1,e=function(b){d||(d=!0,a.unblockAndFulfill_(b))},g=function(b){d||(d=!0,a.unblockAndReject_(b))};try{c.call(b,e,g)}catch(f){g(f)}},Qb=function(a){a.executing_||(a.executing_=!0,Ib(a.executeCallbacks_,a))};K.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var a=this.callbackEntries_;this.callbackEntries_=[];for(var b=0;b<a.length;b++){this.currentStep_++;var c=a[b],d=this.result_;if(2==this.state_)c.onFulfilled(d);else Pb(this),c.onRejected(d)}}this.executing_=!1};var Lb=function(a,b){if(p(b.stack)){var c=b.stack.split("\n",4)[3],d=b.message,d=d+Array(11-d.length).join(" ");a.stack_.push(d+c)}},Pb=function(a){for(;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1},Tb=function(a,b){a.hadUnhandledRejection_=!0;Ib(function(){if(a.hadUnhandledRejection_){if(b&&p(b.stack)&&a.stack_.length){for(var c=["Promise trace:"],d=a;d;d=d.parent_){for(var e=a.currentStep_;0<=e;e--)c.push(d.stack_[e]);c.push("Value: ["+(3==d.state_?"REJECTED":"FULFILLED")+"] <"+String(d.result_)+">")}b.stack+="\n\n"+c.join("\n")}Ub.call(null,b)}})},Ub=Bb,Nb=function(a){x.call(this,a)};u(Nb,x);Nb.prototype.name="cancel";var L=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0;this.constructorStack_=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,L);"string"==typeof c.stack&&(this.constructorStack_=c.stack.replace(/^[^\n]*\n/,""))}};L.prototype.cancel=function(a){if(this.fired_)this.result_ instanceof L&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):(b.branches_--,0>=b.branches_&&b.cancel())}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.fired_||Vb(this,new Wb)}};L.prototype.continue_=function(a,b){this.blocked_=!1;Xb(this,a,b)};var Xb=function(a,b,c){a.fired_=!0;a.result_=c;a.hadError_=!b;Yb(a)},$b=function(a){if(a.fired_){if(!a.silentlyCanceled_)throw new Zb;a.silentlyCanceled_=!1}};L.prototype.callback=function(a){$b(this);ac(a);Xb(this,!0,a)};var Vb=function(a,b){$b(a);ac(b);bc(a,b);Xb(a,!1,b)},bc=function(a,b){a.constructorStack_&&r(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.constructorStack_)},ac=function(a){y(!(a instanceof L),"An execution sequence may not be initiated with a blocking Deferred.")},cc=function(a,b,c,d){y(!a.blocking_,"Blocking Deferreds can not be re-used");a.sequence_.push([b,c,d]);a.fired_&&Yb(a)};L.prototype.then=function(a,b,c){var d,e,g=new K(function(a,b){d=a;e=b});cc(this,d,function(a){a instanceof Wb?g.cancel():e(a)});return g.then(a,b,c)};Jb(L);var dc=function(a){return Na(a.sequence_,function(a){return q(a[1])})},Yb=function(a){if(a.unhandledErrorId_&&a.fired_&&dc(a)){var b=a.unhandledErrorId_,c=ec[b];c&&(k.clearTimeout(c.id_),delete ec[b]);a.unhandledErrorId_=0}a.parent_&&(a.parent_.branches_--,delete a.parent_);for(var b=a.result_,d=c=!1;a.sequence_.length&&!a.blocked_;){var e=a.sequence_.shift(),g=e[0],f=e[1],e=e[2];if(g=a.hadError_?f:g)try{var m=g.call(e||a.defaultScope_,b);void 0!==m&&(a.hadError_=a.hadError_&&(m==b||m instanceof Error),a.result_=b=m);Kb(b)&&(d=!0,a.blocked_=!0)}catch($){b=$,a.hadError_=!0,bc(a,b),dc(a)||(c=!0)}}a.result_=b;d&&(m=s(a.continue_,a,!0),d=s(a.continue_,a,!1),b instanceof L?(cc(b,m,d),b.blocking_=!0):b.then(m,d));c&&(b=new fc(b),ec[b.id_]=b,a.unhandledErrorId_=b.id_)},Zb=function(){x.call(this)};u(Zb,x);Zb.prototype.message="Deferred has already fired";Zb.prototype.name="AlreadyCalledError";var Wb=function(){x.call(this)};u(Wb,x);Wb.prototype.message="Deferred was canceled";Wb.prototype.name="CanceledError";var fc=function(a){this.id_=k.setTimeout(s(this.throwError,this),0);this.error_=a};fc.prototype.throwError=function(){y(ec[this.id_],"Cannot throw an error that is not scheduled.");delete ec[this.id_];throw this.error_};var ec={};var kc=function(a){var b={},c=b.document||document,d=document.createElement("SCRIPT"),e={script_:d,timeout_:void 0},g=new L(gc,e),f=null,m=null!=b.timeout?b.timeout:5e3;0<m&&(f=window.setTimeout(function(){hc(d,!0);Vb(g,new ic(1,"Timeout reached for loading script "+a))},m),e.timeout_=f);d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||(hc(d,b.cleanupWhenDone||!1,f),g.callback(null))};d.onerror=function(){hc(d,!0,f);Vb(g,new ic(0,"Error while loading script "+a))};ub(d,{type:"text/javascript",charset:"UTF-8",src:a});jc(c).appendChild(d);return g},jc=function(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement},gc=function(){if(this&&this.script_){var a=this.script_;a&&"SCRIPT"==a.tagName&&hc(a,!0,this.timeout_)}},hc=function(a,b,c){null!=c&&k.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){Ab(a)},0)},ic=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);x.call(this,c);this.code=a};u(ic,x);var lc=function(a){lc[" "](a);return a};lc[" "]=ba;var mc=!C||C&&9<=Ya,nc=C&&!G("9");!F||G("528");E&&G("1.9b")||C&&G("8")||Ta&&G("9.5")||F&&G("528");E&&!G("8")||C&&G("9");var M=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};M.prototype.disposeInternal=function(){};M.prototype.dispose=function(){};M.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var N=function(a,b){M.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.event_=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(E){var e;t:{try{lc(d.nodeName);e=!0;break t}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=F||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=F||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()}};u(N,M);N.prototype.preventDefault=function(){N.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,nc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};N.prototype.disposeInternal=function(){};var oc="closure_listenable_"+(1e6*Math.random()|0),pc=0;var qc=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++pc;this.removed=this.callOnce=!1},rc=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};var O=function(a){this.src=a;this.listeners={};this.typeCount_=0};O.prototype.add=function(a,b,c,d,e){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.typeCount_++);var f=sc(a,b,d,e);-1<f?(b=a[f],c||(b.callOnce=!1)):(b=new qc(b,this.src,g,!!d,e),b.callOnce=c,a.push(b));return b};O.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=sc(e,b,c,d);return-1<b?(rc(e[b]),y(null!=e.length),z.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};var tc=function(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Oa(a.listeners[c],b);d&&(rc(b),0==a.listeners[c].length&&(delete a.listeners[c],a.typeCount_--));return d};O.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,rc(d[e]);delete this.listeners[c];this.typeCount_--}return b};O.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=sc(a,b,c,d));return-1<e?a[e]:null};var sc=function(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.removed&&g.listener==b&&g.capture==!!c&&g.handler==d)return e}return-1};var uc="closure_lm_"+(1e6*Math.random()|0),vc={},wc=0,xc=function(a,b,c,d,e){if(n(b)){for(var g=0;g<b.length;g++)xc(a,b[g],c,d,e);return null}c=yc(c);if(a&&a[oc])a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var g=!!d,f=zc(a);f||(a[uc]=f=new O(a));c=f.add(b,c,!1,d,e);c.proxy||(d=Ac(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Bc(b.toString()),d),wc++);a=c}return a},Ac=function(){var a=Cc,b=mc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Dc=function(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)Dc(a,b[g],c,d,e);else c=yc(c),a&&a[oc]?a.unlisten(b,c,d,e):a&&(a=zc(a))&&(b=a.getListener(b,c,!!d,e))&&Ec(b)},Ec=function(a){if("number"==typeof a||!a||a.removed)return!1;var b=a.src;if(b&&b[oc])return tc(b.eventTargetListeners_,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Bc(c),d);wc--;(c=zc(b))?(tc(c,a),0==c.typeCount_&&(c.src=null,b[uc]=null)):rc(a);return!0},Bc=function(a){return a in vc?vc[a]:vc[a]="on"+a},Gc=function(a,b,c,d){var e=1;if(a=zc(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==c&&!g.removed&&(e&=!1!==Fc(g,d))}return Boolean(e)},Fc=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&Ec(a);return c.call(d,b)},Cc=function(a,b){if(a.removed)return!0;if(!mc){var c;if(!(c=b))t:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new N(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(f){g=!0}if(g||void 0==e.returnValue)e.returnValue=!0}e=[];for(g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,m=e.length-1;!c.propagationStopped_&&0<=m;m--)c.currentTarget=e[m],d&=Gc(e[m],g,!0,c);for(m=0;!c.propagationStopped_&&m<e.length;m++)c.currentTarget=e[m],d&=Gc(e[m],g,!1,c)}return d}return Fc(a,new N(b,this))},zc=function(a){a=a[uc];return a instanceof O?a:null},Hc="__closure_events_fn_"+(1e9*Math.random()>>>0),yc=function(a){y(a,"Listener can not be null.");if(q(a))return a;y(a.handleEvent,"An object listener must have handleEvent method.");return a[Hc]||(a[Hc]=function(b){return a.handleEvent(b)})};var P=function(a){this.handler_=a;this.keys_={}};u(P,H);var Ic=[];h=P.prototype;h.listen=function(a,b,c,d){n(b)||(b&&(Ic[0]=b.toString()),b=Ic);for(var e=0;e<b.length;e++){var g=xc(a,b[e],c||this.handleEvent,d||!1,this.handler_||this);if(!g)break;this.keys_[g.key]=g}return this};h.unlisten=function(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)this.unlisten(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.handler_||this,c=yc(c),d=!!d,b=a&&a[oc]?a.getListener(b,c,d,e):a?(a=zc(a))?a.getListener(b,c,d,e):null:null,b&&(Ec(b),delete this.keys_[b.key]);return this};h.removeAll=function(){fb(this.keys_,Ec);this.keys_={}};h.disposeInternal=function(){P.superClass_.disposeInternal.call(this);this.removeAll()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Q=function(){this.eventTargetListeners_=new O(this);this.actualEventTarget_=this};u(Q,H);Q.prototype[oc]=!0;h=Q.prototype;h.parentEventTarget_=null;h.setParentEventTarget=function(a){this.parentEventTarget_=a};h.addEventListener=function(a,b,c,d){xc(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Dc(this,a,b,c,d)};h.dispatchEvent=function(a){Jc(this);var b,c=this.parentEventTarget_;if(c){b=[];for(var d=1;c;c=c.parentEventTarget_)b.push(c),y(1e3>++d,"infinite loop")}c=this.actualEventTarget_;d=a.type||a;if(p(a))a=new M(a,c);else if(a instanceof M)a.target=a.target||c;else{var e=a;a=new M(d,c);lb(a,e)}var e=!0,g;if(b)for(var f=b.length-1;!a.propagationStopped_&&0<=f;f--)g=a.currentTarget=b[f],e=Kc(g,d,!0,a)&&e;a.propagationStopped_||(g=a.currentTarget=c,e=Kc(g,d,!0,a)&&e,a.propagationStopped_||(e=Kc(g,d,!1,a)&&e));if(b)for(f=0;!a.propagationStopped_&&f<b.length;f++)g=a.currentTarget=b[f],e=Kc(g,d,!1,a)&&e;return e};h.disposeInternal=function(){Q.superClass_.disposeInternal.call(this);this.eventTargetListeners_&&this.eventTargetListeners_.removeAll(void 0);this.parentEventTarget_=null};h.listen=function(a,b,c,d){Jc(this);return this.eventTargetListeners_.add(String(a),b,!1,c,d)};h.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};var Kc=function(a,b,c,d){b=a.eventTargetListeners_.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var f=b[g];if(f&&!f.removed&&f.capture==c){var m=f.listener,$=f.handler||f.src;f.callOnce&&tc(a.eventTargetListeners_,f);e=!1!==m.call($,d)&&e}}return e&&!1!=d.returnValue_};Q.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};var Jc=function(a){y(a.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var R=function(a){Q.call(this);this.imageIdToRequestMap_={};this.imageIdToImageMap_={};this.handler_=new P(this);this.parent_=a};u(R,Q);var Lc=[C&&!G("11")?"readystatechange":"load","abort","error"],Mc=function(a,b,c){(c=p(c)?c:c.src)&&(a.imageIdToRequestMap_[b]={src:c,corsRequestType:null})};R.prototype.start=function(){var a=this.imageIdToRequestMap_;La(gb(a),function(b){var c=a[b];if(c&&(delete a[b],!this.disposed_)){var d;d=this.parent_?rb(this.parent_).createDom("img"):new Image;c.corsRequestType&&(d.crossOrigin=c.corsRequestType);this.handler_.listen(d,Lc,this.onNetworkEvent_);this.imageIdToImageMap_[b]=d;d.id=b;d.src=c.src}},this)};R.prototype.onNetworkEvent_=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.disposed_&&(a=b.id,delete this.imageIdToRequestMap_[a],b=this.imageIdToImageMap_[a])&&(delete this.imageIdToImageMap_[a],this.handler_.unlisten(b,Lc,this.onNetworkEvent_),hb(this.imageIdToImageMap_)&&hb(this.imageIdToRequestMap_)&&this.dispatchEvent("complete"))}};R.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_;delete this.imageIdToImageMap_;eb(this.handler_);R.superClass_.disposeInternal.call(this)};var S=function(){};S.getInstance=function(){return S.instance_?S.instance_:S.instance_=new S};S.prototype.nextId_=0;var T=function(a){Q.call(this);this.dom_=a||rb()};u(T,Q);h=T.prototype;h.idGenerator_=S.getInstance();h.id_=null;h.inDocument_=!1;h.element_=null;h.parent_=null;h.children_=null;h.childIndex_=null;h.wasDecorated_=!1;h.getElement=function(){return this.element_};h.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error("Method not supported");T.superClass_.setParentEventTarget.call(this,a)};h.getDomHelper=function(){return this.dom_};h.createDom=function(){this.element_=this.dom_.createElement("div")};var Oc=function(a,b){if(a.inDocument_)throw Error("Component already rendered");a.element_||a.createDom();b?b.insertBefore(a.element_,null):a.dom_.document_.body.appendChild(a.element_);a.parent_&&!a.parent_.inDocument_||Nc(a)},Nc=function(a){a.inDocument_=!0;Pc(a,function(a){!a.inDocument_&&a.getElement()&&Nc(a)})},Qc=function(a){Pc(a,function(a){a.inDocument_&&Qc(a)});a.googUiComponentHandler_&&a.googUiComponentHandler_.removeAll();a.inDocument_=!1};T.prototype.disposeInternal=function(){this.inDocument_&&Qc(this);this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);Pc(this,function(a){a.dispose()});!this.wasDecorated_&&this.element_&&Ab(this.element_);this.parent_=this.element_=this.childIndex_=this.children_=null;T.superClass_.disposeInternal.call(this)};var Pc=function(a,b){a.children_&&La(a.children_,b,void 0)};T.prototype.removeChild=function(a,b){if(a){var c=p(a)?a:a.id_||(a.id_=":"+(a.idGenerator_.nextId_++).toString(36)),d;this.childIndex_&&c?(d=this.childIndex_,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.childIndex_;c in d&&delete d[c];Oa(this.children_,a);b&&(Qc(a),a.element_&&Ab(a.element_));c=a;if(null==c)throw Error("Unable to set parent component");c.parent_=null;T.superClass_.setParentEventTarget.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};var U=function(a,b,c){T.call(this,c);this.captchaImage_=a;this.adImage_=b&&300==b.naturalWidth&&57==b.naturalHeight?b:null};u(U,T);U.prototype.createDom=function(){U.superClass_.createDom.call(this);var a=this.getElement();this.captchaImage_.alt=V.image_alt_text;this.getDomHelper().appendChild(a,this.captchaImage_);this.adImage_&&(this.adImage_.alt=V.image_alt_text,this.getDomHelper().appendChild(a,this.adImage_),this.adImage_&&Rc(this.adImage_)&&(a.innerHTML+='<div id="recaptcha-ad-choices"><div class="recaptcha-ad-choices-collapsed"><img height="15" width="30" alt="AdChoices" border="0" src="//www.gstatic.com/recaptcha/api/img/adicon.png"/></div><div class="recaptcha-ad-choices-expanded"><a href="https://support.google.com/adsense/troubleshooter/1631343" target="_blank"><img height="15" width="75" alt="AdChoices" border="0" src="//www.gstatic.com/recaptcha/api/img/adchoices.png"/></a></div></div>'))};var Rc=function(a){var b=Sc(a,"visibility");a=Sc(a,"display");return"hidden"!=b&&"none"!=a},Sc=function(a,b){var c;t:{c=qb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break t}c=""}if(!(c=c||(a.currentStyle?a.currentStyle[b]:null))&&(c=a.style[Da(b)],"undefined"===typeof c)){c=a.style;var d;t:if(d=Da(b),void 0===a.style[d]){var e=(F?"Webkit":E?"Moz":C?"ms":Ta?"O":null)+Ea(d);if(void 0!==a.style[e]){d=e;break t}}c=c[d]||""}return c};U.prototype.disposeInternal=function(){delete this.captchaImage_;delete this.adImage_;U.superClass_.disposeInternal.call(this)};var Tc=function(a,b,c){this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=s(this.doAction_,this)};u(Tc,H);h=Tc.prototype;h.id_=0;h.disposeInternal=function(){Tc.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};h.start=function(a){this.stop();var b=this.callback_;a=void 0!==a?a:this.interval_;if(!q(b))if(b&&"function"==typeof b.handleEvent)b=s(b.handleEvent,b);else throw Error("Invalid listener argument");this.id_=2147483647<a?-1:k.setTimeout(b,a||0)};h.stop=function(){this.isActive()&&k.clearTimeout(this.id_);this.id_=0};h.isActive=function(){return 0!=this.id_};h.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var Uc=function(a,b){this.listener_=a;this.handler_=b;this.delay_=new Tc(s(this.onTick_,this),0,this)};u(Uc,H);h=Uc.prototype;h.interval_=0;h.runUntil_=0;h.disposeInternal=function(){this.delay_.dispose();delete this.listener_;delete this.handler_;Uc.superClass_.disposeInternal.call(this)};h.start=function(a,b){this.stop();var c=b||0;this.interval_=Math.max(a||0,0);this.runUntil_=0>c?-1:ga()+c;this.delay_.start(0>c?this.interval_:Math.min(this.interval_,c))};h.stop=function(){this.delay_.stop()};h.isActive=function(){return this.delay_.isActive()};h.onSuccess=function(){};h.onFailure=function(){};h.onTick_=function(){if(this.listener_.call(this.handler_))this.onSuccess();else if(0>this.runUntil_)this.delay_.start(this.interval_);else{var a=this.runUntil_-ga();if(0>=a)this.onFailure();else this.delay_.start(Math.min(this.interval_,a))
}};mb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));mb("action","cite","data","formaction","href","manifest","poster","src");mb("link","script","style");Ba("".implementsGoogStringTypedString?"".getTypedStringValue():"");var Vc={sanitizedContentKindHtml:!0},Wc={sanitizedContentJsStrChars:!0},Xc={sanitizedContentKindText:!0},W=function(){throw Error("Do not instantiate directly")};W.prototype.contentDir=null;W.prototype.toString=function(){return this.content};var bd=function(a){var b=Yc;y(b,"Soy template may not be null.");var c=rb().createElement("DIV");a=Zc(b(a||$c,void 0,void 0));b=a.match(ad);y(!b,"This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\nTemplate output: %s",b&&b[0],a);c.innerHTML=a;return 1==c.childNodes.length&&(a=c.firstChild,1==a.nodeType)?a:c},Zc=function(a){if(!r(a))return String(a);if(a instanceof W){if(a.contentKind===Vc)return Ia(a.content);if(a.contentKind===Xc)return Ba(a.content)}Ha("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"},ad=/^<(body|caption|col|colgroup|head|html|tr|td|tbody|thead|tfoot)>/i,$c={};C&&G(8);var cd=function(){W.call(this)};u(cd,W);cd.prototype.contentKind=Vc;var dd=function(){W.call(this)};u(dd,W);dd.prototype.contentKind=Wc;var ed=function(a){function b(){}b.prototype=a.prototype;return function(a,d){var e=new b;e.content=String(a);void 0!==d&&(e.contentDir=d);return e}},fd=ed(cd);ed(dd);(function(a){function b(){}b.prototype=a.prototype;return function(a,d){if(!String(a))return"";var e=new b;e.content=String(a);void 0!==d&&(e.contentDir=d);return e}})(cd);var id=function(a){return null!=a&&a.contentKind===Wc?(y(a.constructor===dd),a.content):String(a).replace(gd,hd)},jd={"\x00":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"},hd=function(a){return jd[a]},gd=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;var Yc=function(a){return fd('<script type="text/javascript">var challenge = \''+id(a.challenge)+"'; var publisherId = '"+id(a.publisherId)+"';"+("ca-mongoogle"==a.publisherId?'google_page_url = "3pcerttesting.com/dab/recaptcha.html";':"")+"\n    google_ad_client = publisherId;\n    google_ad_type = 'html';\n    google_ad_output = 'js';\n    google_image_size = '300x57';\n    google_captcha_token = challenge;\n    google_ad_request_done = function(ad) {\n      window.parent.recaptcha.ads.adutils.googleAdRequestDone(ad);\n    };\n    </script><script type=\"text/javascript\" src=\"//pagead2.googlesyndication.com/pagead/show_ads.js\"></script>")};Yc.soyTemplateName="recaptcha.soy.ads.iframeAdsLoader.main";var ib=function(){var a=k.google_ad;return!!(a&&a.token&&a.imageAdUrl&&a.hashedAnswer&&a.salt&&a.delayedImpressionUrl&&a.engagementUrl)},kd=function(){k.google_ad&&(k.google_ad=null)},ld=function(a){a=a||document.body;var b=k.google_ad;b&&b.searchUpliftUrl&&(b=wb("iframe",{src:'data:text/html;charset=utf-8,<body><img src="'+b.searchUpliftUrl+'"></img></body>',style:"display:none"}),a.appendChild(b))},md=0,nd=function(a){var b=new R;Mc(b,"recaptcha-url-"+md++,a);b.start()},od=function(a,b){var c=RecaptchaState.publisher_id;kd();var d=wb("iframe",{id:"recaptcha-loader-"+md++,style:"display: none"});document.body.appendChild(d);var e=d.contentWindow?d.contentWindow.document:d.contentDocument;e.open("text/html","replace");e.write(bd({challenge:a,publisherId:c}).innerHTML);e.close();c=new Uc(function(){return!!k.google_ad});c.onSuccess=function(){Ab(d);b()};c.onFailure=function(){Ab(d);b()};c.start(50,500)};t("recaptcha.ads.adutils.googleAdRequestDone",function(a){k.google_ad=a});var pd=function(){this.blockSize=-1};var qd=function(){this.blockSize=-1;this.blockSize=64;this.chain_=Array(4);this.block_=Array(this.blockSize);this.totalLength_=this.blockLength_=0;this.reset()};u(qd,pd);qd.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.totalLength_=this.blockLength_=0};var rd=function(a,b,c){c||(c=0);var d=Array(16);if(p(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.chain_[0];c=a.chain_[1];var e=a.chain_[2],g=a.chain_[3],f=0,f=b+(g^c&(e^g))+d[0]+3614090360&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[1]+3905402710&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[2]+606105819&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[3]+3250441966&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[4]+4118548399&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[5]+1200080426&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[6]+2821735955&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[7]+4249261313&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[8]+1770035416&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[9]+2336552879&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[10]+4294925233&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[11]+2304563134&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[12]+1804603682&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[13]+4254626195&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[14]+2792965006&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[15]+1236535329&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(e^g&(c^e))+d[1]+4129170786&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[6]+3225465664&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[11]+643717713&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[0]+3921069994&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[5]+3593408605&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[10]+38016083&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[15]+3634488961&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[4]+3889429448&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[9]+568446438&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[14]+3275163606&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[3]+4107603335&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[8]+1163531501&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[13]+2850285829&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[2]+4243563512&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[7]+1735328473&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[12]+2368359562&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(c^e^g)+d[5]+4294588738&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[8]+2272392833&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[11]+1839030562&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[14]+4259657740&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[1]+2763975236&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[4]+1272893353&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[7]+4139469664&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[10]+3200236656&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[13]+681279174&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[0]+3936430074&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[3]+3572445317&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[6]+76029189&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[9]+3654602809&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[12]+3873151461&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[15]+530742520&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[2]+3299628645&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(e^(c|~g))+d[0]+4096336452&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[7]+1126891415&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[14]+2878612391&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[5]+4237533241&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[12]+1700485571&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[3]+2399980690&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[10]+4293915773&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[1]+2240044497&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[8]+1873313359&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[15]+4264355552&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[6]+2734768916&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[13]+1309151649&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[4]+4149444226&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[11]+3174756917&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[2]+718787259&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[9]+3951481745&4294967295;a.chain_[0]=a.chain_[0]+b&4294967295;a.chain_[1]=a.chain_[1]+(e+(f<<21&4294967295|f>>>11))&4294967295;a.chain_[2]=a.chain_[2]+e&4294967295;a.chain_[3]=a.chain_[3]+g&4294967295};qd.prototype.update=function(a,b){void 0===b&&(b=a.length);for(var c=b-this.blockSize,d=this.block_,e=this.blockLength_,g=0;g<b;){if(0==e)for(;g<=c;)rd(this,a,g),g+=this.blockSize;if(p(a))for(;g<b;){if(d[e++]=a.charCodeAt(g++),e==this.blockSize){rd(this,d);e=0;break}}else for(;g<b;)if(d[e++]=a[g++],e==this.blockSize){rd(this,d);e=0;break}}this.blockLength_=e;this.totalLength_+=b};var X=function(){P.call(this);this.callback_=this.element_=null;this.md5_=new qd};u(X,P);var sd=function(a,b,c,d,e){a.unwatch();a.element_=b;a.callback_=e;a.listen(b,"keyup",s(a.onChanged_,a,c,d))};X.prototype.unwatch=function(){this.element_&&this.callback_&&(this.removeAll(),this.callback_=this.element_=null)};X.prototype.onChanged_=function(a,b){var c;c=(c=this.element_.value)?c.replace(/[\s\xa0]+/g,"").toLowerCase():"";this.md5_.reset();this.md5_.update(c+"."+b);c=this.md5_;var d=Array((56>c.blockLength_?c.blockSize:2*c.blockSize)-c.blockLength_);d[0]=128;for(var e=1;e<d.length-8;++e)d[e]=0;for(var g=8*c.totalLength_,e=d.length-8;e<d.length;++e)d[e]=g&255,g/=256;c.update(d);d=Array(16);for(e=g=0;4>e;++e)for(var f=0;32>f;f+=8)d[g++]=c.chain_[e]>>>f&255;$a(d).toLowerCase()==a.toLowerCase()&&this.callback_()};X.prototype.disposeInternal=function(){this.element_=null;X.superClass_.disposeInternal.call(this)};var ud=function(a,b,c){this.adObject_=a;this.captchaImageUrl_=b;this.opt_successCallback_=c||null;td(this)};u(ud,H);var td=function(a){var b=new R;db(a,fa(eb,b));Mc(b,"recaptcha_challenge_image",a.captchaImageUrl_);Mc(b,"recaptcha_ad_image",a.adObject_.imageAdUrl);var c={};xc(b,"load",s(function(a,b){a[b.target.id]=b.target},a,c));xc(b,"complete",s(a.handleImagesLoaded_,a,c));b.start()};ud.prototype.handleImagesLoaded_=function(a){a=new U(a.recaptcha_challenge_image,a.recaptcha_ad_image);db(this,fa(eb,a));var b=sb(document,"recaptcha_image");zb(b);Oc(a,b);a.adImage_&&Rc(a.adImage_)&&(nd(this.adObject_.delayedImpressionUrl),a=new X,db(this,fa(eb,a)),sd(a,sb(document,"recaptcha_response_field"),this.adObject_.hashedAnswer,this.adObject_.salt,s(function(a,b){a.unwatch();nd(b)},this,a,this.adObject_.engagementUrl)),this.opt_successCallback_&&this.opt_successCallback_("04"+this.adObject_.token))};var V=w;t("RecaptchaStr",V);var Y=k.RecaptchaOptions;t("RecaptchaOptions",Y);var vd={tabindex:0,theme:"red",callback:null,lang:null,custom_theme_widget:null,custom_translations:null};t("RecaptchaDefaultOptions",vd);var Z={widget:null,timer_id:-1,style_set:!1,theme:null,type:"image",ajax_verify_cb:null,th1:null,th2:null,th3:null,element:"",ad_captcha_plugin:null,reload_timeout:-1,force_reload:!1,$:function(a){return"string"==typeof a?document.getElementById(a):a},attachEvent:function(a,b,c){a&&a.addEventListener?a.addEventListener(b,c,!1):a&&a.attachEvent&&a.attachEvent("on"+b,c)},create:function(a,b,c){Z.destroy();b&&(Z.widget=Z.$(b),Z.element=b);Z._init_options(c);Z._call_challenge(a)},destroy:function(){var a=Z.$("recaptcha_challenge_field");a&&a.parentNode.removeChild(a);-1!=Z.timer_id&&clearInterval(Z.timer_id);Z.timer_id=-1;if(a=Z.$("recaptcha_image"))a.innerHTML="";Z.update_widget();Z.widget&&("custom"!=Z.theme?Z.widget.innerHTML="":Z.widget.style.display="none",Z.widget=null)},focus_response_field:function(){var a=Z.$("recaptcha_response_field");a&&a.focus()},get_challenge:function(){return"undefined"==typeof RecaptchaState?null:RecaptchaState.challenge},get_response:function(){var a=Z.$("recaptcha_response_field");return a?a.value:null},ajax_verify:function(a){Z.ajax_verify_cb=a;a=Z.get_challenge()||"";var b=Z.get_response()||"";a=Z._get_api_server()+"/ajaxverify?c="+encodeURIComponent(a)+"&response="+encodeURIComponent(b);Z._add_script(a)},_ajax_verify_callback:function(a){Z.ajax_verify_cb(a)},_get_overridable_url:function(a){var b=window.location.protocol;if("undefined"!=typeof _RecaptchaOverrideApiServer)a=_RecaptchaOverrideApiServer;else if("undefined"!=typeof RecaptchaState&&"string"==typeof RecaptchaState.server&&0<RecaptchaState.server.length)return RecaptchaState.server.replace(/\/+$/,"");return b+"//"+a},_get_api_server:function(){return Z._get_overridable_url("www.google.com/recaptcha/api")},_get_static_url_root:function(){return Z._get_overridable_url("www.gstatic.com/recaptcha/api")},_call_challenge:function(a){a=Z._get_api_server()+"/challenge?k="+a+"&ajax=1&cachestop="+Math.random();Z.getLang_()&&(a+="&lang="+Z.getLang_());"undefined"!=typeof Y.extra_challenge_params&&(a+="&"+Y.extra_challenge_params);Z._add_script(a)},_add_script:function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;Z._get_script_area().appendChild(b)},_get_script_area:function(){var a=document.getElementsByTagName("head");return a=!a||1>a.length?document.body:a[0]},_hash_merge:function(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])b[d]=a[c][d];return b},_init_options:function(a){Y=Z._hash_merge([vd,a||{}])},challenge_callback_internal:function(){Z.update_widget();Z._reset_timer();V=Z._hash_merge([w,ra[Z.getLang_()]||{},Y.custom_translations||{}]);window.addEventListener&&window.addEventListener("unload",function(){Z.destroy()},!1);Z._is_ie()&&window.attachEvent&&window.attachEvent("onbeforeunload",function(){});if(0<navigator.userAgent.indexOf("KHTML")){var a=document.createElement("iframe");a.src="about:blank";a.style.height="0px";a.style.width="0px";a.style.visibility="hidden";a.style.border="none";a.appendChild(document.createTextNode("This frame prevents back/forward cache problems in Safari."));document.body.appendChild(a)}Z._finish_widget()},_add_css:function(a){if(-1!=navigator.appVersion.indexOf("MSIE 5"))document.write('<style type="text/css">'+a+"</style>");else{var b=document.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));Z._get_script_area().appendChild(b)}},_set_style:function(a){Z.style_set||(Z.style_set=!0,Z._add_css(a+"\n\n.recaptcha_is_showing_audio .recaptcha_only_if_image,.recaptcha_isnot_showing_audio .recaptcha_only_if_audio,.recaptcha_had_incorrect_sol .recaptcha_only_if_no_incorrect_sol,.recaptcha_nothad_incorrect_sol .recaptcha_only_if_incorrect_sol{display:none !important}"))},_init_builtin_theme:function(){var a=Z.$,b=Z._get_static_url_root(),c=v.VertCss,d=v.VertHtml,e=b+"/img/"+Z.theme,g="gif",b=Z.theme;"clean"==b&&(c=v.CleanCss,d=v.CleanHtml,g="png");c=c.replace(/IMGROOT/g,e);Z._set_style(c);Z.update_widget();Z.widget.innerHTML='<div id="recaptcha_area">'+d+"</div>";c=Z.getLang_();a("recaptcha_privacy")&&null!=c&&"en"==c.substring(0,2).toLowerCase()&&null!=V.privacy_and_terms&&0<V.privacy_and_terms.length&&(c=document.createElement("a"),c.href="http://www.google.com/intl/en/policies/",c.target="_blank",c.innerHTML=V.privacy_and_terms,a("recaptcha_privacy").appendChild(c));c=function(b,c,d,J){var D=a(b);D.src=e+"/"+c+"."+g;c=V[d];D.alt=c;b=a(b+"_btn");b.title=c;Z.attachEvent(b,"click",J)};c("recaptcha_reload","refresh","refresh_btn",function(){Z.reload_internal("r")});c("recaptcha_switch_audio","audio","audio_challenge",function(){Z.switch_type("audio")});c("recaptcha_switch_img","text","visual_challenge",function(){Z.switch_type("image")});c("recaptcha_whatsthis","help","help_btn",Z.showhelp);"clean"==b&&(a("recaptcha_logo").src=e+"/logo."+g);a("recaptcha_table").className="recaptchatable recaptcha_theme_"+Z.theme;b=function(b,c){var d=a(b);d&&(RecaptchaState.rtl&&"span"==d.tagName.toLowerCase()&&(d.dir="rtl"),d.appendChild(document.createTextNode(V[c])))};b("recaptcha_instructions_image","instructions_visual");b("recaptcha_instructions_audio","instructions_audio");b("recaptcha_instructions_error","incorrect_try_again");a("recaptcha_instructions_image")||a("recaptcha_instructions_audio")||(b="audio"==Z.type?V.instructions_audio:V.instructions_visual,b=b.replace(/:$/,""),a("recaptcha_response_field").setAttribute("placeholder",b))},_finish_widget:function(){var a=Z.$,b=Y,c=b.theme;c in{blackglass:1,clean:1,custom:1,red:1,white:1}||(c="red");Z.theme||(Z.theme=c);"custom"!=Z.theme?Z._init_builtin_theme():Z._set_style("");c=document.createElement("span");c.id="recaptcha_challenge_field_holder";c.style.display="none";a("recaptcha_response_field").parentNode.insertBefore(c,a("recaptcha_response_field"));a("recaptcha_response_field").setAttribute("autocomplete","off");a("recaptcha_image").style.width="300px";a("recaptcha_image").style.height="57px";a("recaptcha_challenge_field_holder").innerHTML='<input type="hidden" name="recaptcha_challenge_field" id="recaptcha_challenge_field" value=""/>';Z.th_init();Z.should_focus=!1;Z.th3||Z.force_reload?(Z._set_challenge(RecaptchaState.challenge,"image",!0),setTimeout(function(){Z.reload_internal("i")},100)):Z._set_challenge(RecaptchaState.challenge,"image",!1);Z.updateTabIndexes_();Z.update_widget();Z.widget&&(Z.widget.style.display="");b.callback&&b.callback()},updateTabIndexes_:function(){var a=Z.$,b=Y;b.tabindex&&(b=b.tabindex,a("recaptcha_response_field").tabIndex=b++,"audio"==Z.type&&a("recaptcha_audio_play_again")&&(a("recaptcha_audio_play_again").tabIndex=b++,a("recaptcha_audio_download"),a("recaptcha_audio_download").tabIndex=b++),"custom"!=Z.theme&&(a("recaptcha_reload_btn").tabIndex=b++,a("recaptcha_switch_audio_btn").tabIndex=b++,a("recaptcha_switch_img_btn").tabIndex=b++,a("recaptcha_whatsthis_btn").tabIndex=b,a("recaptcha_privacy").tabIndex=b++))},switch_type:function(a){if(!((new Date).getTime()<Z.reload_timeout)&&(Z.type=a,Z.reload_internal("audio"==Z.type?"a":"v"),"custom"!=Z.theme)){a=Z.$;var b="audio"==Z.type?V.instructions_audio:V.instructions_visual,b=b.replace(/:$/,"");a("recaptcha_response_field").setAttribute("placeholder",b)}},reload:function(){Z.reload_internal("r")},reload_internal:function(a){var b=Y,c=RecaptchaState,d=(new Date).getTime();d<Z.reload_timeout||(Z.reload_timeout=d+1e3,"undefined"==typeof a&&(a="r"),d=Z._get_api_server()+"/reload?c="+c.challenge+"&k="+c.site+"&reason="+a+"&type="+Z.type,Z.getLang_()&&(d+="&lang="+Z.getLang_()),"undefined"!=typeof b.extra_challenge_params&&(d+="&"+b.extra_challenge_params),Z.th_callback_invoke(),Z.th1&&(d+="&th="+Z.th1,Z.th1=""),"audio"==Z.type&&(d=b.audio_beta_12_08?d+"&audio_beta_12_08=1":d+"&new_audio_default=1"),Z.should_focus="t"!=a&&"i"!=a,Z._add_script(d),eb(Z.ad_captcha_plugin),c.publisher_id=null)},th_callback_invoke:function(){if(Z.th3)try{var a=Z.th3.exec();a&&1600>a.length&&(Z.th1=a)}catch(b){Z.th1=""}},finish_reload:function(a,b,c,d){RecaptchaState.payload_url=c;RecaptchaState.is_incorrect=!1;RecaptchaState.publisher_id=d;Z._set_challenge(a,b,!1);Z.updateTabIndexes_()},_set_challenge:function(a,b,c){"image"==b&&RecaptchaState.publisher_id?od(a,function(){Z._set_challenge_internal(a,b,c)}):Z._set_challenge_internal(a,b,c)},_set_challenge_internal:function(a,b,c){var d=Z.$,e=RecaptchaState;e.challenge=a;Z.type=b;d("recaptcha_challenge_field").value=e.challenge;c||("audio"==b?(d("recaptcha_image").innerHTML=Z.getAudioCaptchaHtml(),Z._loop_playback()):"image"==b&&(a=e.payload_url,a||(a=Z._get_api_server()+"/image?c="+e.challenge,Z.th_callback_invoke(),Z.th1&&(a+="&th="+Z.th1,Z.th1="")),ld(d("recaptcha_widget_div")),ib()?Z.ad_captcha_plugin=new ud(jb(),a,function(a){RecaptchaState.challenge=a;d("recaptcha_challenge_field").value=a}):d("recaptcha_image").innerHTML='<img id="recaptcha_challenge_image" alt="'+V.image_alt_text+'" height="57" width="300" src="'+a+'" />',kd()));Z._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",e.is_incorrect);Z._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio","audio"==b);Z._clear_input();Z.should_focus&&Z.focus_response_field();Z._reset_timer()},_reset_timer:function(){clearInterval(Z.timer_id);var a=Math.max(1e3*(RecaptchaState.timeout-60),6e4);Z.timer_id=setInterval(function(){Z.reload_internal("t")},a);return a},showhelp:function(){window.open(Z._get_help_link(),"recaptcha_popup","width=460,height=580,location=no,menubar=no,status=no,toolbar=no,scrollbars=yes,resizable=yes")},_clear_input:function(){Z.$("recaptcha_response_field").value=""},_displayerror:function(a){var b=Z.$;b("recaptcha_image").innerHTML="";b("recaptcha_image").appendChild(document.createTextNode(a))},reloaderror:function(a){Z._displayerror(a)},_is_ie:function(){return 0<navigator.userAgent.indexOf("MSIE")&&!window.opera},_css_toggle:function(a,b,c){Z.update_widget();var d=Z.widget;d||(d=document.body);var e=d.className,e=e.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," "),e=e.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ");d.className=e+(" "+(c?a:b))},_get_help_link:function(){var a=Z._get_api_server().replace(/\/[a-zA-Z0-9]+\/?$/,"/help"),a=a+("?c="+RecaptchaState.challenge);Z.getLang_()&&(a+="&hl="+Z.getLang_());return a},playAgain:function(){Z.$("recaptcha_image").innerHTML=Z.getAudioCaptchaHtml();Z._loop_playback()},_loop_playback:function(){var a=Z.$("recaptcha_audio_play_again");a&&Z.attachEvent(a,"click",function(){Z.playAgain();return!1})},getAudioCaptchaHtml:function(){var a=RecaptchaState.payload_url;a||(a=Z._get_api_server()+"/audio.mp3?c="+RecaptchaState.challenge,Z.th_callback_invoke(),Z.th1&&(a+="&th="+Z.th1,Z.th1=""));var b=Z._get_static_url_root()+"/img/audiocaptcha.swf?v2",b=Z._is_ie()?'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="audiocaptcha" width="0" height="0" codebase="https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+b+'" /><param name="quality" value="high" /><param name="bgcolor" value="#869ca7" /><param name="allowScriptAccess" value="always" /></object><br/>':'<embed src="'+b+'" quality="high" bgcolor="#869ca7" width="0" height="0" name="audiocaptcha" align="middle" play="true" loop="false" quality="high" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" /></embed>',c="";Z.checkFlashVer()&&(c="<br/>"+Z.getSpan_('<a id="recaptcha_audio_play_again" class="recaptcha_audio_cant_hear_link">'+V.play_again+"</a>"));c+="<br/>"+Z.getSpan_('<a id="recaptcha_audio_download" class="recaptcha_audio_cant_hear_link" target="_blank" href="'+a+'">'+V.cant_hear_this+"</a>");return b+c},getSpan_:function(a){return"<span"+(RecaptchaState&&RecaptchaState.rtl?' dir="rtl"':"")+">"+a+"</span>"},gethttpwavurl:function(){if("audio"!=Z.type)return"";var a=RecaptchaState.payload_url;a||(a=Z._get_api_server()+"/image?c="+RecaptchaState.challenge,Z.th_callback_invoke(),Z.th1&&(a+="&th="+Z.th1,Z.th1=""));return a},checkFlashVer:function(){var a=-1!=navigator.appVersion.indexOf("MSIE"),b=-1!=navigator.appVersion.toLowerCase().indexOf("win"),c=-1!=navigator.userAgent.indexOf("Opera"),d=-1;if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])d=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" ")[2].split(".")[0]}else if(a&&b&&!c)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7").GetVariable("$version").split(" ")[1].split(",")[0]}catch(e){}return 9<=d},getLang_:function(){return Y.lang?Y.lang:"undefined"!=typeof RecaptchaState&&RecaptchaState.lang?RecaptchaState.lang:null},challenge_callback:function(){Z.force_reload=!!RecaptchaState.force_reload;if(RecaptchaState.t3){var a=RecaptchaState.t1?Za(cb(RecaptchaState.t1)):"",b=RecaptchaState.t2?Za(cb(RecaptchaState.t2)):"",c=RecaptchaState.t3?Za(cb(RecaptchaState.t3)):"";Z.th2=c;if(a)b=kc(a),cc(b,Z.challenge_callback_internal,null,void 0),cc(b,null,Z.challenge_callback_internal,void 0);else{if(k.execScript)k.execScript(b,"JavaScript");else if(k.eval)null==ha&&(k.eval("var _et_ = 1;"),"undefined"!=typeof k._et_?(delete k._et_,ha=!0):ha=!1),ha?k.eval(b):(a=k.document,c=a.createElement("script"),c.type="text/javascript",c.defer=!1,c.appendChild(a.createTextNode(b)),a.body.appendChild(c),a.body.removeChild(c));else throw Error("goog.globalEval not available");Z.challenge_callback_internal()}}else Z.challenge_callback_internal()},th_init:function(){try{k.thintinel&&k.thintinel.th&&(Z.th3=new k.thintinel.th(Z.th2),Z.th2="")}catch(a){}},update_widget:function(){Z.element&&(Z.widget=Z.$(Z.element))}};t("Recaptcha",Z)})();
var Globals=function(){return{path:"",url:"",loggedIn:false,opac:false,automaticTimeoutLength:0,automaticTimeoutLengthLoggedOut:0,repositoryUrl:"",encodedRepositoryUrl:"",activeAction:"",activeModule:""}}(Globals||{});
var Pika=function(){window.onbeforeunload=function(){Globals.LeavingPage=true};$(document).ready(function(){Pika.initializeModalDialogs();Pika.setupFieldSetToggles();Pika.initCarousels();$("#modalDialog").modal({show:false});$(".panel").on("show.bs.collapse",function(){$(this).addClass("active")}).on("hide.bs.collapse",function(){$(this).removeClass("active")});$(window).on("popstate",function(){if(history.state&&history.state.page==="MapExhibit"){Pika.Archive.handleMapClick(history.state.marker,history.state.exhibitPid,history.state.placePid,history.state.label,false,history.state.showTimeline)}else if(history.state&&history.state.page==="Book"){Pika.Archive.handleBookClick(history.state.bookPid,history.state.pagePid,history.state.viewer)}})});return{buildUrl:function(base,key,value){var sep=base.indexOf("?")>-1?"&":"?";return base+sep+key+"="+value},changePageSize:function(){var url=window.location.href;if(url.match(/[&?]pagesize=\d+/)){url=url.replace(/pagesize=\d+/,"pagesize="+$("#pagesize").val())}else{if(url.indexOf("?",0)>0){url=url+"&pagesize="+$("#pagesize").val()}else{url=url+"?pagesize="+$("#pagesize").val()}}window.location.href=url},closeLightbox:function(callback){var modalDialog=$("#modalDialog");if(modalDialog.is(":visible")){modalDialog.modal("hide");if(callback!=undefined){var closeLightboxListener=modalDialog.on("hidden.bs.modal",function(e){modalDialog.off("hidden.bs.modal");callback()})}}},initCarousels:function(carouselClass){carouselClass=carouselClass||".jcarousel";var jcarousel=$(carouselClass),wrapper=jcarousel.parents(".jcarousel-wrapper");jcarousel.on("jcarousel:reload jcarousel:create",function(){var Carousel=$(this);var width=Carousel.innerWidth();var liTags=Carousel.find("li");if(liTags==null||liTags===undefined||liTags.length===0){return}var leftMargin=+liTags.css("margin-left").replace("px",""),rightMargin=+liTags.css("margin-right").replace("px",""),numCategories=Carousel.jcarousel("items").length||1,numItemsToShow=1;if(jcarousel.is("#browse-category-carousel")){if(width>1e3){numItemsToShow=Math.min(5,numCategories)}else if(width>700){numItemsToShow=Math.min(4,numCategories)}else if(width>500){numItemsToShow=Math.min(3,numCategories)}else if(width>400){numItemsToShow=Math.min(2,numCategories)}}else{if(width>=800){numItemsToShow=Math.min(5,numCategories)}else if(width>=600){numItemsToShow=Math.min(4,numCategories)}else if(width>=400){numItemsToShow=Math.min(3,numCategories)}else if(width>=300){numItemsToShow=Math.min(2,numCategories)}}var calcWidth=(width-numItemsToShow*(leftMargin+rightMargin))/numItemsToShow;Carousel.jcarousel("items").css("width",Math.floor(calcWidth)+"px");if(numItemsToShow>=numCategories){$(this).offsetParent().children(".jcarousel-control-prev").hide();$(this).offsetParent().children(".jcarousel-control-next").hide()}}).jcarousel({wrap:"circular"});$(".jcarousel-control-prev",wrapper).jcarouselControl({target:"-=1"});$(".jcarousel-control-next",wrapper).jcarouselControl({target:"+=1"});$(".jcarousel-pagination",wrapper).on("jcarouselpagination:active","a",function(){$(this).addClass("active")}).on("jcarouselpagination:inactive","a",function(){$(this).removeClass("active")}).on("click",function(e){e.preventDefault()}).jcarouselPagination({perPage:1,item:function(page){return'<a href="#'+page+'">'+page+"</a>"}});if(typeof Pika.Browse.initializeBrowseCategory=="function"){Pika.Browse.initializeBrowseCategory()}},initializeModalDialogs:function(){$(".modalDialogTrigger").each(function(){$(this).click(function(){var trigger=$(this),dialogTitle=trigger.attr("title")?trigger.attr("title"):trigger.data("title"),dialogDestination=trigger.attr("href");$("#myModalLabel").text(dialogTitle);$(".modal-body").html("Loading.").load(dialogDestination);$(".extraModalButton").hide();$("#modalDialog").modal("show");return false})})},getQuerystringParameters:function(){var vars=[],q=location.search.substr(1);if(q!=undefined){q=q.split("&");for(var i=0;i<q.length;i++){var hash=q[i].split("=");vars[hash[0]]=hash[1]}}return vars},replaceQueryParam:function(param,newValue,search){if(typeof search=="undefined")search=location.search;var regex=new RegExp("([?;&])"+param+"[^&;]*[;&]?"),query=search.replace(regex,"$1").replace(/&$/,"");return newValue?(query.length>2?query+"&":"?")+param+"="+newValue:query},getSelectedTitles:function(){var selectedTitles=$("input.titleSelect:checked ").map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&");if(selectedTitles.length==0){var ret=confirm("You have not selected any items, process all items?");if(ret==true){var titleSelect=$("input.titleSelect");titleSelect.attr("checked","checked");selectedTitles=titleSelect.map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&")}}return selectedTitles},pwdToText:function(fieldId){var elem=document.getElementById(fieldId);var input=document.createElement("input");input.id=elem.id;input.name=elem.name;input.value=elem.value;input.size=elem.size;input.onfocus=elem.onfocus;input.onblur=elem.onblur;input.className=elem.className;if(elem.type=="text"){input.type="password"}else{input.type="text"}elem.parentNode.replaceChild(input,elem);return input},setupFieldSetToggles:function(){$("fieldset.fieldset-collapsible").each(function(){var collapsible=$(this);var legend=collapsible.find("legend:first");legend.addClass("fieldset-collapsible-label").on("click",null,{collapsible:collapsible},function(event){var collapsible=event.data.collapsible;collapsible.toggleClass("fieldset-collapsed")});collapsible.addClass("fieldset-collapsed")})},showMessage:function(title,body,autoClose,refreshAfterClose){if(autoClose===undefined){autoClose=false}if(refreshAfterClose===undefined){refreshAfterClose=false}$("#myModalLabel").html(title);$(".modal-body").html(body);$(".modal-buttons").html("");var modalDialog=$("#modalDialog");modalDialog.modal("show");if(autoClose){setTimeout(function(){if(refreshAfterClose)location.reload(true);else Pika.closeLightbox()},autoClose>1?autoClose:3e3)}else if(refreshAfterClose){modalDialog.on("hide.bs.modal",function(){location.reload(true)})}},confirm:function(message,confirmFunction){var button=$("<button>",{id:"confirm-button",class:"btn btn-primary",text:"Okay",click:function(){Pika.loadingMessage();confirmFunction()}});$("#modalDialog").on("shown.bs.modal",function(event){$("#confirm-button").focus().select()});this.showMessageWithButtons("Confirm?",message,button)},showMessageWithButtons:function(title,body,buttons){$("#myModalLabel").html(title);$(".modal-body").html(body);$(".modal-buttons").html(buttons);$("#modalDialog").modal("show")},loadingMessage:function(){Pika.showMessage("Loading","Loading, please wait.")},ajaxFail:function(){if(!Globals.LeavingPage)Pika.showMessage("Request Failed","There was an error with this AJAX Request.")},toggleHiddenElementWithButton:function(button){var hiddenElementName=$(button).data("hidden_element");var hiddenElement=$(hiddenElementName);hiddenElement.val($(button).hasClass("active")?"1":"0");return false},showElementInPopup:function(title,elementId,buttonsElementId){var modalDialog=$("#modalDialog");if(modalDialog.is(":visible")){Pika.closeLightbox(function(){Pika.showElementInPopup(title,elementId)})}else{$(".modal-title").html(title);var elementText=$(elementId).html(),elementButtons=buttonsElementId?$(buttonsElementId).html():"";$(".modal-body").html(elementText);$(".modal-buttons").html(elementButtons);modalDialog.modal("show");return false}},showLocationHoursAndMap:function(){var selectedId=$("#selectLibrary").find(":selected").val();$(".locationInfo").hide();$("#locationAddress"+selectedId).show();return false},toggleCheckboxes:function(checkboxSelector,toggleSelector){var toggle=$(toggleSelector);var value=toggle.prop("checked");$(checkboxSelector).prop("checked",value)},submitOnEnter:function(event,formToSubmit){if(event.keyCode==13){$(formToSubmit).submit()}},hasLocalStorage:function(){if(typeof arguments.callee.haslocalStorage=="undefined"){if("localStorage"in window){try{window.localStorage.setItem("_tmptest","temp");arguments.callee.haslocalStorage=window.localStorage.getItem("_tmptest")=="temp";window.localStorage.removeItem("_tmptest")}catch(error){arguments.callee.haslocalStorage=false}}else arguments.callee.haslocalStorage=false}return arguments.callee.haslocalStorage}}}(Pika||{});jQuery.validator.addMethod("multiemail",function(value,element){if(this.optional(element)){return true}var emails=value.split(/[,;]/),valid=true;for(var i=0,limit=emails.length;i<limit;i++){value=emails[i];valid=valid&&jQuery.validator.methods.email.call(this,value,element)}return valid},"Invalid email format: please use a comma to separate multiple email addresses.");jQuery.validator.addMethod("datePika",function(value,element){var check=false;var re=/^\d{1,2}(-)\d{1,2}(-)\d{4}$/;if(re.test(value)){var adata=value.split("-");var mm=parseInt(adata[0],10);var dd=parseInt(adata[1],10);var aaaa=parseInt(adata[2],10);var xdata=new Date(aaaa,mm-1,dd);if(xdata.getFullYear()==aaaa&&xdata.getMonth()==mm-1&&xdata.getDate()==dd)check=true;else check=false}else check=false;return this.optional(element)||check},"Please enter a correct date");jQuery.validator.addMethod("alphaNumeric",function(value,element){return this.optional(element)||/^[a-z0-9]+$/i.test(value)},"Please enter only letters and digits.");
Pika.Account=function(){return{ajaxCallback:null,closeModalOnAjaxSuccess:false,showCovers:null,addAccountLink:function(){var url="/MyAccount/AJAX?method=getAddAccountLinkForm";Pika.Account.ajaxLightbox(url,true)},addList:function(){var form=$("#addListForm"),isPublic=form.find("#public").prop("checked"),groupedWorkId=form.find("input[name=groupedWorkId]").val(),title=form.find("input[name=title]").val(),desc=$("#listDesc").val(),url="/MyAccount/AJAX",params={method:"AddList",title:title,public:isPublic,desc:desc,groupedWorkId:groupedWorkId};$.getJSON(url,params,function(data){if(data.success){if(typeof data.modalButtons!=="undefined"){Pika.showMessageWithButtons("Added Successfully",data.message,data.modalButtons)}else{Pika.showMessage("Added Successfully",data.message,true,true)}}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail);return false},ajaxLogin:function(ajaxCallback,trigger,closeModalOnAjaxSuccess){if(Globals.loggedIn){if(ajaxCallback!==undefined&&typeof ajaxCallback==="function"){ajaxCallback()}else if(Pika.Account.ajaxCallback!=null&&typeof Pika.Account.ajaxCallback==="function"){Pika.Account.ajaxCallback();Pika.Account.ajaxCallback=null}}else{var multistep=false,loginLink=false;if(ajaxCallback!==undefined&&typeof ajaxCallback==="function"){multistep=true}Pika.Account.ajaxCallback=ajaxCallback;Pika.Account.closeModalOnAjaxSuccess=closeModalOnAjaxSuccess;if(trigger!==undefined&&trigger!=null){var dialogTitle=trigger.attr("title")?trigger.attr("title"):trigger.data("title");loginLink=trigger.data("login")}var dialogDestination="/MyAccount/AJAX?method=LoginForm";if(multistep&&!loginLink){dialogDestination+="&multistep=true"}var modalDialog=$("#modalDialog");$(".modal-body").html("Loading...");$(".modal-content").load(dialogDestination);$(".modal-title").text(dialogTitle);modalDialog.modal("show")}return false},followLinkIfLoggedIn:function(trigger,linkDestination){if(trigger===undefined){alert("You must provide the trigger to follow a link after logging in.")}var jqTrigger=$(trigger);if(linkDestination===undefined){linkDestination=jqTrigger.attr("href")}this.ajaxLogin(function(){document.location=linkDestination},jqTrigger,true);return false},loadMenuData:function(){var url="/MyAccount/AJAX?method=getMenuData&activeModule="+Globals.activeModule+"&activeAction="+Globals.activeAction;$.getJSON(url,function(data){$(".checkouts-placeholder").html(data.checkouts);$(".holds-placeholder").html(data.holds);$(".readingHistory-placeholder").html(data.readingHistory);$(".materialsRequests-placeholder").html(data.materialsRequests);$(".bookings-placeholder").html(data.bookings);$("#availableHoldsNotice-placeHolder").html(data.availableHoldsNotice);$(".expirationFinesNotice-placeholder").html(data.expirationFinesNotice);$("#tagsMenu-placeholder").html(data.tagsMenu)}).fail(function(){$(".checkouts-placeholder,.checkouts-placeholder,.readingHistory-placeholder,.materialsRequests-placeholder,.bookings-placeholder").html()});return false},preProcessLogin:function(){var username=$("#username").val(),password=$("#password").val(),loginErrorElem=$("#loginError");if(!username||!password){loginErrorElem.text($("#missingLoginPrompt").text()).show();return false}if(Pika.hasLocalStorage()){var rememberMe=$("#rememberMe").prop("checked"),showPwd=$("#showPwd").prop("checked");if(rememberMe){window.localStorage.setItem("lastUserName",username);window.localStorage.setItem("lastPwd",password);window.localStorage.setItem("showPwd",showPwd);window.localStorage.setItem("rememberMe",rememberMe)}else{window.localStorage.removeItem("lastUserName");window.localStorage.removeItem("lastPwd");window.localStorage.removeItem("showPwd");window.localStorage.removeItem("rememberMe")}}return true},processAjaxLogin:function(ajaxCallback){if(this.preProcessLogin()){var username=$("#username").val(),password=$("#password").val(),rememberMe=$("#rememberMe").prop("checked"),loginErrorElem=$("#loginError"),loadingElem=$("#loading"),url="/AJAX/JSON?method=loginUser",params={username:username,password:password,rememberMe:rememberMe};if(!Globals.opac&&Pika.hasLocalStorage()){var showCovers=window.localStorage.getItem("showCovers")||false;if(showCovers&&showCovers.length>0){params.showCovers=showCovers}}loginErrorElem.hide();loadingElem.show();$.post(url,params,function(response){loadingElem.hide();if(response.result.success==true){$(".loginOptions, #loginOptions").hide();$(".logoutOptions, #logoutOptions").show();var name=$.trim(response.result.name);name="Logged In As "+name+".";$("#side-bar #myAccountNameLink").html(name);if(Pika.Account.closeModalOnAjaxSuccess){Pika.closeLightbox()}Globals.loggedIn=true;if(ajaxCallback!==undefined&&typeof ajaxCallback==="function"){ajaxCallback()}else if(Pika.Account.ajaxCallback!==undefined&&typeof Pika.Account.ajaxCallback==="function"){Pika.Account.ajaxCallback();Pika.Account.ajaxCallback=null}}else{loginErrorElem.text(response.result.message).show()}},"json").fail(function(){loginErrorElem.text("There was an error processing your login, please try again.").show()})}return false},processAddLinkedUser:function(){if(this.preProcessLogin()){var username=$("#username").val(),password=$("#password").val(),loginErrorElem=$("#loginError"),url="/MyAccount/AJAX?method=addAccountLink";loginErrorElem.hide();$.post(url,{username:username,password:password},function(response){if(response.result==true){Pika.showMessage("Account to Manage",response.message?response.message:"Successfully linked the account.",true,true)}else{loginErrorElem.text(response.message).show()}},"json").fail(function(){loginErrorElem.text("There was an error processing the account, please try again.").show()})}return false},removeLinkedUser:function(idToRemove){Pika.confirm("Are you sure you want to stop managing this account?",function(){var url="/MyAccount/AJAX?method=removeAccountLink&idToRemove="+idToRemove;$.getJSON(url,function(data){if(data.result==true){Pika.showMessage("Linked Account Removed",data.message,true,true)}else{Pika.showMessage("Unable to Remove Account Link",data.message)}})});return false},removeTag:function(tag){Pika.confirm('Are you sure you want to remove the tag "'+tag+'" from all titles?',function(){var url="/MyAccount/AJAX",params={method:"removeTag",tag:tag};$.getJSON(url,params,function(data){if(data.result==true){Pika.showMessage("Tag Deleted",data.message,true,true)}else{Pika.showMessage("Tag Not Deleted",data.message)}})});return false},renewTitle:function(patronId,recordId,renewIndicator){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=renewItem&patronId="+patronId+"&recordId="+recordId+"&renewIndicator="+renewIndicator,function(data){Pika.showMessage(data.title,data.modalBody,data.success,data.success)}).fail(Pika.ajaxFail)});return false},renewAll:function(){Pika.Account.ajaxLogin(function(){Pika.confirm("Renew All Items?",function(){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=renewAll",function(data){Pika.showMessage(data.title,data.modalBody,data.success);if(data.success||data.renewed>0){$("#modalDialog").on("hidden.bs.modal",function(e){location.reload(true)})}}).fail(Pika.ajaxFail)})},null,true);return false},renewSelectedTitles:function(){Pika.Account.ajaxLogin(function(){var selectedTitles=Pika.getSelectedTitles();if(selectedTitles){Pika.confirm("Renew selected Items?",function(){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=renewSelectedItems&"+selectedTitles,function(data){var reload=data.success||data.renewed>0;Pika.showMessage(data.title,data.modalBody,data.success,reload)}).fail(Pika.ajaxFail)})}},null,true);return false},resetPin:function(){var barcode=$("#card_number").val();if(barcode.length==0){alert("Please enter your library card number")}else{var url=path+"/MyAccount/AJAX?method=requestPinReset&barcode="+barcode;$.getJSON(url,function(data){if(data.error==false){alert(data.message);if(data.result==true){hideLightbox()}}else{alert("There was an error requesting your pin reset information.  Please contact the library for additional information.")}})}return false},ajaxLightbox:function(urlToDisplay,requireLogin,trigger){if(requireLogin===undefined){requireLogin=false}if(requireLogin&&!Globals.loggedIn){Pika.Account.ajaxLogin(function(){Pika.Account.ajaxLightbox(urlToDisplay,requireLogin,trigger)},trigger)}else{Pika.loadingMessage();$.getJSON(urlToDisplay,function(data){if(data.success){data=data.result}Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)}return false},confirmCancelHold:function(patronId,recordId,holdIdToCancel){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=confirmCancelHold&patronId="+patronId+"&recordId="+recordId+"&cancelId="+holdIdToCancel,function(data){Pika.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(Pika.ajaxFail);return false},cancelHold:function(patronId,recordId,holdIdToCancel){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=cancelHold&patronId="+patronId+"&recordId="+recordId+"&cancelId="+holdIdToCancel,function(data){Pika.showMessage(data.title,data.body,data.success,data.success)}).fail(Pika.ajaxFail)});return false},cancelBooking:function(patronId,cancelId){Pika.confirm("Are you sure you want to cancel this scheduled item?",function(){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var c={};c[patronId]=cancelId;$.getJSON("/MyAccount/AJAX",{method:"cancelBooking",cancelId:c},function(data){Pika.showMessage(data.title,data.modalBody,data.success);if(data.success){var escapedId=cancelId.replace(/:/g,"\\:");$("div.result").has("#selected"+escapedId).remove()}}).fail(Pika.ajaxFail)})});return false},cancelSelectedBookings:function(){Pika.Account.ajaxLogin(function(){var selectedTitles=this.getSelectedTitles(),numBookings=$("input.titleSelect:checked").length;if(numBookings>0&&confirm("Cancel "+numBookings+" selected scheduled item"+(numBookings>1?"s":"")+"?")){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=cancelBooking&"+selectedTitles,function(data){Pika.showMessage(data.title,data.modalBody,data.success);if(data.success){$("input.titleSelect:checked").closest("div.result").remove()}else if(data.failed){var searchArray=data.failed.map(function(ele){return ele.toString()});$("input.titleSelect:checked").each(function(){var id=$(this).attr("id").replace(/selected/g,"");if($.inArray(id,searchArray)==-1)$(this).closest("div.result").remove()})}}).fail(Pika.ajaxFail)}});return false},cancelAllBookings:function(){Pika.confirm("Cancel all of your scheduled items?",function(){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=cancelBooking&cancelAll=1",function(data){Pika.showMessage(data.title,data.modalBody,data.success);if(data.success){$("input.titleSelect").closest("div.result").remove()}else if(data.failed){var searchArray=data.failed.map(function(ele){return ele.toString()});$("input.titleSelect").each(function(){var id=$(this).attr("id").replace(/selected/g,"");if($.inArray(id,searchArray)==-1)$(this).closest("div.result").remove()})}}).fail(Pika.ajaxFail)})});return false},changeAccountSort:function(newSort,sortParameterName){if(typeof sortParameterName==="undefined"){sortParameterName="accountSort"}var paramString=Pika.replaceQueryParam(sortParameterName,newSort);location.replace(location.pathname+paramString)},changeHoldPickupLocation:function(patronId,recordId,holdId){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();$.getJSON("/MyAccount/AJAX?method=getChangeHoldLocationForm&patronId="+patronId+"&recordId="+recordId+"&holdId="+holdId,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)})});return false},deleteSearch:function(searchId){Pika.Account.ajaxLogin(function(){var url="/MyAccount/AJAX";var params="method=deleteSearch&searchId="+encodeURIComponent(searchId);$.getJSON(url+"?"+params,function(data){if(data.result){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Error",data.message)}})});return false},doChangeHoldLocation:function(){var url="/MyAccount/AJAX",params={method:"changeHoldLocation",patronId:$("#patronId").val(),recordId:$("#recordId").val(),holdId:$("#holdId").val(),newLocation:$("#newPickupLocation").val()};$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Success",data.message,true,true)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)},freezeHold:function(patronId,recordId,holdId,promptForReactivationDate,caller){Pika.loadingMessage();var url="/MyAccount/AJAX",params={patronId:patronId,recordId:recordId,holdId:holdId};if(promptForReactivationDate){params["method"]="getReactivationDateForm";$.getJSON(url,params,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)}else{var popUpBoxTitle=$(caller).text()||"Freezing Hold";Pika.showMessage(popUpBoxTitle,"Updating your hold.  This may take a minute.");params["method"]="freezeHold";$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Success",data.message,true,true)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)}},doFreezeHoldWithReactivationDate:function(caller){var popUpBoxTitle=$(caller).text()||"Freezing Hold",params={method:"freezeHold",patronId:$("#patronId").val(),recordId:$("#recordId").val(),holdId:$("#holdId").val(),reactivationDate:$("#reactivationDate").val()},url="/MyAccount/AJAX";Pika.showMessage(popUpBoxTitle,"Updating your hold.  This may take a minute.");$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Success",data.message,true,true)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)},getSelectedTitles:function(promptForSelectAll){if(promptForSelectAll==undefined){promptForSelectAll=true}var selectedTitles=$("input.titleSelect:checked ");if(selectedTitles.length==0&&promptForSelectAll&&confirm("You have not selected any items, process all items?")){selectedTitles=$("input.titleSelect").attr("checked","checked")}var queryString=selectedTitles.map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&");return queryString},saveSearch:function(searchId){Pika.Account.ajaxLogin(function(){var url="/MyAccount/AJAX",params={method:"saveSearch",searchId:searchId};$.getJSON(url,params,function(data){if(data.result){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)});return false},showCreateListForm:function(id){Pika.Account.ajaxLogin(function(){var url="/MyAccount/AJAX",params={method:"getCreateListForm"};if(id!==undefined){params.groupedWorkId=id}$.getJSON(url,params,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)});return false},thawHold:function(patronId,recordId,holdId,caller){var popUpBoxTitle=$(caller).text()||"Thawing Hold";Pika.showMessage(popUpBoxTitle,"Updating your hold.  This may take a minute.");var url="/MyAccount/AJAX",params={method:"thawHold",patronId:patronId,recordId:recordId,holdId:holdId};$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Success",data.message,true,true)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)},toggleShowCovers:function(showCovers){this.showCovers=showCovers;var paramString=Pika.replaceQueryParam("showCovers",this.showCovers?"on":"off");if(!Globals.opac&&Pika.hasLocalStorage()){window.localStorage.setItem("showCovers",this.showCovers?"on":"off")}location.replace(location.pathname+paramString)},validateCookies:function(){if(navigator.cookieEnabled==false){$("#cookiesError").show()}},getMasqueradeForm:function(){Pika.loadingMessage();var url="/MyAccount/AJAX",params={method:"getMasqueradeAsForm"};$.getJSON(url,params,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail);return false},initiateMasquerade:function(){var url="/MyAccount/AJAX",params={method:"initiateMasquerade",cardNumber:$("#cardNumber").val()};$("#masqueradeAsError").hide();$("#masqueradeLoading").show();$.getJSON(url,params,function(data){if(data.success){location.href="/MyAccount/Home"}else{$("#masqueradeLoading").hide();$("#masqueradeAsError").html(data.error).show()}}).fail(Pika.ajaxFail);return false},endMasquerade:function(){var url="/MyAccount/AJAX",params={method:"endMasquerade"};$.getJSON(url,params).done(function(){location.href="/MyAccount/Home"}).fail(Pika.ajaxFail);return false}}}(Pika.Account||{});
Pika.Admin=function(){return{copyLibraryHooplaSettings:function(id){return this.basicAjaxHandler("copyHooplaSettingsFromLibrary",id)},copyLocationHooplaSettings:function(id){return this.buttonAjaxHandler("displayCopyFromPrompt",id,"copyHooplaSettings")},clearLocationHooplaSettings:function(id){return this.basicAjaxHandler("clearLocationHooplaSettings",id)},clearLibraryHooplaSettings:function(id){return this.basicAjaxHandler("clearLibraryHooplaSettings",id)},copyLocationHours:function(id){return this.buttonAjaxHandler("displayCopyFromPrompt",id,"copyHours")},copyBrowseCategories:function(id){return this.buttonAjaxHandler("displayCopyFromPrompt",id,"copyBC")},copyFacetsSettings:function(id){return this.buttonAjaxHandler("displayCopyFromPrompt",id,"copyFacets")},copyLocationIncludedRecords:function(id){return this.buttonAjaxHandler("displayCopyFromPrompt",id,"copyIncluded")},copyFullRecordDisplay:function(id){return this.buttonAjaxHandler("displayCopyFromPrompt",id,"copyFullRecord")},cloneLocationFromSelection:function(){return this.buttonAjaxHandler("displayClonePrompt",null,"cloneLocation")},cloneLibraryFromSelection:function(){return this.buttonAjaxHandler("libraryClonePrompt",null,"cloneLibrary")},basicAjaxHandler:function(ajaxMethod,id,from){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/Admin/AJAX?method="+ajaxMethod+"&id="+id;if(from!==undefined){url=url+"&fromId="+from}$.getJSON(url,function(data){Pika.showMessage(data.title,data.body,1,1)}).fail(Pika.ajaxFail)});return false},buttonAjaxHandler:function(ajaxMethod,id,command){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/Admin/AJAX?method="+ajaxMethod+"&id="+id;if(command!==undefined){url=url+"&command="+command}$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(Pika.ajaxFail)});return false},cloneAjaxHandler:function(ajaxMethod,from,name,code){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/Admin/AJAX?method="+ajaxMethod+"&from="+from+"&name="+name+"&code="+code;$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(Pika.ajaxFail)});return false},cloneLibraryHandler:function(ajaxMethod,from,displayName,subdomain,abName,facetLabelInput){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/Admin/AJAX?method="+ajaxMethod+"&from="+from+"&displayName="+displayName+"&subdomain="+subdomain+"&abName="+abName+"&facetLabel="+facetLabelInput.value;$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(Pika.ajaxFail)});return false},copyHooplaSettings:function(id,copyFromId){return this.basicAjaxHandler("copyHooplaSettingsFromLocation",id,copyFromId)},copyHours:function(id,copyFromId){return this.basicAjaxHandler("copyHourSettingsFromLocation",id,copyFromId)},copyBC:function(id,copyFromId){return this.basicAjaxHandler("copyBrowseCategoriesFromLocation",id,copyFromId)},copyFacets:function(id,copyFromId){return this.basicAjaxHandler("copyFacetSettingsFromLocation",id,copyFromId)},copyIncluded:function(id,copyFromId){return this.basicAjaxHandler("copyIncludedRecordsFromLocation",id,copyFromId)},copyFullRecord:function(id,copyFromId){return this.basicAjaxHandler("copyFullRecordDisplayFromLocation",id,copyFromId)},resetFacetsToDefault:function(id){return this.basicAjaxHandler("resetFacetsToDefault",id)},resetMoreDetailsToDefault:function(id){return this.basicAjaxHandler("resetMoreDetailsToDefault",id)},cloneLocation:function(copyFromId,name,code){return this.cloneAjaxHandler("cloneLocation",copyFromId,name,code)},cloneLibrary:function(copyFromId,displayName,subdomain,abName){return this.cloneLibraryHandler("cloneLibrary",copyFromId,displayName,subdomain,abName,facetLabelInput)}}}(Pika.Admin||{});
Pika.Archive=function(){var date=new Date;date.setTime(date.getTime()+1*24*60*60*1e3);expires="; expires="+date.toGMTString();document.cookie=encodeURIComponent("exhibitNavigation")+"="+encodeURIComponent(0)+expires+"; path=/";document.cookie=encodeURIComponent("collectionPid")+"="+encodeURIComponent("")+expires+"; path=/";return{archive_map:null,archive_info_window:null,curPage:1,markers:[],geomarkers:[],sort:"title",openSeaDragonViewer:null,pageDetails:[],multiPage:false,allowPDFView:true,activeBookViewer:"jp2",activeBookPage:null,activeBookPid:null,displayMode:"list",displayModeClasses:{covers:"home-page-browse-thumbnails",list:""},getPreferredDisplayMode:function(){if(!Globals.opac&&Pika.hasLocalStorage()){temp=window.localStorage.getItem("archiveCollectionDisplayMode");if(Pika.Archive.displayModeClasses.hasOwnProperty(temp)){Pika.Archive.displayMode=temp}}},toggleDisplayMode:function(selectedMode){var mode=this.displayModeClasses.hasOwnProperty(selectedMode)?selectedMode:this.displayMode;this.displayMode=mode;this.curPage=1;if(!Globals.opac&&Pika.hasLocalStorage()){window.localStorage.setItem("archiveCollectionDisplayMode",this.displayMode)}if(mode=="list")$("#hideSearchCoversSwitch").show();else $("#hideSearchCoversSwitch").hide();this.ajaxReloadCallback()},ajaxReloadCallback:function(){},toggleShowCovers:function(showCovers){Pika.Account.showCovers=showCovers;if(!Globals.opac&&Pika.hasLocalStorage()){window.localStorage.setItem("showCovers",this.showCovers?"on":"off")}this.ajaxReloadCallback()},openSeadragonViewerSettings:function(){return{id:"pika-openseadragon",prefixUrl:Globals.encodedRepositoryUrl+"/sites/all/libraries/openseadragon/images/",debugMode:false,djatokaServerBaseURL:Globals.encodedRepositoryUrl+"/AJAX/DjatokaResolver",tileSize:256,tileOverlap:0,animationTime:1.5,blendTime:.1,alwaysBlend:false,autoHideControls:1,immediateRender:true,wrapHorizontal:false,wrapVertical:false,wrapOverlays:false,panHorizontal:1,panVertical:1,minZoomImageRatio:.35,maxZoomPixelRatio:2,visibilityRatio:.5,springStiffness:5,imageLoaderLimit:5,clickTimeThreshold:300,clickDistThreshold:5,zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:2,showNavigator:1,defaultZoomLevel:0,homeFillsViewer:false}},changeActiveBookViewer:function(viewerName,pagePid){this.activeBookViewer=viewerName;if(viewerName=="pdf"&&this.allowPDFView){$("#view-toggle-pdf").prop("checked",true);$("#view-pdf").show();$("#view-image").hide();$("#view-transcription").hide();$("#view-audio").hide();$("#view-video").hide()}else if(viewerName=="image"||viewerName=="pdf"&&!this.allowPDFView){$("#view-toggle-image").prop("checked",true);$("#view-image").show();$("#view-pdf").hide();$("#view-transcription").hide();$("#view-audio").hide();$("#view-video").hide();this.activeBookViewer="image"}else if(viewerName=="transcription"){$("#view-toggle-transcription").prop("checked",true);$("#view-transcription").show();$("#view-pdf").hide();$("#view-image").hide();$("#view-audio").hide();$("#view-video").hide()}else if(viewerName=="audio"){$("#view-toggle-transcription").prop("checked",true);$("#view-audio").show();$("#view-pdf").hide();$("#view-image").hide();$("#view-transcription").hide();$("#view-video").hide()}else if(viewerName=="video"){$("#view-toggle-transcription").prop("checked",true);$("#view-video").show();$("#view-pdf").hide();$("#view-image").hide();$("#view-transcription").hide();$("#view-audio").hide()}return this.loadPage(pagePid)},clearCache:function(id){var url="/Archive/AJAX?id="+encodeURI(id)+"&method=clearCache";Pika.loadingMessage();$.getJSON(url,function(data){if(data.success){Pika.showMessage("Cache Cleared Successfully",data.message,2e3)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail);return false},initializeOpenSeadragon:function(viewer){},getMoreExhibitResults:function(exhibitPid,reloadHeader){this.curPage=this.curPage+1;if(typeof reloadHeader=="undefined"){reloadHeader=0}if(reloadHeader){$("#exhibit-results-loading").show();this.curPage=1}var url="/Archive/AJAX?method=getRelatedObjectsForExhibit&collectionId="+exhibitPid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+Pika.Account.showCovers;url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").hide().html(data.relatedObjects).fadeIn("slow")}else{$("#nextInsertPoint").hide().replaceWith(data.relatedObjects).fadeIn("slow")}$("#exhibit-results-loading").hide()}})},getMoreMapResults:function(exhibitPid,placePid,showTimeline){this.curPage=this.curPage+1;var url="/Archive/AJAX?method=getRelatedObjectsForMappedCollection&collectionId="+exhibitPid+"&placeId="+placePid+"&page="+this.curPage+"&sort="+this.sort+"&showTimeline="+showTimeline;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader=0";$.getJSON(url,function(data){if(data.success){$("#nextInsertPoint").replaceWith(data.relatedObjects)}})},getMoreTimelineResults:function(exhibitPid){this.curPage=this.curPage+1;var url="/Archive/AJAX?method=getRelatedObjectsForTimelineExhibit&collectionId="+exhibitPid+"&page="+this.curPage+"&sort="+this.sort;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader=0";$.getJSON(url,function(data){if(data.success){$("#nextInsertPoint").replaceWith(data.relatedObjects)}})},getMoreScrollerResults:function(pid){this.curPage=this.curPage+1;var url="/Archive/AJAX?method=getRelatedObjectsForScroller&pid="+pid+"&page="+this.curPage+"&sort="+this.sort;$.getJSON(url,function(data){if(data.success){$("#nextInsertPoint").replaceWith(data.relatedObjects)}})},handleMapClick:function(markerIndex,exhibitPid,placePid,label,redirect,showTimeline){$("#exhibit-results-loading").show();this.archive_info_window.setContent(label);if(markerIndex>=0){this.archive_info_window.open(this.archive_map,this.markers[markerIndex])}if(redirect!="undefined"&&redirect===true){var newUrl=Pika.buildUrl(document.location.origin+document.location.pathname,"placePid",placePid);newUrl=Pika.buildUrl(newUrl,"style","map");document.location.href=newUrl}if(showTimeline=="undefined"){showTimeline=true}$.getJSON("/Archive/AJAX?method=getRelatedObjectsForMappedCollection&collectionId="+exhibitPid+"&placeId="+placePid+"&showTimeline="+showTimeline,function(data){if(data.success){$("#related-objects-for-exhibit").html(data.relatedObjects);$("#exhibit-results-loading").hide()}});var stateObj={marker:markerIndex,exhibitPid:exhibitPid,placePid:placePid,label:label,showTimeline:showTimeline,page:"MapExhibit"};var newUrl=Pika.buildUrl(document.location.origin+document.location.pathname,"placePid",placePid);var currentParameters=Pika.getQuerystringParameters();if(currentParameters["style"]!=undefined){newUrl=Pika.buildUrl(newUrl,"style",currentParameters["style"])}if(document.location.href!=newUrl){history.pushState(stateObj,label,newUrl)}return false},handleTimelineClick:function(exhibitPid){$("#exhibit-results-loading").show();$.getJSON("/Archive/AJAX?method=getRelatedObjectsForTimelineExhibit&collectionId="+exhibitPid,function(data){if(data.success){$("#related-objects-for-exhibit").html(data.relatedObjects);$("#exhibit-results-loading").hide()}});return false},handleCollectionScrollerClick:function(pid){$("#exhibit-results-loading").show();$.getJSON("/Archive/AJAX?method=getRelatedObjectsForScroller&pid="+pid,function(data){if(data.success){$("#related-objects-for-exhibit").html(data.relatedObjects);$("#exhibit-results-loading").hide()}});return false},handleBookClick:function(bookPid,pagePid,bookViewer){Pika.Archive.activeBookPid=bookPid;Pika.Archive.changeActiveBookViewer(bookViewer,pagePid);var stateObj={bookPid:bookPid,pagePid:pagePid,viewer:bookViewer,page:"Book"},newUrl=Pika.buildUrl(document.location.origin+document.location.pathname,"bookPid",bookPid),newUrl=Pika.buildUrl(newUrl,"pagePid",pagePid),newUrl=Pika.buildUrl(newUrl,"viewer",bookViewer);if(document.location.href!=newUrl){history.pushState(stateObj,"",newUrl)}return false},reloadMapResults:function(exhibitPid,placePid,reloadHeader,showTimeline){$("#exhibit-results-loading").show();this.curPage=1;var url="/Archive/AJAX?method=getRelatedObjectsForMappedCollection&collectionId="+exhibitPid+"&placeId="+placePid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+Pika.Account.showCovers+"&showTimeline="+showTimeline;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").html(data.relatedObjects)}else{$("#results").html(data.relatedObjects)}$("#exhibit-results-loading").hide()}})},reloadTimelineResults:function(exhibitPid,reloadHeader){$("#exhibit-results-loading").show();this.curPage=1;var url="/Archive/AJAX?method=getRelatedObjectsForTimelineExhibit&collectionId="+exhibitPid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+Pika.Account.showCovers;$("input[name=dateFilter]:checked").each(function(){url=url+"&dateFilter="+$(this).val()});url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").html(data.relatedObjects)}else{$("#results").html(data.relatedObjects)}$("#exhibit-results-loading").hide()}})},reloadScrollerResults:function(pid,reloadHeader){$("#exhibit-results-loading").show();this.curPage=1;var url="/Archive/AJAX?method=getRelatedObjectsForScroller&pid="+pid+"&page="+this.curPage+"&sort="+this.sort+"&archiveCollectionView="+this.displayMode+"&showCovers="+Pika.Account.showCovers;url=url+"&reloadHeader="+reloadHeader;$.getJSON(url,function(data){if(data.success){if(reloadHeader){$("#related-objects-for-exhibit").html(data.relatedObjects)}else{$("#results").html(data.relatedObjects)}$("#exhibit-results-loading").hide()}})},loadExploreMore:function(pid){$.getJSON("/Archive/AJAX?id="+encodeURI(pid)+"&method=getExploreMoreContent",function(data){if(data.success){$("#explore-more-body").html(data.exploreMore);Pika.initCarousels("#explore-more-body .panel-collapse.in .jcarousel")}}).fail(Pika.ajaxFail)},loadMetadata:function(pid,secondaryId){var url="/Archive/AJAX?id="+encodeURI(pid)+"&method=getMetadata";if(secondaryId!==undefined){url+="&secondaryId="+secondaryId}var metadataTarget=$("#archive-metadata").html("Please wait while we load information about this object...");$.getJSON(url,function(data){if(data.success){metadataTarget.html(data.metadata)}}).fail(function(){metadataTarget.html("Could not load metadata.")})},loadPage:function(pid){if(pid==null){return false}var pageChanged=false;if(this.activeBookPage!=pid){pageChanged=true;this.curPage=this.pageDetails[pid]["index"]}this.activeBookPage=pid;if(this.pageDetails[pid]["transcript"]==""){$("#view-toggle-transcription").parent().hide();if(this.activeBookViewer=="transcription"){this.changeActiveBookViewer("image",pid);return false}}else{$("#view-toggle-transcription").parent().show()}if(this.pageDetails[pid]["pdf"]==""){$("#view-toggle-pdf").parent().hide()}else{$("#view-toggle-pdf").parent().show()}if(this.pageDetails[pid]["jp2"]==""){$("#view-toggle-image").parent().hide()}else{$("#view-toggle-image").parent().show()}if(this.pageDetails[pid]["audio"]==""){$("#view-toggle-audio").parent().hide()}else{$("#view-toggle-audio").parent().show()}if(this.pageDetails[pid]["video"]==""){$("#view-toggle-video").parent().hide()}else{$("#view-toggle-video").parent().show()}if(this.activeBookViewer=="pdf"){$("#view-pdf").html($("<object />").attr({type:"application/pdf",data:this.pageDetails[pid]["pdf"],class:"book-pdf"}))}else if(this.activeBookViewer=="transcription"){var transcriptIdentifier=this.pageDetails[pid]["transcript"];var url="/Archive/AJAX?transcriptId="+encodeURI(transcriptIdentifier)+"&method=getTranscript";var transcriptionTarget=$("#view-transcription");transcriptionTarget.html("Loading Transcript, please wait.");$.getJSON(url,function(data){if(data.success){transcriptionTarget.html(data.transcript)}}).fail(function(){transcriptionTarget.html("Could not load Transcript.")})}else if(this.activeBookViewer=="image"){var tile=new OpenSeadragon.DjatokaTileSource(Globals.url+"/AJAX/DjatokaResolver",this.pageDetails[pid]["jp2"],Pika.Archive.openSeadragonViewerSettings());if(!$("#pika-openseadragon").hasClass("processed")){$("#pika-openseadragon").addClass("processed");settings=Pika.Archive.openSeadragonViewerSettings();settings.tileSources=new Array;settings.tileSources.push(tile);Pika.Archive.openSeaDragonViewer=new OpenSeadragon(settings)}else{Pika.Archive.openSeaDragonViewer.open(tile)}}else if(this.activeBookViewer=="audio"){$("#view-audio").show();$("#audio-player-src").attr("src",this.pageDetails[pid]["audio"]);var audioPlayer=document.getElementById("audio-player");audioPlayer.load()}else if(this.activeBookViewer=="video"){$("#view-video").show();$("#video-player-src").attr("src",this.pageDetails[pid]["video"]);var videoPlayer=document.getElementById("video-player");videoPlayer.load()}if(pageChanged&&this.multiPage){var numSectionsShown=0;if(this.pageDetails[pid]["transcript"]==""){$("#view-toggle-transcription").parent().hide()}else{$("#view-toggle-transcription").parent().show();numSectionsShown++}if(this.pageDetails[pid]["pdf"]==""){$("#view-toggle-pdf").parent().hide()}else{$("#view-toggle-pdf").parent().show();imageOnlyShown=false;numSectionsShown++}if(this.pageDetails[pid]["jp2"]==""){$("#view-toggle-image").parent().hide()}else{$("#view-toggle-image").parent().show();numSectionsShown++}if(this.pageDetails[pid]["audio"]==""){$("#view-toggle-audio").parent().hide()}else{$("#view-toggle-audio").parent().show();numSectionsShown++}if(this.pageDetails[pid]["video"]==""){$("#view-toggle-video").parent().hide()}else{$("#view-toggle-video").parent().show();numSectionsShown++}if(numSectionsShown<=1){$("#view-toggle").hide()}else{$("#view-toggle").show()}this.loadMetadata(this.activeBookPid,pid);url="/Archive/AJAX?method=getAdditionalRelatedObjects&id="+pid;var additionalRelatedObjectsTarget=$("#additional-related-objects");additionalRelatedObjectsTarget.html("");$.getJSON(url,function(data){if(data.success){additionalRelatedObjectsTarget.html(data.additionalObjects)}});var pageScroller=$("#book-sections .jcarousel");if(pageScroller){pageScroller.jcarousel("scroll",this.curPage-1,true);$("#book-sections li").removeClass("active");$("#book-sections .jcarousel li:eq("+(this.curPage-1)+")").addClass("active")}}return false},nextRandomObject:function(pid){var url="/Archive/AJAX?id="+encodeURI(pid)+"&method=getNextRandomObject";$.getJSON(url,function(data){$("#randomImagePlaceholder").html(data.image)}).fail(Pika.ajaxFail);return false},setForExhibitInAExhibitNavigation:function(exhibitInAExhibitParentPid){var date=new Date;date.setTime(date.getTime()+1*24*60*60*1e3);expires="; expires="+date.toGMTString();document.cookie=encodeURIComponent("exhibitInAExhibitParentPid")+"="+encodeURIComponent(exhibitInAExhibitParentPid)+expires+"; path=/"},setForExhibitNavigation:function(recordIndex,page,collectionPid){var date=new Date;date.setTime(date.getTime()+1*24*60*60*1e3);expires="; expires="+date.toGMTString();if(typeof recordIndex!="undefined"){document.cookie=encodeURIComponent("recordIndex")+"="+encodeURIComponent(recordIndex)+expires+"; path=/"}if(typeof page!="undefined"){document.cookie=encodeURIComponent("page")+"="+encodeURIComponent(page)+expires+"; path=/"}if(typeof collectionPid!="undefined"){document.cookie=encodeURIComponent("collectionPid")+"="+encodeURIComponent(collectionPid)+expires+"; path=/"}document.cookie=encodeURIComponent("exhibitNavigation")+"="+encodeURIComponent(1)+expires+"; path=/"},showBrowseEntityFilterPopup:function(exhibitPid,facetName,title){var url="/Archive/AJAX?id="+encodeURI(exhibitPid)+"&method=getEntityFacetValuesForExhibit&facetName="+encodeURI(facetName);Pika.loadingMessage();$.getJSON(url,function(data){Pika.showMessage(title,data.modalBody)}).fail(Pika.ajaxFail);return false},showBrowseFilterPopup:function(exhibitPid,facetName,title){var url="/Archive/AJAX?id="+encodeURI(exhibitPid)+"&method=getFacetValuesForExhibit&facetName="+encodeURI(facetName);Pika.loadingMessage();$.getJSON(url,function(data){Pika.showMessage(title,data.modalBody)}).fail(Pika.ajaxFail);return false},showObjectInPopup:function(pid,recordIndex,page){var url="/Archive/AJAX?id="+encodeURI(pid)+"&method=getObjectInfo";Pika.loadingMessage();this.setForExhibitNavigation(recordIndex,page);$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail);return false},showSaveToListForm:function(trigger,id){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/Archive/"+id+"/AJAX?method=getSaveToListForm";$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)},$(trigger));return false},saveToList:function(id){if(Globals.loggedIn){var listId=$("#addToList-list").val(),notes=$("#addToList-notes").val(),url="/Archive/"+encodeURIComponent(id)+"/AJAX",params={method:"saveToList",notes:notes,listId:listId};$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Added Successfully",data.message,2e3)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)}return false}}}(Pika.Archive||{});
Pika.Browse=function(){return{curPage:1,curCategory:"",curSubCategory:"",browseMode:"covers",browseModeClasses:{covers:"home-page-browse-thumbnails",grid:"home-page-browse-grid"},addToHomePage:function(searchId){Pika.Account.ajaxLightbox("/Browse/AJAX?method=getAddBrowseCategoryForm&searchId="+searchId,true);return false},initializeBrowseCategory:function(){var browseCategoryCarousel=$("#browse-category-carousel");browseCategoryCarousel.on("jcarousel:targetin","li",function(){var categoryId=$(this).data("category-id");Pika.Browse.changeBrowseCategory(categoryId)});if($("#browse-category-picker .jcarousel-control-prev").css("display")!="none"){browseCategoryCarousel.find("li").click(function(){$("#browse-category-carousel").jcarousel("scroll",$(this))});var scrollFactor=15;browseCategoryCarousel.touchwipe({wipeLeft:function(dx){var scrollInterval=Math.round(dx/scrollFactor);$("#browse-category-carousel").jcarousel("scroll","+="+scrollInterval)},wipeRight:function(dx){var scrollInterval=Math.round(dx/scrollFactor);$("#browse-category-carousel").jcarousel("scroll","-="+scrollInterval)}})}else{browseCategoryCarousel.find("li").click(function(){$(this).trigger("jcarousel:targetin")})}},toggleBrowseMode:function(selectedMode){var mode=this.browseModeClasses.hasOwnProperty(selectedMode)?selectedMode:this.browseMode,categoryTextId=this.curCategory||$("#browse-category-carousel .selected").data("category-id"),subCategoryTextId=this.curSubCategory||$("#browse-sub-category-menu .selected").data("sub-category-id");this.browseMode=mode;if(!Globals.opac&&Pika.hasLocalStorage()){window.localStorage.setItem("browseMode",this.browseMode)}if(subCategoryTextId)return this.changeBrowseSubCategory(subCategoryTextId);else return this.changeBrowseCategory(categoryTextId)},resetBrowseResults:function(){var classes=function(){var str="",object=Pika.Browse.browseModeClasses;for(property in object){str+=object[property]+" "}return str}(),selectedClass=this.browseModeClasses[this.browseMode];$("#home-page-browse-results").children().fadeOut(function(){$("#home-page-browse-results").children().slice(1).remove();$("#home-page-browse-results div.row").removeClass(classes).addClass(selectedClass)})},changeBrowseCategory:function(categoryTextId){var url="/Browse/AJAX",params={method:"getBrowseCategoryInfo",textId:categoryTextId||Pika.Browse.curCategory,browseMode:this.browseMode},newLabel=$("#browse-category-"+categoryTextId+" div").first().text(),loadingID=categoryTextId||initial;$(".browse-category").removeClass("selected");$("#browse-category-"+categoryTextId).addClass("selected");$("#selected-browse-search-link").attr("href","#");$(".selected-browse-label-search-text,.selected-browse-sub-category-label-search-text").fadeOut(function(){$(".selected-browse-label-search-text").html(newLabel).fadeIn()});$("#browse-sub-category-menu").children().fadeOut(function(){$(this).remove()});this.resetBrowseResults();this.loadingCategory=loadingID;$.getJSON(url,params,function(data){if(Pika.Browse.loadingCategory==loadingID){if(data.success==false){Pika.showMessage("Error loading browse information","Sorry, we were not able to find titles for that category")}else{$(".selected-browse-label-search-text").html(data.label);Pika.Browse.curPage=1;Pika.Browse.curCategory=data.textId;Pika.Browse.curSubCategory=data.subCategoryTextId||"";$("#home-page-browse-results div.row").html(data.records).fadeIn("slow");$("#selected-browse-search-link").attr("href",data.searchUrl);if(data.subcategories){$("#browse-sub-category-menu").html(data.subcategories).fadeIn();if(data.subCategoryTextId){$(".selected-browse-sub-category-label-search-text").html($("#browse-sub-category-"+data.subCategoryTextId).addClass("selected").text()).fadeIn()}}}}}).fail(function(){Pika.ajaxFail();$("#home-page-browse-results div").html("").show()}).done(function(){Pika.Browse.loadingCategory=null});return false},changeBrowseSubCategory:function(subCategoryTextId){var url="/Browse/AJAX",params={method:"getBrowseSubCategoryInfo",textId:Pika.Browse.curCategory,subCategoryTextId:subCategoryTextId,browseMode:this.browseMode};$("#browse-sub-category-menu button").removeClass("selected");$("#browse-sub-category-"+subCategoryTextId).addClass("selected");newSubCategoryLabel=$("#browse-sub-category-"+subCategoryTextId).text();$(".selected-browse-sub-category-label-search-text").fadeOut(function(){$(this).html(newSubCategoryLabel).fadeIn()});this.resetBrowseResults();$.getJSON(url,params,function(data){if(data.success==false){Pika.showMessage("Error loading browse information","Sorry, we were not able to find titles for that category")}else{if(data.label)$(".selected-browse-label-search-text").html(data.label);if(data.subCategoryLabel)$(".selected-browse-sub-category-label-search-text").html(data.subCategoryLabel);else $(".selected-browse-sub-category-label-search-text").fadeOut();Pika.Browse.curPage=1;if(data.textId)Pika.Browse.curCategory=data.textId;if(data.subCategoryTextId)Pika.Browse.curSubCategory=data.subCategoryTextId||"";$("#home-page-browse-results div.row").html(data.records).fadeIn("slow");$("#selected-browse-search-link").attr("href",data.searchUrl)}}).fail(function(){Pika.ajaxFail();$("#home-page-browse-results div.row").html("").show();$(".selected-browse-sub-category-label-search-text").fadeOut()});return false},createBrowseCategory:function(){var url="/Browse/AJAX",params={method:"createBrowseCategory",categoryName:$("#categoryName").val(),addAsSubCategoryOf:$("#addAsSubCategoryOfSelect").val()};var searchId=$("#searchId");if(searchId){params["searchId"]=searchId.val()}var listId=$("#listId");if(listId){params["listId"]=listId.val()}$.getJSON(url,params,function(data){if(data.success==false){Pika.showMessage("Unable to create category",data.message)}else{Pika.showMessage("Successfully added","This search was added to the homepage successfully.",true)}}).fail(Pika.ajaxFail);return false},getMoreResults:function(){this.curPage+=1;var url="/Browse/AJAX",params={method:"getMoreBrowseResults",textId:this.curSubCategory||this.curCategory,pageToLoad:this.curPage,browseMode:this.browseMode},divClass=this.browseModeClasses[this.browseMode];$.getJSON(url,params,function(data){if(data.success==false){Pika.showMessage("Error loading browse information","Sorry, we were not able to find titles for that category")}else{var newDiv=$('<div class="'+divClass+' row" />').hide().append(data.records);$("."+divClass).filter(":last").after(newDiv).after("<hr>");newDiv.fadeIn("slow");if(data.lastPage){$("#more-browse-results").hide()}}}).fail(Pika.ajaxFail);return false}}}(Pika.Browse||{});
Pika.DPLA=function(){return{getDPLAResults:function(searchTerm){var url="/Search/AJAX",params={method:"getDplaResults",searchTerm:searchTerm};$.getJSON(url,params,function(data){var searchResults=data.formattedResults;if(searchResults&&searchResults.length>0){$("#dplaSearchResultsPlaceholder").html(searchResults)}})}}}(Pika.DPLA||{});
Pika.GroupedWork=function(){return{hasTableOfContentsInRecord:false,clearUserRating:function(groupedWorkId){var url="/GroupedWork/"+groupedWorkId+"/AJAX?method=clearUserRating";$.getJSON(url,function(data){if(data.result==true){$(".rate"+groupedWorkId).find(".ui-rater-starsOn").width(0);$("#myRating"+groupedWorkId).hide();Pika.showMessage("Success",data.message,true)}else{Pika.showMessage("Sorry",data.message)}});return false},clearNotInterested:function(notInterestedId){var url="/GroupedWork/"+notInterestedId+"/AJAX?method=clearNotInterested";$.getJSON(url,function(data){if(data.result==false){Pika.showMessage("Sorry","There was an error updating the title.")}else{$("#notInterested"+notInterestedId).hide()}})},deleteReview:function(id,reviewId){Pika.confirm("Are you sure you want to delete this review?",function(){var url="/GroupedWork/"+id+"/AJAX?method=deleteUserReview";$.getJSON(url,function(data){if(data.result==true){$("#review_"+reviewId).hide();Pika.showMessage("Success",data.message,true)}else{Pika.showMessage("Sorry",data.message)}})});return false},staticPosition:function(sticky){var resultsNav=document.getElementById("results-nav-fixed");if(window.pageYOffset>sticky){resultsNav.classList.add("sticky")}else{resultsNav.classList.remove("sticky")}},getElementPosition:function(elem){var location=0;if(elem.offsetParent){do{location+=elem.offsetTop;elem=elem.offsetParent}while(elem)}return location>=0?location:0},getGoDeeperData:function(id,dataType){var placeholder;if(dataType=="excerpt"){placeholder=$("#excerptPlaceholder")}else if(dataType=="avSummary"){placeholder=$("#avSummaryPlaceholder")}else if(dataType=="tableOfContents"){placeholder=$("#tableOfContentsPlaceholder")}else if(dataType=="authornotes"){placeholder=$("#authornotesPlaceholder")}if(placeholder.hasClass("loaded"))return;placeholder.show();var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"getGoDeeperData",dataType:dataType};$.getJSON(url,params,function(data){placeholder.html(data.formattedData).addClass("loaded")})},getGoodReadsComments:function(isbn){$("#goodReadsPlaceHolder").replaceWith("<iframe id='goodreads_iframe' class='goodReadsIFrame' src='https://www.goodreads.com/api/reviews_widget_iframe?did=DEVELOPER_ID&format=html&isbn="+isbn+"&links=660&review_back=fff&stars=000&text=000' width='100%' height='400px' frameborder='0'></iframe>")},reloadEnrichment:function(id){Pika.GroupedWork.loadEnrichmentInfo(id,true)},loadEnrichmentInfo:function(id,forceReload){var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"getEnrichmentInfo"};if(forceReload!==undefined){params["reload"]=true}$.getJSON(url,params,function(data){try{var seriesData=data.seriesInfo;if(seriesData&&seriesData.titles.length>0){seriesScroller=new TitleScroller("titleScrollerSeries","Series","seriesList");$("#seriesInfo").show();seriesScroller.loadTitlesFromJsonData(seriesData);$("#seriesPanel").show()}else{$("#seriesPanel").hide()}var similarTitleData=data.similarTitles;if(similarTitleData&&similarTitleData.titles.length>0){morelikethisScroller=new TitleScroller("titleScrollerMoreLikeThis","MoreLikeThis","morelikethisList");$("#moreLikeThisInfo").show();morelikethisScroller.loadTitlesFromJsonData(similarTitleData)}var showGoDeeperData=data.showGoDeeper;if(showGoDeeperData){var goDeeperOptions=data.goDeeperOptions;for(var option in goDeeperOptions){if(option=="excerpt"){$("#excerptPanel").show()}else if(option=="avSummary"){$("#avSummaryPlaceholder,#tableOfContentsPlaceholder,#tableOfContentsPanel").show()}else if(option=="tableOfContents"){$("#tableOfContentsPlaceholder,#tableOfContentsPanel").show()}else if(option=="authorNotes"){$("#authornotesPlaceholder,#authornotesPanel").show()}}}if(Pika.GroupedWork.hasTableOfContentsInRecord){$("#tableofcontentstab_label,#tableOfContentsPlaceholder,#tableOfContentsPanel").show()}var relatedContentData=data.relatedContent;if(relatedContentData&&relatedContentData.length>0){$("#relatedContentPlaceholder").html(relatedContentData)}var similarTitlesNovelist=data.similarTitlesNovelist;if(similarTitlesNovelist&&similarTitlesNovelist.length>0){$("#novelisttitlesPlaceholder").html(similarTitlesNovelist);$("#novelisttab_label,#similarTitlesPanel").show()}var similarAuthorsNovelist=data.similarAuthorsNovelist;if(similarAuthorsNovelist&&similarAuthorsNovelist.length>0){$("#novelistauthorsPlaceholder").html(similarAuthorsNovelist);$("#novelisttab_label,#similarAuthorsPanel").show()}var similarSeriesNovelist=data.similarSeriesNovelist;if(similarSeriesNovelist&&similarSeriesNovelist.length>0){$("#novelistseriesPlaceholder").html(similarSeriesNovelist);$("#novelisttab_label,#similarSeriesPanel").show()}$(".ajax-carousel","#explore-more-body").parents(".jcarousel-wrapper").show().prev(".sectionHeader").show();Pika.initCarousels(".ajax-carousel")}catch(e){alert("error loading enrichment: "+e)}})},loadReviewInfo:function(id){var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method=getReviewInfo";$.getJSON(url,function(data){if(data.numSyndicatedReviews==0){$("#syndicatedReviewsPanel").hide()}else{var syndicatedReviewsData=data.syndicatedReviewsHtml;if(syndicatedReviewsData&&syndicatedReviewsData.length>0){$("#syndicatedReviewPlaceholder").html(syndicatedReviewsData)}}if(data.numLibrarianReviews==0){$("#librarianReviewsPanel").hide()}else{var librarianReviewsData=data.librarianReviewsHtml;if(librarianReviewsData&&librarianReviewsData.length>0){$("#librarianReviewPlaceholder").html(librarianReviewsData)}}if(data.numCustomerReviews==0){$("#borrowerReviewsPanel").hide()}else{var customerReviewsData=data.customerReviewsHtml;if(customerReviewsData&&customerReviewsData.length>0){$("#customerReviewPlaceholder").html(customerReviewsData)}}})},markNotInterested:function(recordId){Pika.Account.ajaxLogin(function(){var url="/GroupedWork/"+recordId+"/AJAX?method=markNotInterested";$.getJSON(url,function(data){if(data.result==true){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Sorry",data.message)}});return false})},removeTag:function(id,tag){Pika.confirm('Are you sure you want to remove the tag "'+tag+'" from this title?',function(){var url="/GroupedWork/"+id+"/AJAX",params={method:"removeTag",tag:tag};$.getJSON(url,params,function(data){if(data.result==true){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Sorry",data.message)}});return false});return false},saveReview:function(id){Pika.Account.ajaxLogin(function(){var comment=$("#comment"+id).val(),rating=$("#rating"+id).val(),url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"saveReview",comment:comment,rating:rating};$.getJSON(url,params,function(data){if(data.success){if(data.newReview){$("#customerReviewPlaceholder").append(data.reviewHtml)}else{$("#review_"+data.reviewId).replaceWith(data.reviewHtml)}Pika.closeLightbox()}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail)});return false},saveTag:function(id){var tag=$("#tags_to_apply").val(),url="/GroupedWork/"+id+"/AJAX",params={method:"saveTag",tag:tag};$("#saveToList-button").prop("disabled",true);$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Success",data.message,1)}else{Pika.showMessage("Error adding tags","There was an unexpected error adding tags to this title.<br>"+data.message)}}).fail(Pika.ajaxFail);return false},saveToList:function(id){Pika.Account.ajaxLogin(function(){var listId=$("#addToList-list").val(),notes=$("#addToList-notes").val(),url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"saveToList",notes:notes,listId:listId};$.getJSON(url,params,function(data){if(data.success){Pika.showMessageWithButtons("Added Successfully",data.message,data.buttons)}else{Pika.showMessage("Error",data.message)}})});return false},sendEmail:function(id){var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"sendEmail",from:$("#from").val(),to:$("#to").val(),message:$("#message").val(),related_record:$("#related_record").val(),"g-recaptcha-response":typeof grecaptcha!=="undefined"?grecaptcha.getResponse():false};$.getJSON(url,params,function(data){if(data.result){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail);return false},sendSMS:function(id){var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"sendSMS",provider:$("#provider").val(),sms_phone_number:$("#sms_phone_number").val(),related_record:$("#related_record").val(),"g-recaptcha-response":typeof grecaptcha!=="undefined"?grecaptcha.getResponse():false};$.getJSON(url,params,function(data){if(data.result){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Error",data.message)}}).fail(Pika.ajaxFail);return false},showGroupedWorkInfo:function(id,browseCategoryId){var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method=getWorkInfo";if(browseCategoryId!==undefined){url+="&browseCategoryId="+browseCategoryId}Pika.loadingMessage();$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail);return false},forceRegrouping:function(id){return this.basicShowMessageReloadOnSuccess("forceRegrouping",id)},forceReindex:function(id){return this.basicShowMessageReloadOnSuccess("forceReindex",id)},reloadCover:function(id){return this.basicShowMessageReloadOnSuccess("reloadCover",id)},reloadIslandora:function(id){return this.basicShowMessageReloadOnSuccess("reloadIslandora",id)},basicShowMessageReloadOnSuccess:function(method,id){$.getJSON("/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method="+method,function(data){if(data.success){Pika.showMessage("Success",data.message,true,true)}else{Pika.showMessage("Error",data.message)}});return false},showEmailForm:function(trigger,id){return Pika.Account.ajaxLightbox("/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method=getEmailForm",false,trigger)},showReviewForm:function(trigger,id){return this.basicAjaxHandler("getReviewForm",id,trigger)},showSaveToListForm:function(trigger,id){return this.basicAjaxHandler("getSaveToListForm",id,trigger)},showSmsForm:function(trigger,id){return this.basicAjaxHandler("getSMSForm",id,trigger)},showTagForm:function(trigger,id){return this.basicAjaxHandler("getAddTagForm",id,trigger)},basicAjaxHandler:function(method,id,trigger){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();$.getJSON("/GroupedWork/"+encodeURIComponent(id)+"/AJAX?method="+method,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)},$(trigger));return false}}}(Pika.GroupedWork||{});
Pika.Lists=function(){return{addToHomePage:function(listId){return Pika.Account.ajaxLightbox("/MyAccount/AJAX?method=getAddBrowseCategoryFromListForm&listId="+listId,true)},editListAction:function(){$("#listDescription,#listTitle,#FavEdit").hide();$("#listEditControls,#FavSave").show();return false},submitListForm:function(action,page,pageSize,sort){$("#myListActionHead").val(action);$("#myListPage").val(page);$("#myListPageSize").val(pageSize);$("#myListSort").val(sort);$("#myListFormHead").submit();return false},submitListFormWithData:function(action,data,page,pageSize,sort){$("#myListActionHead").val(action);$("#myListActionData").val(data);$("#myListPage").val(page);$("#myListPageSize").val(pageSize);$("#myListSort").val(sort);$("#myListFormHead").submit();return false},makeListPublicAction:function(page,pageSize,sort){return this.submitListForm("makePublic",page,pageSize,sort)},makeListPrivateAction:function(page,pageSize,sort){return this.submitListForm("makePrivate",page,pageSize,sort)},deleteListAction:function(page,pageSize,sort){if(confirm("Are you sure you want to delete this list?")){this.submitListForm("deleteList",page,pageSize,sort)}return false},buttonAjaxHandler:function(ajaxMethod,id,command){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/MyAccount/AJAX?method="+ajaxMethod+"&id="+id;if(command!==undefined){url=url+"&command="+command}$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(Pika.ajaxFail)});return false},checkUser:function(id){var url="/MyAccount/AJAX?method=isStaffUser&barcode="+id;$.getJSON(url,function(data){if($("#barcode").val().length>0){$("#validation").show();if(data.isStaff==true){$("#validation").html("<span style='color:green;'>Valid Barcode</span>");$("#transfer").prop("disabled",false)}else{$("#validation").html("<span style='color:darkred;'>Invalid Barcode</span>");$("#transfer").prop("disabled",true)}}});return false},updateListAction:function(page,pageSize,sort){console.log("page:"+page+", pageSize:"+pageSize+", sort:"+sort);return this.submitListForm("saveList",page,pageSize,sort)},deleteListItems:function(ids,page,pageSize,sort){var markedTitles=new Array;$.each(ids,function(key,val){markedTitles.push(val.value)});var stringReturn=markedTitles.join(",");var x=ids.length;var title=" title";if(x!=1){title=" titles"}if(confirm("Are you sure you want to delete "+x+title+" from this list? This cannot be undone.")){this.submitListFormWithData("deleteMarked",stringReturn,page,pageSize,sort)}return false},deleteAllListItemsAction:function(page,pageSize,sort){if(confirm("Are you sure you want to delete all titles from this list?  This cannot be undone.")){this.submitListForm("deleteAll",page,pageSize,sort)}return false},emailListAction:function(listId){return Pika.Account.ajaxLightbox("/MyAccount/AJAX?method=getEmailMyListForm&listId="+listId,false)},SendMyListEmail:function(){var url="/MyAccount/AJAX";$.getJSON(url,{listId:$('#emailListForm input[name="listId"]').val(),to:$('#emailListForm input[name="to"]').val(),from:$('#emailListForm input[name="from"]').val(),message:$('#emailListForm textarea[name="message"]').val(),method:"sendMyListEmail","g-recaptcha-response":typeof grecaptcha!=="undefined"?grecaptcha.getResponse():false},function(data){if(data.result){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Error",data.message)}})},exportListAction:function(id,page,pageSize,sort){return this.submitListForm("exportToExcel",page,pageSize,sort)},exportListFromLists:function(id){$("#myListActionHead").val("exportToExcel");$("#myListActionData").val(id);$("#myListFormHead").submit();return false},citeListAction:function(id){return Pika.Account.ajaxLightbox("/MyAccount/AJAX?method=getCitationFormatsForm&listId="+id,false)},processCiteListForm:function(){$("#citeListForm").submit()},batchAddToListAction:function(id){return Pika.Account.ajaxLightbox("/MyAccount/AJAX/?method=getBulkAddToListForm&listId="+id)},transferListToUser:function(id){return this.buttonAjaxHandler("transferListToUser",id,"transferList")},transferList:function(id,user){if(confirm("Are you sure you want to transfer this list. It will no longer be accessible from this account.")){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/MyAccount/AJAX?method=transferList&id="+id+"&barcode="+user;$.getJSON(url,function(data){Pika.showMessage(data.title,data.body,1,1)}).fail(Pika.ajaxFail)})}return false},processBulkAddForm:function(){$("#bulkAddToList").submit()},changeList:function(){var availableLists=$("#availableLists");window.location="/MyAccount/MyList/"+availableLists.val()},printListAction:function(){window.print();return false},copyList:function(id){if(confirm("You are copying this list and all items to your lists. This could take a several moments depending on the size of the list. Are you sure you want to continue?")){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/MyAccount/AJAX?method=copyList&copyFromId="+id;$.getJSON(url,function(data){Pika.showMessage(data.title,data.body,1,1)}).fail(Pika.ajaxFail)})}return false},importListsFromClassic:function(){if(confirm("This will import any lists you had defined in the old catalog.  This may take several minutes depending on the size of your lists. Are you sure you want to continue?")){window.location="/MyAccount/ImportListsFromClassic"}return false}}}(Pika.Lists||{});
Pika.ListWidgets=function(){return{createWidgetFromList:function(listId){Pika.Account.ajaxLightbox("/Admin/AJAX?method=getAddToWidgetForm&source=list&id="+listId,true);return false},createWidgetFromSearch:function(searchId){Pika.Account.ajaxLightbox("/Admin/AJAX?method=getAddToWidgetForm&source=search&id="+searchId,true);return false}}}(Pika.ListWidgets||{});
Pika.Log=function(){return{showNotes:function(type,id){Pika.Account.ajaxLightbox("/Log/AJAX?method=getNotes&type="+type+"&id="+id,true);return false},toggleCronProcessInfo:function(id){$("#cronEntry"+id).toggleClass("expanded collapsed");$("#processInfo"+id).toggle()}}}(Pika.Log||{});
Pika.MaterialsRequest=function(){return{getWorldCatIdentifiers:function(){var title=$("#title").val(),author=$("#author").val(),format=$("#format").val();if(title==""&&author==""){alert("Please enter a title and author before checking for an ISBN and OCLC Number")}else{var requestUrl="/MaterialsRequest/AJAX",params={method:"GetWorldCatIdentifiers",title:title,author:author,format:format};$.getJSON(requestUrl,params,function(data){if(data.success){$("#suggestedIdentifiers").html(data.formattedSuggestions).slideDown()}else{alert(data.error)}})}return false},cancelMaterialsRequest:function(id){Pika.confirm("Are you sure you want to cancel this request?",function(){var url="/MaterialsRequest/AJAX",params={method:"CancelRequest",id:id};$.getJSON(url,params,function(data){if(data.success){Pika.showMessage("Cancel Material Request","Your request was cancelled successfully.",data.success,data.success)}else{Pika.showMessage("Cancel Material Request",data.error,data.success,data.success)}})});return false},showMaterialsRequestDetails:function(id,staffView){return Pika.Account.ajaxLightbox("/MaterialsRequest/AJAX?method=MaterialsRequestDetails&id="+id+"&staffView="+staffView,true)},updateMaterialsRequest:function(id){return Pika.Account.ajaxLightbox("/MaterialsRequest/AJAX?method=UpdateMaterialsRequest&id="+id,true)},exportSelectedRequests:function(){var selectedRequests=this.getSelectedRequests(true);if(selectedRequests.length==0){return false}$("#updateRequests").submit();return true},updateSelectedRequests:function(){var newStatus=$("#newStatus").val();if(newStatus=="unselected"){alert("Please select a status to update the requests to.");return false}var selectedRequests=this.getSelectedRequests(false);if(selectedRequests.length!=0){$("#updateRequests").submit()}return false},assignSelectedRequests:function(){var newAssignee=$("#newAssignee").val();if(newAssignee=="unselected"){alert("Please select a user to assign the requests to.");return false}var selectedRequests=this.getSelectedRequests(false);if(selectedRequests.length!=0){$("#updateRequests").submit()}return false},getSelectedRequests:function(promptToSelectAll){var selectedRequests=$("input.select:checked").map(function(){return $(this).attr("name")+"="+$(this).val()}).get().join("&");if(selectedRequests.length==0){if(promptToSelectAll){if(confirm("You have not selected any requests, process all requests?")){selectedRequests=$("input.select").map(function(){return $(this).attr("name")+"=on"}).get().join("&");$(".select").attr("checked","checked")}}else{alert("Please select one or more requests to update")}}return selectedRequests},setIsbnAndOclcNumber:function(title,author,isbn,oclcNumber){$("#title").val(title);$("#author").val(author);$("#isbn").val(isbn);$("#oclcNumber").val(oclcNumber);$("#suggestedIdentifiers").slideUp()},setFieldVisibility:function(){$(".formatSpecificField").hide();var selectedFormat=$("#format").find("option:selected").val(),hasSpecialFields=typeof Pika.MaterialsRequest.specialFields!="undefined";$(".specialFormatField").hide();$(".specialFormatHideField").show();this.updateHoldOptions();if(hasSpecialFields){if(Pika.MaterialsRequest.specialFields[selectedFormat]){Pika.MaterialsRequest.specialFields[selectedFormat].forEach(function(specifiedOption){switch(specifiedOption){case"Abridged/Unabridged":$(".abridgedField").show();$(".abridgedHideField").hide();break;case"Article Field":$(".articleField").show();$(".articleHideField").hide();break;case"Eaudio format":$(".eaudioField").show();$(".eaudioHideField").hide();break;case"Ebook format":$(".ebookField").show();$(".ebookHideField").hide();break;case"Season":$(".seasonField").show();$(".seasonHideField").hide();break}})}}if(Pika.MaterialsRequest.authorLabels){if(Pika.MaterialsRequest.authorLabels[selectedFormat]){$("#authorFieldLabel").html(Pika.MaterialsRequest.authorLabels[selectedFormat]+": ")}}if(hasSpecialFields&&Pika.MaterialsRequest.specialFields[selectedFormat]&&Pika.MaterialsRequest.specialFields[selectedFormat].indexOf("Article Field")>-1){$("#magazineTitle,#acceptCopyrightYes").addClass("required");$("#acceptCopyrightYes").addClass("required");$("#copyright").show();$("#supplementalDetails").hide();$("#titleLabel").html("Article Title <span class='requiredIndicator'>*</span>")}else{$("#magazineTitle,#acceptCopyrightYes").removeClass("required");$("#copyright").hide();$("#supplementalDetails").show();$("#titleLabel").html("Title <span class='requiredIndicator'>*</span>")}},updateHoldOptions:function(){var placeHold=$("input[name=placeHoldWhenAvailable]:checked").val()==1||$("input[name=illItem]:checked").val()==1;if(placeHold){$("#pickupLocationField").show();if($("#pickupLocation").find("option:selected").val()=="bookmobile"){$("#bookmobileStopField").show()}else{$("#bookmobileStopField").hide()}}else{$("#bookmobileStopField,#pickupLocationField").hide()}}}}(Pika.MaterialsRequest||{});
Pika.Menu=function(){$(function(){Pika.Menu.AllSideBarSelectors=Pika.Menu.SearchBoxSelectors+","+Pika.Menu.SideBarSearchSelectors+","+Pika.Menu.SideBarAccountSelectors+","+Pika.Menu.SideBarMenuSelectors+","+Pika.Menu.ExploreMoreSelectors;Pika.Menu.stickyMenu("#horizontal-menu-bar-container","sticky-menu-bar");Pika.Menu.stickyMenu("#vertical-menu-bar","sticky-sidebar");var mobileMode=false;if($("#horizontal-menu-bar-container").is(":visible")){Pika.Menu.hideAllFast();mobileMode=true}$(window).resize(function(){if(mobileMode){if(!$("#horizontal-menu-bar-container").is(":visible")){mobileMode=false;if($("#vertical-menu-bar").length){$("#horizontal-search-box").show();$(".menu-bar-option").removeClass("menu-icon-selected");Pika.Menu.hideAllFast();if($("#mobile-menu-search-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){Pika.Menu.Mobile.resetRefineSearch();Pika.Menu.SideBar.showSearch(".menu-bar-option:nth-child(1)>a")}else if($("#mobile-menu-account-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){Pika.Menu.SideBar.showAccount(".menu-bar-option:nth-child(2)>a")}else if($("#mobile-menu-menu-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){Pika.Menu.SideBar.showMenu(".menu-bar-option:nth-child(3)>a")}else if($("#mobile-menu-explore-more-icon","#horizontal-menu-bar-container").is(".menu-icon-selected")){Pika.Menu.SideBar.showExploreMore(".menu-bar-option:nth-child(4)>a")}else{if($(Pika.Menu.AllSideBarSelectors).filter(":visible").length==0){Pika.Menu.collapseSideBar()}}}else{$(Pika.Menu.AllSideBarSelectors).show()}}}else{if($("#horizontal-menu-bar-container").is(":visible")){mobileMode=true;$(".menu-icon-selected","#horizontal-menu-bar-container").removeClass("menu-icon-selected");Pika.Menu.hideAllFast();if($(".menu-bar-option:nth-child(1)","#vertical-menu-bar").is(".menu-icon-selected")){Pika.Menu.Mobile.showSearch("#mobile-menu-search-icon")}else if($(".menu-bar-option:nth-child(2)","#vertical-menu-bar").is(".menu-icon-selected")){Pika.Menu.Mobile.showAccount("#mobile-menu-account-icon")}else if($(".menu-bar-option:nth-child(3)","#vertical-menu-bar").is(".menu-icon-selected")){Pika.Menu.Mobile.showMenu("#mobile-menu-menu-icon")}else if($(".menu-bar-option:nth-child(4)","#vertical-menu-bar").is(".menu-icon-selected")){Pika.Menu.Mobile.showExploreMore("#mobile-menu-explore-more-icon")}}}})});var reloadRelatedTitles=function(){if($(Pika.Menu.ExploreMoreSelectors).is(":visible")){$(".jcarousel").jcarousel("reload")}};return{SearchBoxSelectors:"#home-page-search",SideBarSearchSelectors:"#narrow-search-label,#facet-accordion,#results-sort-label,#results-sort-label+div.row,#remove-search-label,#remove-search-label+.applied-filters,#similar-authors",SideBarAccountSelectors:"#home-page-login,#home-account-links",SideBarMenuSelectors:"#home-page-login,#home-page-library-section",ExploreMoreSelectors:"#explore-more-header,#explore-more-body",AllSideBarSelectors:"",stickyMenu:function(menuContainerSelector,stickyMenuClass){var menu=$(menuContainerSelector),viewportHeight=$(window).height(),switchPosition,switchPositionAdjustment=$("#masquerade-header").height();$(window).resize(function(){viewportHeight=$(this).height()}).scroll(function(){if(menu.is(":visible")&&viewportHeight<$("#main-content-with-sidebar").height()){if(typeof switchPosition=="undefined"){switchPosition=menu.offset().top-switchPositionAdjustment}var fixedOffset=menu.offset().top,notFixedScrolledPosition=$(this).scrollTop();if(menu.is("."+stickyMenuClass)&&fixedOffset<=switchPosition){menu.removeClass(stickyMenuClass)}if(!menu.is("."+stickyMenuClass)&&notFixedScrolledPosition>=switchPosition){menu.addClass(stickyMenuClass);if(switchPositionAdjustment){menu.css("top",switchPositionAdjustment)}}}}).scroll()},hideAllFast:function(){return $(Pika.Menu.AllSideBarSelectors).filter(":visible").hide()},collapseSideBar:function(){$("#side-bar,#vertical-menu-bar-container").addClass("collapsedSidebar");$("#main-content-with-sidebar").addClass("mainContentWhenSiderbarCollapsed");$("#main-content-with-sidebar .jcarousel").jcarousel("reload")},openSideBar:function(){$("#main-content-with-sidebar").removeClass("mainContentWhenSiderbarCollapsed");$("#side-bar,#vertical-menu-bar-container").removeClass("collapsedSidebar");$("#main-content-with-sidebar .jcarousel").jcarousel("reload")},reloadRelatedTitles:function(){if($(Pika.Menu.ExploreMoreSelectors).is(":visible")){$(".jcarousel").jcarousel("reload")}},SideBar:{hideAll:function(){return $(Pika.Menu.AllSideBarSelectors).filter(":visible").animate({width:"toggle"},350)},showMenuSection:function(sectionSelector,clickedElement,afterAnimationAction){$.when(this.hideAll()).done(function(){var elem=$(clickedElement),parent=elem.parent(".menu-bar-option");if(parent.length>0){if(parent.is(".menu-icon-selected")){parent.removeClass("menu-icon-selected")}else{$(".menu-bar-option").removeClass("menu-icon-selected");parent.addClass("menu-icon-selected");Pika.Menu.openSideBar();$.when($(sectionSelector).animate({width:"toggle"},350)).done(afterAnimationAction)}}}).done(function(){if($(Pika.Menu.AllSideBarSelectors).filter(":visible").length==0){Pika.Menu.collapseSideBar()}})},showSearch:function(clickedElement){if($("#horizontal-search-box").is(":visible")){this.showMenuSection(Pika.Menu.SideBarSearchSelectors,clickedElement)}else{this.showMenuSection("#home-page-search,"+Pika.Menu.SideBarSearchSelectors,clickedElement)}},showMenu:function(clickedElement){this.showMenuSection(Pika.Menu.SideBarMenuSelectors,clickedElement)},showAccount:function(clickedElement){this.showMenuSection(Pika.Menu.SideBarAccountSelectors,clickedElement)},showExploreMore:function(clickedElement){this.showMenuSection(Pika.Menu.ExploreMoreSelectors,clickedElement,reloadRelatedTitles)}},Mobile:{hideAll:function(){return $(Pika.Menu.AllSideBarSelectors).filter(":visible").slideUp()},showMenuSection:function(sectionSelector,clickedElement){return $.when(this.hideAll()).done(function(){var elem=$(clickedElement);Pika.Menu.openSideBar();if(elem.is(".menu-icon-selected")){elem.removeClass("menu-icon-selected");$("#mobileHeader").show();$(sectionSelector).slideUp()}else{$(".menu-icon-selected","#horizontal-menu-bar-container").removeClass("menu-icon-selected");elem.addClass("menu-icon-selected");$("#mobileHeader").hide();$(sectionSelector).slideDown()}})},showSearch:function(clickedElement){this.showMenuSection("#home-page-search",clickedElement);this.resetRefineSearch()},showMenu:function(clickedElement){this.showMenuSection(Pika.Menu.SideBarMenuSelectors,clickedElement)},showAccount:function(clickedElement){this.showMenuSection(Pika.Menu.SideBarAccountSelectors,clickedElement);$("#myAccountPanel").filter(":not(.in)").collapse("show")},showExploreMore:function(clickedElement){this.showMenuSection(Pika.Menu.ExploreMoreSelectors,clickedElement).done(reloadRelatedTitles)},showSearchFacets:function(){if(!$("#mobile-menu-search-icon").is(".menu-icon-selected")){if($("#horizontal-search-box").is(":visible")){this.showSearch("#mobile-menu-search-icon")}else{$("#mobile-menu-search-icon").addClass("menu-icon-selected")}}var btn=$("#refineSearchButton"),text=btn.text();if(text=="Refine Search"){$(Pika.Menu.SideBarSearchSelectors).slideDown();btn.text("Hide Refine Search")}if(text=="Hide Refine Search"){$(Pika.Menu.SideBarSearchSelectors).slideUp();btn.text("Refine Search")}},resetRefineSearch:function(){$(Pika.Menu.SideBarSearchSelectors).hide();$("#refineSearchButton").text("Refine Search")}}}}(Pika.Menu||{});
Pika.Hoopla=function(){return{checkOutHooplaTitle:function(hooplaId,patronId){Pika.Account.ajaxLogin(function(){if(typeof patronId==="undefined"){patronId=$("#patronId","#pickupLocationOptions").val()}var url="/Hoopla/"+hooplaId+"/AJAX",params={method:"checkOutHooplaTitle",patronId:patronId};if($("#stopHooplaConfirmation").prop("checked")){params["stopHooplaConfirmation"]=true}$.getJSON(url,params,function(data){if(data.success){Pika.showMessageWithButtons(data.title,data.message,data.buttons)}else{Pika.showMessage("Checking Out Title",data.message)}}).fail(Pika.ajaxFail)});return false},getHooplaCheckOutPrompt:function(hooplaId){Pika.Account.ajaxLogin(function(){var url="/Hoopla/"+hooplaId+"/AJAX?method=getHooplaCheckOutPrompt";$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.body,data.buttons)}).fail(Pika.ajaxFail)});return false},returnHooplaTitle:function(patronId,hooplaId){Pika.confirm("Are you sure you want to return this title?",function(){Pika.Account.ajaxLogin(function(){Pika.showMessage("Returning Title","Returning your title in Hoopla.");var url="/Hoopla/"+hooplaId+"/AJAX",params={method:"returnHooplaTitle",patronId:patronId};$.getJSON(url,params,function(data){Pika.showMessage(data.success?"Success":"Error",data.message,data.success,data.success)}).fail(Pika.ajaxFail)})});return false}}}(Pika.Hoopla||{});
Pika.OverDrive=function(){return{cancelOverDriveHold:function(patronId,overdriveId){Pika.confirm("Are you sure you want to cancel this hold?",function(){var ajaxUrl="/OverDrive/AJAX?method=cancelOverDriveHold&patronId="+patronId+"&overDriveId="+overdriveId;$.getJSON(ajaxUrl,function(data){if(data.success){Pika.showMessage("Hold Cancelled",data.message,true);$("#overDriveHold_"+overdriveId).remove();Pika.Account.loadMenuData()}else{Pika.showMessage("Error Cancelling Hold",data.message,false)}}).fail(function(){Pika.showMessage("Error Cancelling Hold","An error occurred processing your request in OverDrive.  Please try again in a few minutes.",false)})});return false},thawOverDriveHold:function(patronId,overdriveId){var ajaxUrl="/OverDrive/AJAX?method=thawOverDriveHold&patronId="+patronId+"&overDriveId="+overdriveId;$.getJSON(ajaxUrl,function(data){if(data.success){Pika.showMessage(data.title,data.message,true,true)}else{Pika.showMessage(data.title,data.message,false)}}).fail(function(){Pika.showMessage("Error Thawing Hold","An error occurred processing your request in OverDrive.  Please try again in a few minutes.",false)});return false},checkOutOverDriveTitle:function(overDriveId,formatType){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();var url="/OverDrive/"+overDriveId+"/AJAX?method=getOverDriveCheckoutPrompts"+(formatType===undefined?"":"&formatType="+formatType);$.getJSON(url,function(data){if(data.promptNeeded){Pika.showMessageWithButtons(data.promptTitle,data.prompts,data.buttons)}else{if(data.success){Pika.showMessageWithButtons("Title Checked Out Successfully",data.message,data.buttons)}else if(data.noCopies){Pika.confirm(data.message,function(){Pika.OverDrive.placeOverDriveHold(overdriveId,null)})}else{Pika.showMessage("Error Checking Out Title",data.message)}}}).fail(function(){Pika.showMessage("Error Checking Out Title","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})});return false},processOverDriveCheckoutPrompts:function(){var overdriveCheckoutPromptsForm=$("#overdriveCheckoutPromptsForm"),patronId=$("#patronId").val(),overdriveId=overdriveCheckoutPromptsForm.find("input[name=overdriveId]").val(),lendingPeriod=$("#lendingPeriodSelect"+patronId).val(),formatType=$("#formatType").val(),useDefaultLendingPeriods=$("#useDefaultLendingPeriods"+patronId).is(":checked")===true;Pika.OverDrive.doOverDriveCheckout(patronId,overdriveId,lendingPeriod,useDefaultLendingPeriods,formatType)},doOverDriveCheckout:function(patronId,overDriveId,lendingPeriod,useDefaultLendingPeriods,formatType){Pika.Account.ajaxLogin(function(){var ajaxUrl="/OverDrive/"+overDriveId+"/AJAX?method=checkoutOverDriveTitle&patronId="+patronId+(lendingPeriod!==undefined?"&lendingPeriod="+lendingPeriod:"")+(formatType!==undefined&&formatType!=""?"&formatType="+formatType:"")+(useDefaultLendingPeriods!==undefined&&useDefaultLendingPeriods===true?"&useDefaultLendingPeriods":"");$.getJSON(ajaxUrl,function(data){if(data.success){Pika.showMessageWithButtons("Title Checked Out Successfully",data.message,data.buttons)}else if(data.noCopies){Pika.confirm(data.message,function(){Pika.OverDrive.placeOverDriveHold(overDriveId,null)})}else{if(data.promptNeeded){Pika.showMessageWithButtons("Error Checking Out Title",data.message,data.buttons)}else{Pika.showMessage("Error Checking Out Title",data.message,false)}}}).fail(function(){Pika.showMessage("Error Checking Out Title","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})});return false},doOverDriveHold:function(patronId,overDriveId,overDriveEmail,rememberOverDriveEmail){var url="/OverDrive/AJAX",params={method:"placeOverDriveHold",patronId:patronId,overDriveId:overDriveId,overDriveEmail:overDriveEmail,rememberOverDriveEmail:rememberOverDriveEmail};$.getJSON(url,params,function(data){if(data.availableForCheckout){Pika.OverDrive.checkOutOverDriveTitle(overdriveId)}else{Pika.showMessageWithButtons("Placed Hold",data.message,data.buttons)}}).fail(function(){Pika.showMessage("Error Placing Hold","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")});return false},followOverDriveDownloadLink:function(patronId,overDriveId,formatType){var ajaxUrl="/OverDrive/AJAX?method=getDownloadLink&patronId="+patronId+"&overDriveId="+overDriveId+"&formatType="+formatType;$.getJSON(ajaxUrl,function(data){if(data.success){var win=window.open(data.downloadUrl,"_blank");win.focus()}else{Pika.showMessage("Error Getting Download Link",data.message,false)}}).fail(function(){Pika.showMessage("Error Getting Download Link","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")});return false},forceUpdateFromAPI:function(overDriveId){var url="/OverDrive/"+overDriveId+"/AJAX?method=forceUpdateFromAPI";$.getJSON(url,function(data){Pika.showMessage("Success",data.message,true,true)});return false},placeOverDriveHold:function(overDriveId){Pika.Account.ajaxLogin(function(){var url="/OverDrive/"+overDriveId+"/AJAX?method=getOverDriveHoldPrompts";$.getJSON(url,function(data){if(data.promptNeeded){Pika.showMessageWithButtons(data.promptTitle,data.prompts,data.buttons)}else{Pika.OverDrive.doOverDriveHold(data.patronId,overDriveId,data.overDriveEmail,false)}}).fail(function(){Pika.showMessage("Error Placing Hold","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})});return false},processOverDriveHoldPrompts:function(){var overDriveHoldPromptsForm=$("#overDriveHoldPromptsForm"),overDriveEmail=overDriveHoldPromptsForm.find("input[name=overDriveEmail]").val(),overdriveId=overDriveHoldPromptsForm.find("input[name=overdriveId]").val(),patronId=$("#patronId").val(),rememberOverDriveEmail=overDriveHoldPromptsForm.find("input[name=rememberOverDriveEmail]").is(":checked")?1:0;Pika.OverDrive.doOverDriveHold(patronId,overdriveId,overDriveEmail,rememberOverDriveEmail)},updateOverDriveHold:function(patronId,overDriveId,thawDate){Pika.Account.ajaxLogin(function(){var url="/OverDrive/"+overDriveId+"/AJAX?method=getOverDriveUpdateHoldPrompts&patronId="+patronId;if(thawDate!==undefined){url+="&thawDate="+thawDate}$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.message,data.buttons)}).fail(function(){Pika.showMessage("Error","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})});return false},freezeOverDriveHold:function(patronId,overDriveId,thawDate){Pika.Account.ajaxLogin(function(){var url="/OverDrive/"+overDriveId+"/AJAX?method=getOverDriveFreezeHoldPrompts&patronId="+patronId;if(thawDate!==undefined){url+="&thawDate="+thawDate}$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.message,data.buttons)}).fail(function(){Pika.showMessage("Error","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})});return false},processFreezeOverDriveHoldPrompts:function(){var overDriveHoldPromptsForm=$("#overdriveFreezeHoldPromptsForm"),overDriveEmail=overDriveHoldPromptsForm.find("input[name=overDriveEmail]").val(),overDriveId=overDriveHoldPromptsForm.find("input[name=overDriveId]").val(),patronId=$("#patronId").val(),thawDate=$("#thawDate").val(),rememberOverDriveEmail=overDriveHoldPromptsForm.find("input[name=rememberOverDriveEmail]").is(":checked")?1:0,url="/OverDrive/AJAX",params={method:"freezeOverDriveHold",patronId:patronId,overDriveId:overDriveId,overDriveEmail:overDriveEmail,rememberOverDriveEmail:rememberOverDriveEmail,thawDate:thawDate};$.getJSON(url,params,function(data){Pika.showMessage(data.title,data.message,data.success,data.success)}).fail(function(){Pika.showMessage("Error","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")});return false},returnOverDriveTitle:function(patronId,overDriveId){Pika.confirm("Are you sure you want to return this title?",function(){Pika.showMessage("Returning Title","Returning your title in OverDrive.");var ajaxUrl="/OverDrive/AJAX?method=returnOverDriveItem&patronId="+patronId+"&overDriveId="+overDriveId;$.getJSON(ajaxUrl,function(data){Pika.showMessage("Title Returned",data.message,data.success);if(data.success){$("#overdrive_"+overDriveId).remove();Pika.Account.loadMenuData()}}).fail(function(){Pika.showMessage("Error Returning Title","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})});return false},selectOverDriveDownloadFormat:function(patronId,overDriveId){var selectedOption=$("#downloadFormat_"+overDriveId+" option:selected"),selectedFormatType=selectedOption.val(),selectedFormatText=selectedOption.text();if(selectedFormatType==="-1"){alert("Please select a format to download.")}else{Pika.confirm("Are you sure you want to download the "+selectedFormatText+" format? You cannot change format after downloading.",function(){var ajaxUrl="/OverDrive/AJAX?method=selectOverDriveDownloadFormat&patronId="+patronId+"&overDriveId="+overDriveId+"&formatType="+selectedFormatType;$.getJSON(ajaxUrl,function(data){if(data.success){window.location.href=data.downloadUrl}else{Pika.showMessage("Error Selecting Format",data.message)}}).fail(function(){Pika.showMessage("Error Selecting Format","An error occurred processing your request in OverDrive.  Please try again in a few minutes.")})})}return false},submitHelpForm:function(){$.post("/OverDrive/AJAX?method=submitSupportForm",$("#eContentSupport").serialize(),function(data){Pika.showMessage(data.title,data.message)},"json").fail(Pika.ajaxFail);return false}}}(Pika.OverDrive||{});
Pika.Prospector=function(){return{getProspectorResults:function(prospectorNumTitlesToLoad,prospectorSavedSearchId){var url="/Search/AJAX",params={method:"getProspectorResults",prospectorNumTitlesToLoad:prospectorNumTitlesToLoad,prospectorSavedSearchId:prospectorSavedSearchId};$.get(url,params,function(data){$("#prospectorSearchResultsPlaceholder").html(data)})},loadRelatedProspectorTitles:function(id){var url="/GroupedWork/"+encodeURIComponent(id)+"/AJAX",params={method:"getProspectorInfo"};$.getJSON(url,params,function(data){if(data.numTitles===0){$("#prospectorPanel").hide()}else{$("#inProspectorPlaceholder").html(data.formattedData)}})},removeBlankThumbnail:function(imgElem,elemToHide,isForceRemove){var $img=$(imgElem);if($img.height()==1&&$img.width()==1||isForceRemove){$(elemToHide).remove()}}}}(Pika.Prospector||{});
Pika.Ratings=function(){$(function(){Pika.Ratings.initializeRaters()});return{initializeRaters:function(){$(".rater").each(function(){var ratingElement=$(this),userRating=ratingElement.data("user_rating"),id=ratingElement.data("id"),options={id:id,rating:parseFloat(userRating>0?userRating:ratingElement.data("average_rating")),url:"/GroupedWork/"+encodeURIComponent(id)+"/AJAX"};ratingElement.rater(options)})},doRatingReview:function(id){$.getJSON("/GroupedWork/"+id+"/AJAX?method=getPromptforReviewForm",function(data){if(data.prompt)Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons);if(data.error)Pika.showMessage("Error",data.message)}).fail(Pika.ajaxFail)},doNoRatingReviews:function(){$.getJSON("/GroupedWork/AJAX?method=setNoMoreReviews",function(data){if(data.success)Pika.showMessage("Success","You will no longer be asked to give a review.",true);else Pika.showMessage("Error","Failed to save your setting.")}).fail(Pika.ajaxFail)}}}(Pika.Ratings);$.fn.rater=function(options){var opts=$.extend({},$.fn.rater.defaults,options);return this.each(function(){var $this=$(this),$on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");if(opts.size==undefined)opts.size=$off.height();if(opts.rating==undefined){opts.rating=$on.width()/$off.width()}else{$on.width($off.width()*(opts.rating/opts.ratings.length))}if(opts.id==undefined)opts.id=$this.attr("id");var initialRating=opts.rating;if(!$this.hasClass("ui-rater-bindings-done")){$this.addClass("ui-rater-bindings-done");$off.mousemove(function(e){var left=e.clientX-$off.offset().left,width=$off.width()-($off.width()-left);width=Math.min(Math.ceil(width/(opts.size/opts.step))*opts.size/opts.step,opts.size*opts.ratings.length);$on.width(width);var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$this.attr("title",'Click to Rate "'+r+' stars"')}).hover(function(e){$on.addClass("ui-rater-starsHover")},function(e){$on.removeClass("ui-rater-starsHover");$on.width(initialRating*opts.size)}).click(function(e){var r=Math.round($on.width()/$off.width()*(opts.ratings.length*opts.step))/opts.step;$.fn.rater.rate($this,opts,r)}).css("cursor","pointer");$on.css("cursor","pointer")}})};$.fn.rater.defaults={url:location.href,ratings:["Hated It","Didn't Like It","Liked It","Really Liked It","Loved It"],step:1};$.fn.rater.rate=function($this,opts,rating){Pika.Account.ajaxLogin(function(){var $on=$this.find(".ui-rater-starsOn"),$off=$this.find(".ui-rater-starsOff");$off.fadeTo(600,.4,function(){$.getJSON(opts.url,{method:"RateTitle",id:opts.id,rating:rating},function(data){if(data.error){Pika.showMessage("Error",data.error);$off.fadeTo(500,1).mouseleave()}if(data.rating){opts.rating=data.rating;$off.fadeTo(600,.1,function(){$on.removeClass("ui-rater-starsHover").width(opts.rating*opts.size).addClass("userRated");$off.fadeTo(500,1);$this.attr("title","Your rating: "+rating.toFixed(1));if($this.data("show_review")==true){Pika.Ratings.doRatingReview(opts.id)}})}}).fail(function(){Pika.ajaxFail();$off.fadeTo(500,1).mouseleave()})})},null,true)};
Pika.Account.ReadingHistory=function(){return{deletedMarkedAction:function(){Pika.confirm("The marked items will be irreversibly deleted from your reading history.  Proceed?",function(){$("#readingHistoryAction").val("deleteMarked");$("#readingListForm").submit()});return false},deleteAllAction:function(){Pika.confirm("Your entire reading history will be irreversibly deleted.  Proceed?",function(){$("#readingHistoryAction").val("deleteAll");$("#readingListForm").submit()});return false},optOutAction:function(){Pika.confirm("Opting out of Reading History will also delete your entire reading history irreversibly.  Proceed?",function(){$("#readingHistoryAction").val("optOut");$("#readingListForm").submit()});return false},optInAction:function(){$("#readingHistoryAction").val("optIn");$("#readingListForm").submit();return false},exportListAction:function(){$("#readingHistoryAction").val("exportToExcel");$("#readingListForm").submit();return false},searchReadingHistoryAction:function(){$("#readingHistoryAction").val("searchReadingHistory");$("#readingListForm").submit();return false}}}(Pika.Account.ReadingHistory||{});
Pika.Record=function(){return{showPlaceHold:function(module,id){Pika.Account.ajaxLogin(function(){var source,volume=null;if(id.indexOf(":")>0){var idParts=id.split(":");source=idParts[0];id=idParts[1];if(idParts.length>2){volume=idParts[2]}}else{source="ils"}var url="/"+module+"/"+id+"/AJAX?method=getPlaceHoldForm&recordSource="+source;if(volume!=null){url+="&volume="+volume}$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)});return false},showPlaceHoldEditions:function(module,id){Pika.Account.ajaxLogin(function(){var source,volume=null;if(id.indexOf(":")>0){var idParts=id.split(":");source=idParts[0];id=idParts[1];if(idParts.length>2){volume=idParts[2]}}else{source="ils"}var url="/"+module+"/"+id+"/AJAX?method=getPlaceHoldEditionsForm&recordSource="+source;if(volume!=null){url+="&volume="+volume}$.getJSON(url,function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)});return false},showBookMaterial:function(module,id){Pika.Account.ajaxLogin(function(){Pika.loadingMessage();if(id.indexOf(":")>0){var idParts=id.split(":",2);id=idParts[1]}$.getJSON("/"+module+"/"+id+"/AJAX?method=getBookMaterialForm",function(data){Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons)}).fail(Pika.ajaxFail)});return false},submitBookMaterialForm:function(){var params=$("#bookMaterialForm").serialize()+"&method=bookMaterial",module=$("#module").val();Pika.showMessage("Scheduling","Processing, please wait.");$.getJSON("/"+module+"/AJAX",params,function(data){if(data.modalBody)Pika.showMessageWithButtons(data.title,data.modalBody,data.modalButtons);if(data.success)Pika.showMessageWithButtons("Success",data.message,data.buttons);else if(data.message)Pika.showMessage("Error",data.message)}).fail(Pika.ajaxFail)},submitHoldForm:function(){var id=$("#id").val(),autoLogOut=$("#autologout").prop("checked"),selectedItem=$("#selectedItem"),module=$("#module").val(),volume=$("#volume"),params={method:"placeHold",campus:$("#campus").val(),selectedUser:$("#user").val(),canceldate:$("#canceldate").val(),recordSource:$("#recordSource").val(),account:$("#account").val()};if(autoLogOut){params["autologout"]=true}if(selectedItem.length>0){params["selectedItem"]=selectedItem.val()}if(volume.length>0){params["volume"]=volume.val()}if(params["campus"]=="undefined"){alert("Please select a location to pick up your hold when it is ready.");return false}Pika.showMessageWithButtons($("#myModalLabel").html(),"Loading, please wait.",$(".modal-buttons").html());$.getJSON("/"+module+"/"+id+"/AJAX",params,function(data){if(data.success){if(data.needsItemLevelHold){$(".modal-body").html(data.message)}else{Pika.showMessageWithButtons("Hold Placed Successfully",data.message,data.buttons)}}else{Pika.showMessage("Hold Failed",data.message,false,autoLogOut)}}).fail(Pika.ajaxFail)},reloadCover:function(module,id){var url="/"+module+"/"+id+"/AJAX?method=reloadCover";$.getJSON(url,function(data){Pika.showMessage("Success",data.message,true,true)}).fail(Pika.ajaxFail);return false},forceReExtract:function(module,id){var url="/"+module+"/"+id+"/AJAX?method=forceReExtract";$.getJSON(url,function(data){Pika.showMessage(data.success?"Success":"Error",data.message,data.success,data.success)}).fail(Pika.ajaxFail);return false},moreContributors:function(){document.getElementById("showAdditionalContributorsLink").style.display="none";document.getElementById("additionalContributors").style.display="block"},lessContributors:function(){document.getElementById("showAdditionalContributorsLink").style.display="block";document.getElementById("additionalContributors").style.display="none"}}}(Pika.Record||{});
Pika.Responsive=function(){$(function(){$("#lookfor","#home-page-search").on("keyup",function(event){$(this).height(0);if(this.scrollHeight<32){$(this).height(18)}else{$(this).height(this.scrollHeight)}}).keyup();$("#lookfor").on("keydown",function(event){if(event.which==13||event.which==10){event.preventDefault();event.stopPropagation();$("#searchForm").submit();return false}}).on("keypress",function(event){if(event.which==13||event.which==10){event.preventDefault();event.stopPropagation();return false}})});try{var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(mql){Pika.Responsive.isPrint=mql.matches})}catch(err){}window.onbeforeprint=function(){Pika.Responsive.isPrint=true};return{originalSidebarHeight:-1,adjustLayout:function(){var resolutionX=document.documentElement.clientWidth;if(resolutionX>=768&&!Pika.Responsive.isPrint){var mainContentElement=$("#main-content-with-sidebar");var sidebarContentElem=$("#sidebar-content");if(Pika.Responsive.originalSidebarHeight==-1){Pika.Responsive.originalSidebarHeight=sidebarContentElem.height()}var heightToTest=sidebarContentElem.height();var maxHeight=Math.max(mainContentElement.height()+15,heightToTest);if(mainContentElement.height()+15!=maxHeight){mainContentElement.height(maxHeight)}if(sidebarContentElem.height()!=maxHeight){sidebarContentElem.height(maxHeight)}}}}}(Pika.Responsive||{});
Pika.RBdigital=function(){return{returnRBdigitalMagazine:function(userId,issueId){Pika.confirm("Are you sure you want to return this title?",function(){Pika.Account.ajaxLogin(function(){Pika.showMessage("Returning Title","Returning your magazine.");var url="/RBdigital/AJAX",params={method:"returnRBdigitalMagazine",issueId:issueId,userId:userId};$.getJSON(url,params,function(data){Pika.showMessage(data.success?"Success":"Error",data.message,data.success,data.success)}).fail(Pika.ajaxFail)})});return false}}}(Pika.RBdigital||{});
Pika.ResultsList=function(){return{statusList:[],seriesList:[],addIdToSeriesList:function(isbn){this.seriesList[this.seriesList.length]=isbn},initializeDescriptions:function(){$(".descriptionTrigger").each(function(){var descElement=$(this),descriptionContentClass=descElement.data("content_class");options={html:true,trigger:"hover",title:"Description",content:Pika.ResultsList.loadDescription(descriptionContentClass)};descElement.popover(options)})},lessFacets:function(name){$("#more"+name+",#narrowGroupHidden_"+name).toggle()},moreFacets:function(name){$("#more"+name+",#narrowGroupHidden_"+name).toggle()},loadDescription:function(descriptionContentClass){var contentHolder=$(descriptionContentClass);return contentHolder[0].innerHTML},moreFacetPopup:function(title,name){Pika.showMessage(title,$("#moreFacetPopup_"+name).html())},toggleRelatedManifestations:function(manifestationId){$("#relatedRecordPopup_"+manifestationId).toggleClass("hidden");var manifestationToggle=$("#manifestation-toggle-"+manifestationId);manifestationToggle.toggleClass("collapsed");if(manifestationToggle.hasClass("collapsed")){manifestationToggle.html("+")}else{manifestationToggle.html("-")}return false}}}(Pika.ResultsList||{});
Pika.Searches=function(){$(function(){Pika.Searches.enableSearchTypes();Pika.Searches.initAutoComplete();if(!Globals.opac&&!Globals.loggedIn&&Pika.hasLocalStorage()&&$('input[name="showCovers"]').length==0){var showCovers=window.localStorage.getItem("showCovers")||false;if(showCovers.length>0){$("<input>").attr({type:"hidden",name:"showCovers",value:showCovers}).appendTo("#searchForm")}}});return{searchGroups:[],curPage:1,displayMode:"list",displayModeClasses:{covers:"home-page-browse-thumbnails",list:""},getCombinedResults:function(fullId,shortId,source,searchTerm,searchType,numberOfResults){var url="/Union/AJAX",params={method:"getCombinedResults",source:source,numberOfResults:numberOfResults,id:fullId,searchTerm:searchTerm,searchType:searchType,showCovers:$("#hideCovers").is(":checked")?"on":"off"},section=$("#combined-results-section-results-"+shortId);$.getJSON(url,params,function(data){if(data.success===false){section.html('<div class="clearfix"></div>Error loading results.<br>'+data.error)}else{section.html(data.results)}}).fail(function(){section.html('<div class="clearfix"></div>Failed to fetch results.')});return false},combinedResultsDefinedOrder:[],reorderCombinedResults:function(){if($("#combined-results-column-0").is(":visible")){if($(".combined-results-column-0","#combined-results-column-0").length==0){$(".combined-results-column-0").detach().appendTo("#combined-results-column-0");$(".combined-results-column-1").detach().appendTo("#combined-results-column-1")}}else{if($(".combined-results-section","#combined-results-all-column").length==0){$.each(Pika.Searches.combinedResultsDefinedOrder,function(i,id){el=$(id).parents(".combined-results-section").detach().appendTo("#combined-results-all-column")})}}return false},getPreferredDisplayMode:function(){if(!Globals.opac&&Pika.hasLocalStorage()){temp=window.localStorage.getItem("searchResultsDisplayMode");if(Pika.Searches.displayModeClasses.hasOwnProperty(temp)){Pika.Searches.displayMode=temp;$('input[name="view"]',"#searchForm").val(Pika.Searches.displayMode)}}},toggleDisplayMode:function(selectedMode){var mode=this.displayModeClasses.hasOwnProperty(selectedMode)?selectedMode:this.displayMode,searchBoxView=$('input[name="view"]',"#searchForm"),paramString=Pika.replaceQueryParam("page","",Pika.replaceQueryParam("view",mode));this.displayMode=mode;this.curPage=1;if(searchBoxView)searchBoxView.val(this.displayMode);if(!Globals.opac&&Pika.hasLocalStorage()){window.localStorage.setItem("searchResultsDisplayMode",this.displayMode)}if(mode=="list")$("#hideSearchCoversSwitch").show();else $("#hideSearchCoversSwitch").hide();location.replace(location.pathname+paramString)},getMoreResults:function(){var url="/Search/AJAX",params=Pika.replaceQueryParam("page",this.curPage+1)+"&method=getMoreSearchResults",divClass=this.displayModeClasses[this.displayMode];params=Pika.replaceQueryParam("view",this.displayMode,params);if(params.search(/[?;&]replacementTerm=/)!=-1){var searchTerm=location.search.split("replacementTerm=")[1].split("&")[0];params=Pika.replaceQueryParam("lookfor",searchTerm,params)}$.getJSON(url+params,function(data){if(data.success==false){Pika.showMessage("Error loading search information","Sorry, we were not able to retrieve additional results.")}else{var newDiv=$(data.records).hide();$("."+divClass).filter(":last").after(newDiv);newDiv.fadeIn("slow");if(data.lastPage)$("#more-browse-results").hide();else Pika.Searches.curPage++}}).fail(Pika.ajaxFail);return false},initAutoComplete:function(){try{$("#lookfor").autocomplete({source:function(request,response){var url=Globals.path+"/Search/AJAX",params={method:"GetAutoSuggestList",searchTerm:$("#lookfor").val()};$.getJSON(url,params,function(data){response(data)})},position:{my:"left top",at:"left bottom",of:"#lookfor",collision:"none"},minLength:4,delay:600})}catch(e){alert("error during autocomplete setup"+e)}},sendEmail:function(){var url="/Search/AJAX";$.getJSON(url,{method:"sendEmail",from:$("#from").val(),to:$("#to").val(),message:$("#message").val(),sourceUrl:window.location.href,"g-recaptcha-response":typeof grecaptcha!=="undefined"?grecaptcha.getResponse():false},function(data){if(data.result){Pika.showMessage("Success",data.message)}else{Pika.showMessage("Error",data.message)}});return false},enableSearchTypes:function(){var searchTypeElement=$("#searchSource");var catalogType="catalog";if(searchTypeElement){var selectedSearchType=$(searchTypeElement.find(":selected"));if(selectedSearchType){catalogType=selectedSearchType.data("catalog_type")}}if(catalogType=="islandora"){$(".islandoraType").show();$(".catalogType,.genealogyType,.ebscoType").hide()}else if(catalogType=="genealogy"){$(".genealogyType").show();$(".catalogType,.islandoraType,.ebscoType").hide()}else if(catalogType=="ebsco"){$(".ebscoType").show();$(".catalogType,.islandoraType,.genealogyType").hide()}else{$(".catalogType").show();$(".genealogyType,.islandoraType,.ebscoType").hide()}},lastSpellingTimer:undefined,getSpellingSuggestion:function(query,process,isAdvanced){if(Pika.Searches.lastSpellingTimer!=undefined){clearTimeout(Pika.Searches.lastSpellingTimer);Pika.Searches.lastSpellingTimer=undefined}var url="/Search/AJAX?method=GetAutoSuggestList&searchTerm="+query;if(isAdvanced){}Pika.Searches.lastSpellingTimer=setTimeout(function(){$.get(url,function(data){process(data)},"json")},500)},processSearchForm:function(){var searchSource=$("#searchSource");if(searchSource.val()=="existing"){$(".existingFilter").prop("checked",true);var originalSearchSource=$("#existing_search_option").data("original_type");searchSource.val(originalSearchSource)}},resetSearchType:function(){if($("#lookfor").val()==""){$("#searchSource").val($("#default_search_type").val())}return true},updateSearchTypes:function(catalogType,searchType,searchFormId){if(catalogType=="catalog"){$("#basicType").val(searchType);$("#genealogyType").remove();$("#islandoraType").remove();$("#ebscoType").remove()}else if(catalogType=="archive"){$("#islandoraType").val(searchType);$("#genealogyType").remove();$("#ebscoType").remove();$("#basicType").remove()}else if(catalogType=="ebsco"){$("#ebscoType").val(searchType);$("#genealogyType").remove();$("#islandoraType").remove();$("#basicType").remove()}else{$("#genealogyType").val(searchType);$("#basicType").remove();$("#islandoraType").remove();$("#ebscoType").remove()}$(searchFormId).submit();return false},filterAll:function(){$(".existingFilter").prop("checked",true)},loadExploreMoreBar:function(section,searchTerm){var url="/Search/AJAX";var params="method=loadExploreMoreBar&section="+encodeURIComponent(section);params+="&searchTerm="+encodeURIComponent(searchTerm);var fullUrl=url+"?"+params;$.getJSON(fullUrl,function(data){if(data.success==true){$("#explore-more-bar-placeholder").html(data.exploreMoreBar);Pika.initCarousels()}})}}}(Pika.Searches||{});
function TitleScroller(scrollerId,scrollerShortName,container,autoScroll,style){this.scrollerTitles=[];this.currentScrollerIndex=0;this.numScrollerTitles=0;this.scrollerId=scrollerId;this.scrollerShortName=scrollerShortName;this.container=container;this.scrollInterval=0;this.swipeInterval=5;this.autoScroll=typeof autoScroll=="undefined"?false:autoScroll;this.style=typeof style=="undefined"?"horizontal":style}TitleScroller.prototype.loadTitlesFrom=function(jsonUrl){jsonUrl=decodeURIComponent(jsonUrl);var scroller=this,scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody");scrollerBody.hide();$("#titleScrollerSelectedTitle"+this.scrollerShortName+",#titleScrollerSelectedAuthor"+this.scrollerShortName).html("");$(".scrollerLoadingContainer").show();$.getJSON(jsonUrl,function(data){scroller.loadTitlesFromJsonData(data)}).error(function(){scrollerBody.html("Unable to load titles. Please try again later.").show();$(".scrollerLoadingContainer").hide()})};TitleScroller.prototype.loadTitlesFromJsonData=function(data){var scroller=this,scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody");try{if(data.error)throw{description:data.error};if(data.titles.length==0){scrollerBody.html("No titles were found for this list. Please try again later.");$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerLoadingContainer").hide();scrollerBody.show()}else{scroller.scrollerTitles=[];var i=0;$.each(data.titles,function(key,val){scroller.scrollerTitles[i++]=val});if(scroller.container&&data.titles.length>0){$("#"+scroller.container).fadeIn()}scroller.numScrollerTitles=data.titles.length;if(this.style=="horizontal"||this.style=="vertical"){scroller.currentScrollerIndex=data.currentIndex}else{scroller.currentScrollerIndex=0}TitleScroller.prototype.updateScroller.call(scroller)}}catch(err){if(scrollerBody!=null){scrollerBody.html("Error loading titles from data : '"+err.description+"' Please try again later.").show();$(".scrollerLoadingContainer").hide()}}};TitleScroller.prototype.updateScroller=function(){var scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody");try{var scrollerBodyContents="",curScroller=this;if(this.style=="horizontal"){for(var i in this.scrollerTitles){scrollerBodyContents+=this.scrollerTitles[i]["formattedTitle"]}scrollerBody.html(scrollerBodyContents).width(this.scrollerTitles.length*300).waitForImages(function(){TitleScroller.prototype.finishLoadingScroller.call(curScroller)})}else if(this.style=="vertical"){for(var j in this.scrollerTitles){scrollerBodyContents+=this.scrollerTitles[j]["formattedTitle"]}scrollerBody.html(scrollerBodyContents).height(this.scrollerTitles.length*131).waitForImages(function(){TitleScroller.prototype.finishLoadingScroller.call(curScroller)})}else if(this.style=="text-list"){for(var i in this.scrollerTitles){scrollerBodyContents+=this.scrollerTitles[i]["formattedTextOnlyTitle"]}scrollerBody.html(scrollerBodyContents).height(this.scrollerTitles.length*40);TitleScroller.prototype.finishLoadingScroller.call(curScroller)}else{this.currentScrollerIndex=0;scrollerBody.html(this.scrollerTitles[this.currentScrollerIndex]["formattedTitle"]);TitleScroller.prototype.finishLoadingScroller.call(this)}}catch(err){alert("error in updateScroller for scroller "+this.scrollerId+" "+err.description);scrollerBody.html("Error loading titles from data: '"+err+"' Please try again later.").show();$(".scrollerLoadingContainer").hide()}};TitleScroller.prototype.finishLoadingScroller=function(){$(".scrollerLoadingContainer").hide();$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody").show();TitleScroller.prototype.activateCurrentTitle.call(this);var curScroller=this;$(".scrollerTitle").on("mouseover",null,{scroller:curScroller},function(){curScroller.hovered=true}).on("mouseout",null,{scroller:curScroller},function(){curScroller.hovered=false});curScroller.hovered=false;if(this.autoScroll&&this.scrollInterval==0){this.scrollInterval=setInterval(function(){if(!curScroller.hovered){curScroller.scrollToRight()}},5e3)}};TitleScroller.prototype.scrollToRight=function(){this.currentScrollerIndex++;if(this.currentScrollerIndex>this.numScrollerTitles-1)this.currentScrollerIndex=0;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.scrollToLeft=function(){this.currentScrollerIndex--;if(this.currentScrollerIndex<0)this.currentScrollerIndex=this.numScrollerTitles-1;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeToRight=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex-=customSwipeInterval;if(this.currentScrollerIndex<0)this.currentScrollerIndex=this.numScrollerTitles-1;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeToLeft=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex+=customSwipeInterval;if(this.currentScrollerIndex>this.numScrollerTitles-1)this.currentScrollerIndex=0;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeUp=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex-=customSwipeInterval;if(this.currentScrollerIndex<0)this.currentScrollerIndex=this.numScrollerTitles-1;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.swipeDown=function(customSwipeInterval){customSwipeInterval=typeof customSwipeInterval==="undefined"?this.swipeInterval:customSwipeInterval;this.currentScrollerIndex+=customSwipeInterval;if(this.currentScrollerIndex>this.numScrollerTitles-1)this.currentScrollerIndex=0;TitleScroller.prototype.activateCurrentTitle.call(this)};TitleScroller.prototype.activateCurrentTitle=function(){if(this.numScrollerTitles==0){return}var scrollerTitles=this.scrollerTitles,scrollerShortName=this.scrollerShortName,currentScrollerIndex=this.currentScrollerIndex,scrollerBody=$("#"+this.scrollerId+" .scrollerBodyContainer .scrollerBody"),scrollerTitleId="#scrollerTitle"+this.scrollerShortName+currentScrollerIndex;$("#tooltip").hide();if(this.style=="horizontal"){$("#titleScrollerSelectedTitle"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["title"]);$("#titleScrollerSelectedAuthor"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["author"]);if($(scrollerTitleId).length!=0){var widthItemsLeft=$(scrollerTitleId).position().left,widthCurrent=$(scrollerTitleId).width(),containerWidth=$("#"+this.scrollerId+" .scrollerBodyContainer").width(),leftPosition=-(widthItemsLeft+widthCurrent/2-containerWidth/2);scrollerBody.animate({left:leftPosition+"px"},400,function(){for(var i in scrollerTitles){var scrollerTitleId2="#scrollerTitle"+scrollerShortName+i;$(scrollerTitleId2).removeClass("selected")}$(scrollerTitleId).addClass("selected")})}}else if(this.style=="vertical"){$("#titleScrollerSelectedTitle"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["title"]);$("#titleScrollerSelectedAuthor"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["author"]);if($(scrollerTitleId).length!=0){var relativeTopOfElement=$(scrollerTitleId).position().top,topPosition=25-relativeTopOfElement;scrollerBody.animate({top:topPosition+"px"},400,function(){for(var i in scrollerTitles){var scrollerTitleId2="#scrollerTitle"+scrollerShortName+i;$(scrollerTitleId2).removeClass("selected")}$(scrollerTitleId).addClass("selected")})}}else if(this.style=="text-list"){}else{$("#titleScrollerSelectedTitle"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["title"]);$("#titleScrollerSelectedAuthor"+scrollerShortName).html(scrollerTitles[currentScrollerIndex]["author"]);scrollerBody.left="0px";scrollerBody.html(this.scrollerTitles[currentScrollerIndex]["formattedTitle"])}};(function($){$.fn.waitForImages=function(finishedCallback,eachCallback){eachCallback=eachCallback||function(){};if(!$.isFunction(finishedCallback)||!$.isFunction(eachCallback)){throw{name:"invalid_callback",message:"An invalid callback was supplied."}}var objs=$(this),allImgs=objs.find("img"),allImgsLength=allImgs.length,allImgsLoaded=0;if(allImgsLength==0){finishedCallback.call(this)}else{setTimeout(function(){finishedCallback.call(this)},1e4)}return objs.each(function(){var obj=$(this),imgs=obj.find("img");if(imgs.length==0){return}imgs.each(function(){var image=new Image,imgElement=this;image.onload=function(){allImgsLoaded++;eachCallback.call(imgElement,allImgsLoaded,allImgsLength);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0])}return false};image.onabort=function(){allImgsLoaded++;eachCallback.call(imgElement,allImgsLoaded,allImgsLength);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0])}return false};image.onerror=function(){allImgsLoaded++;eachCallback.call(imgElement,allImgsLoaded,allImgsLength);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0])}return false};image.src=this.src})})}})(jQuery);
Pika.Wikipedia=function(){return{getWikipediaArticle:function(articleName){var url="/Author/AJAX?method=getWikipediaData&articleName="+articleName;$.getJSON(url,function(data){if(data.success)$("#wikipedia_placeholder").html(data.formatted_article).fadeIn()})}}}(Pika.Wikipedia);
